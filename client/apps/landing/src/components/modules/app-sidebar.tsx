import {
  Sidebar,
  SidebarContent,
  SidebarGroup,
  SidebarGroupContent,
  SidebarMenu,
  SidebarMenuButton,
  SidebarMenuItem,
  useSidebar,
} from "@/components/ui/sidebar";
import { Link } from "@tanstack/react-router";
import { Castle, Database, Gamepad2, Home, Scale, Twitter, X } from "lucide-react";
import { TypeH2 } from "../typography/type-h2";

// Menu items.
const items = [
  {
    title: "Home",
    url: "/",
    icon: Home,
  },
  // { title: "Claim", url: "/claim", icon: Coins },

  {
    title: "Claim Passes",
    url: "/mint",
    icon: Castle,
  },
  {
    title: "Realms",
    url: "/realms",
    icon: Gamepad2,
  },
  {
    title: "Season Passes",
    url: "/season-passes",
    icon: Gamepad2,
  },
  {
    title: "Loot Chests",
    url: "/loot-chests",
    icon: Gamepad2,
  },
  {
    title: "Marketplace",
    url: "/trade",
    icon: Scale,
  },
  {
    title: "Data",
    icon: Database,
    url: "/data",
  },
];

export function AppSidebar() {
  const { setOpenMobile, isMobile } = useSidebar();

  const handleLinkClick = () => {
    if (isMobile) {
      setOpenMobile(false);
    }
  };

  return (
    <Sidebar className="p-3">
      <SidebarContent className="dark:bg-dark-wood border rounded-xl relative">
        {isMobile && (
          <button
            onClick={() => setOpenMobile(false)}
            className="absolute top-4 right-4 p-1 text-gray-300 hover:text-white focus:outline-none z-50"
            aria-label="Close sidebar"
          >
            <X className="h-6 w-6" />
          </button>
        )}
        <a href="/" onClick={handleLinkClick}>
          <div className="flex flex-col items-center">
            <svg
              viewBox="0 0 256 217"
              fill="currentColor"
              className="w-16 h-16 mt-4"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M256 102.769C255.814 103.383 255.667 103.941 255.531 104.456C255.265 105.463 255.044 106.304 254.662 107.066C253.634 109.144 252.637 111.243 251.639 113.342L251.638 113.343L251.638 113.344C249.019 118.854 246.398 124.368 243.215 129.532C238.633 136.961 232.223 142.615 222.881 143.509C221.471 143.641 220.001 143.582 218.597 143.37C216.922 143.118 215.292 142.861 213.699 142.61L213.696 142.609C199.605 140.387 188.428 138.624 174.92 145.274C171.775 146.824 168.874 146.598 166.1 144.665C164.685 143.677 163.405 142.487 162.136 141.306L161.988 141.169C154.107 132.2 140.401 127.122 131.106 127.122C111.258 127.122 94.4373 143.4 94.4373 143.4C90.9215 146.493 87.3262 146.996 82.8834 144.844C69.415 138.311 55.2134 140.512 40.5441 142.784C39.3192 142.974 38.0911 143.164 36.8598 143.35C30.9206 144.244 25.5774 142.701 20.9359 139.205C16.1091 135.57 12.1033 131.147 9.54094 125.486C7.16395 120.236 4.50225 115.111 1.7942 110.026C-0.483479 105.755 -0.649008 101.577 1.62205 97.3066C2.058 96.486 2.48637 95.6599 2.91494 94.8333L2.91498 94.8333L2.91501 94.8332L2.91505 94.8331L2.91508 94.833L2.91512 94.833L2.91515 94.8329L2.91526 94.8327C3.81442 93.0986 4.71449 91.3627 5.68743 89.6724C20.8764 63.327 36.0653 36.9947 51.3072 10.689C52.7439 8.20604 54.4257 5.84892 56.1274 3.53153C57.4847 1.69085 59.4313 0.830105 61.7487 0.763893C62.7964 0.735009 63.8442 0.684255 64.8915 0.633522C66.4849 0.55633 68.0775 0.479185 69.6676 0.479185C108.501 0.465942 147.34 0.465942 186.173 0.465942C187.149 0.465942 188.127 0.491205 189.104 0.516464C189.931 0.537829 190.758 0.559191 191.583 0.565259C196.105 0.604986 199.263 2.72375 201.488 6.62359C204.948 12.7021 208.46 18.7488 211.972 24.7962C213.77 27.8918 215.568 30.9877 217.359 34.088C219.586 37.9438 221.813 41.7993 224.04 45.6549L224.131 45.812L224.138 45.8235C233.899 62.7211 243.661 79.62 253.371 96.5452C254.18 97.9562 254.756 99.4981 255.294 100.938C255.531 101.573 255.761 102.187 256 102.762V102.769ZM93.0535 91.6522C90.5639 92.1819 88.8425 91.1291 87.2732 90.1624C84.2143 88.2754 81.1685 86.3023 78.381 84.0379C69.0055 76.4037 60.8747 67.5844 53.843 57.7387C53.0353 56.6131 52.0289 55.3485 50.8238 54.8519C48.1025 53.7263 45.6726 54.8652 43.5604 56.6992C41.627 58.3744 41.1371 60.4004 41.9382 62.8635C45.6043 74.0755 47.4415 85.6671 49.2776 97.2518L49.2776 97.2519L49.2777 97.2525L49.2778 97.2532L49.2779 97.2538L49.278 97.2545L49.2781 97.2551L49.2782 97.2557L49.2783 97.2564L49.2784 97.257L49.2785 97.2577C49.717 100.024 50.1553 102.79 50.6185 105.55C51.2591 109.364 51.617 113.224 51.9749 117.085L51.9749 117.085C52.1941 119.45 52.4134 121.814 52.6976 124.169C53.1081 127.578 54.3595 128.75 57.7495 129.254C58.9695 129.436 60.1976 129.57 61.4252 129.704L61.4278 129.704C62.1115 129.778 62.795 129.853 63.4768 129.936C67.1118 130.379 68.8267 128.863 68.2507 125.215C68.1078 124.316 67.9674 123.416 67.827 122.517C66.6524 114.993 65.4765 107.461 62.8743 100.246C62.3455 98.7836 61.7864 97.3315 61.2276 95.88C60.7088 94.5326 60.1902 93.1856 59.6962 91.8309C59.0274 89.9969 59.1267 88.2026 60.7886 86.9247C62.5101 85.6004 64.4832 85.1436 66.5424 86.1036C67.284 86.4479 67.9726 87.0041 68.5553 87.5868C74.4613 93.5127 81.3738 98.0614 88.518 102.332C100.019 109.205 111.884 115.21 125.073 118.117C126.649 118.468 128.47 118.534 130.006 118.117L130.577 117.962L131.155 117.805L131.162 117.803C135.525 116.619 139.92 115.427 144.069 113.687C159.669 107.152 174.401 99.1473 186.802 87.3749C189.087 85.2032 191.689 85.0575 194.026 86.6731C195.913 87.9774 196.224 90.0565 194.979 93.1883C194.703 93.8812 194.418 94.5715 194.133 95.2621C193.639 96.4586 193.144 97.6559 192.695 98.8692C189.794 106.71 188.499 114.898 187.205 123.084L187.205 123.084L187.205 123.085L187.205 123.085L187.205 123.085L187.205 123.085L187.205 123.086L187.204 123.086L187.204 123.086L187.204 123.087C186.942 124.744 186.68 126.401 186.405 128.055C186.041 130.247 186.902 131.081 189.305 130.942C190.513 130.869 191.719 130.735 192.924 130.601L192.925 130.601C194.348 130.443 195.771 130.284 197.198 130.227C199.628 130.128 201.011 128.883 201.587 126.704C202.11 124.745 202.594 122.738 202.792 120.726C204.732 101.206 207.732 81.886 213.088 62.9827C214.022 59.6787 213.148 57.4275 210.248 55.6729C207.076 53.7528 204.203 54.0441 201.779 56.633C200.753 57.7297 199.818 58.9125 198.881 60.0984L198.773 60.2349C189.934 71.4379 179.963 81.4688 168.137 89.5466C167.764 89.8016 167.393 90.1112 167.017 90.4247L167.017 90.4248C165.752 91.4792 164.434 92.5786 162.801 91.7978C161.219 91.042 161.416 89.4422 161.603 87.9197C161.664 87.4284 161.723 86.9452 161.721 86.5009C161.682 79.1566 161.681 71.8123 161.681 64.468C161.68 58.2258 161.68 51.9835 161.655 45.7412C161.649 43.841 161.43 41.8877 160.973 40.0471C160.384 37.6436 158.709 36.465 156.292 36.2664C152.273 35.9486 149.433 38.2726 148.956 42.3578C148.808 43.6147 148.689 44.8738 148.569 46.1328C148.405 47.8652 148.24 49.5974 148.002 51.3228C147.658 53.8256 145.95 54.4878 143.924 52.9384C143.172 52.3626 142.534 51.6251 141.905 50.8972L141.905 50.897L141.823 50.8022C141.771 50.7417 141.718 50.6812 141.666 50.621C140.854 49.7003 140.054 48.7688 139.254 47.8371C137.626 45.9416 135.997 44.0455 134.27 42.2387C133.198 41.1099 131.928 40.1623 130.665 39.2198L130.664 39.2192L130.664 39.219L130.664 39.2188L130.663 39.2186L130.663 39.2184L130.663 39.2182L130.663 39.218L130.662 39.2178L130.662 39.2175C130.289 38.939 129.916 38.6608 129.549 38.3785C128.245 37.3787 126.835 37.392 125.55 38.3785C125.234 38.6227 124.914 38.8647 124.594 39.1071C123.188 40.1725 121.776 41.2424 120.584 42.5101C118.83 44.3729 117.16 46.3166 115.489 48.2606C114.416 49.5091 113.343 50.7577 112.248 51.985C111.282 53.0642 110.176 54.1699 108.527 53.574C107.162 53.0816 107.047 51.8287 106.938 50.6399L106.938 50.6388C106.925 50.5014 106.913 50.3648 106.898 50.2304C106.76 48.9013 106.637 47.5696 106.514 46.2376L106.514 46.2365L106.514 46.2361L106.514 46.2356L106.514 46.2351L106.514 46.2346L106.514 46.2341L106.514 46.2337L106.514 46.2332L106.514 46.2327L106.514 46.2322C106.361 44.5733 106.208 42.914 106.024 41.2587C105.713 38.4911 103.151 36.4319 99.9196 36.2532C96.8607 36.081 94.6029 37.531 94.0003 40.3649C93.5832 42.3446 93.3846 44.4038 93.3779 46.4298C93.3452 54.9138 93.3453 63.4002 93.3455 71.8861C93.3457 77.1091 93.3458 82.3319 93.3382 87.5537C93.3382 88.5073 93.2502 89.4609 93.1629 90.4059C93.1236 90.8322 93.0844 91.2567 93.0535 91.6786V91.6522ZM159.906 116.491L159.905 116.491C155.36 118.538 151.196 120.413 148.427 121.901C156.147 124.069 163.774 128.055 168.938 133.079C170.945 134.145 173.938 132.348 174.514 130.117C174.971 128.359 175.619 126.211 176.333 123.843L176.333 123.842L176.333 123.842L176.333 123.841L176.333 123.84C177.978 118.384 179.975 111.757 180.811 106.029C175.776 109.343 167.334 113.146 159.907 116.49L159.906 116.491L159.906 116.491L159.906 116.491ZM105.208 121.945L105.208 121.945C98.3287 119.438 82.4139 113.638 76.1776 107.913C76.3108 108.833 80.5695 126.431 81.1424 128.798L81.1958 129.019C82.0764 132.422 83.5331 135.11 86.6914 133.601C91.5502 129.982 102.294 123.539 108.41 123.172C108.167 123.024 106.991 122.595 105.208 121.945ZM192.462 215.001L192.461 215.001C191.09 214.613 189.325 214.113 187.645 213.402C179.342 209.899 173.502 203.53 168.695 196.22C165.656 191.592 162.833 186.819 160.011 182.049L160.011 182.048C158.917 180.198 157.823 178.349 156.717 176.509C156.077 175.446 155.439 174.339 154.791 173.213C151.802 168.023 148.59 162.447 143.949 159.133C133.633 151.764 122.784 151.738 112.461 159.041C106.694 163.119 101.934 170.609 98.2788 176.674C97.0998 178.633 95.9383 180.603 94.7768 182.573L94.7763 182.574L94.7757 182.575L94.7752 182.576L94.7747 182.577C92.0299 187.233 89.2849 191.889 86.3078 196.392C81.5538 203.583 75.7802 209.846 67.6097 213.342C65.8551 214.09 64.021 214.752 62.1605 215.17C59.128 215.852 56.4133 214.958 54.2548 212.74C52.3413 210.773 51.1813 207.673 53.6377 206.481C55.0414 205.806 56.4915 205.183 57.9878 204.76C64.6487 202.873 69.7337 198.715 73.7727 193.345C76.733 189.41 79.4547 185.292 82.1752 181.176L82.1753 181.176L82.1754 181.175L82.1754 181.175L82.1755 181.175L82.1756 181.175L82.1757 181.175L82.1758 181.175L82.1759 181.175L82.176 181.174L82.1769 181.173L82.1779 181.172L82.1788 181.17L82.1797 181.169L82.1807 181.167L82.1816 181.166L82.1826 181.165L82.1835 181.163C82.9711 179.971 83.7587 178.78 84.5519 177.593C85.6984 175.878 86.8075 174.136 87.9163 172.395L87.9171 172.393L87.9173 172.393C89.9713 169.167 92.0241 165.943 94.3115 162.894C96.9117 159.431 101.323 155.137 104.68 151.868C105.033 151.525 105.374 151.193 105.701 150.874C111.243 145.464 123.299 141.705 131.355 141.705C141.587 141.705 151.19 149.353 154.24 153.277C158.606 157.725 161.377 162.723 164.271 167.944L164.272 167.945C165.358 169.905 166.462 171.897 167.675 173.903C171.403 180.06 175.342 186.112 179.501 191.985C183.97 198.295 189.664 203.168 197.364 205.254C198.516 205.565 199.622 206.068 200.701 206.591C203.37 207.882 202.8 210.773 200.701 212.872C199.112 214.454 197.166 215.328 193.782 215.395L193.789 215.388C193.416 215.271 192.965 215.143 192.462 215.001ZM99.6635 209.216L99.6633 209.217L99.6631 209.217L99.6629 209.217L99.6627 209.218L99.6625 209.218L99.6623 209.218L99.6621 209.218L99.6619 209.219C99.3786 209.596 99.0918 209.978 98.788 210.354C99.8039 212.322 101.256 212.746 102.737 213.178L102.84 213.208C109.455 215.155 116.241 215.976 123.101 216.234C132.874 216.605 142.554 215.976 152.015 213.268C156.822 211.897 157.286 210.547 153.757 207.143C147.824 201.409 141.097 196.88 133.297 193.974C129.371 192.511 125.617 192.557 121.717 194.02C114.05 196.9 107.455 201.416 101.542 206.984C100.846 207.64 100.263 208.418 99.6635 209.216ZM221.829 165.49C221.702 165.756 221.576 166.027 221.448 166.303C220.534 168.273 219.531 170.436 217.254 172.007C215.533 173.199 213.169 173.405 211.116 172.719C202.443 169.824 194.219 171.295 186.075 174.034C182.136 175.36 181.407 175.19 179.202 172.275C177.991 170.665 176.773 169.045 175.746 167.363C174.429 165.196 174.833 163.957 177.263 162.466C180.997 160.175 185.274 158.798 189.869 157.885C197.854 156.295 205.74 155.975 213.454 158.669C215.414 159.35 217.301 160.186 219.108 161.094C220.949 162.017 221.684 163.488 221.823 165.49H221.829ZM76.5552 159.519C69.7354 156.09 61.9291 155.182 54.8511 154.671L54.8643 154.666C49.19 154.774 43.9659 155.747 39.7416 157.309C34.0938 159.392 31.399 161.538 35.4776 166.878C37.9671 170.14 40.4236 170.876 45.2305 169.781C48.0578 169.137 51.0638 168.725 54.0168 168.612C59.5455 168.401 64.6305 169.855 69.6096 171.49C72.7547 172.527 73.7478 172.321 75.5422 170.179C76.681 168.813 77.7271 167.403 78.7269 165.984C80.998 162.756 80.5809 161.543 76.5552 159.519ZM150.567 191.381L150.565 191.379C151.531 190.633 151.416 189.121 151.053 188.186C147.507 179.107 141.611 172.156 132.72 167.871C129.209 166.177 125.809 166.189 122.304 167.871C116.812 170.503 112.188 174.225 108.782 179.224C107.37 181.302 106.268 183.595 105.167 185.885L105.167 185.886C104.746 186.76 104.326 187.635 103.888 188.497C103.355 189.558 103.279 190.554 104.996 190.941C105.216 190.733 105.437 190.516 105.662 190.295L105.662 190.294L105.662 190.294C106.16 189.804 106.674 189.297 107.235 188.849C107.805 188.392 108.369 187.922 108.932 187.452L108.933 187.451L108.934 187.45L108.935 187.449L108.936 187.449L108.937 187.448L108.938 187.447L108.938 187.447C110.498 186.146 112.061 184.843 113.782 183.802C120.241 179.893 127.151 178.468 134.56 180.766C139.642 182.337 144.008 185.08 147.783 188.802C148.302 189.314 148.841 189.804 149.457 190.364C149.799 190.676 150.165 191.009 150.565 191.379L150.555 191.386L150.567 191.381ZM48.6247 193.724C54.6632 195.697 60.9532 192.943 64.0917 186.904C59.7681 183.435 54.8684 181.488 49.2669 181.627C47.7507 181.661 46.1748 182.098 44.7579 182.68C41.8976 183.859 41.454 185.11 42.5133 188.076C43.5661 191.016 45.7709 192.791 48.6247 193.724ZM190.921 187.035L190.928 187.029C193.206 191.253 196.622 193.49 200.919 194.245C205.574 195.066 210.374 192.689 212.221 188.981C213.903 185.618 213.148 183.459 209.599 182.367C207.812 181.817 205.825 181.519 203.965 181.652C199.214 181.989 194.932 183.702 190.928 187.029L190.928 187.028L190.921 187.035ZM131.971 91.548C131.969 90.1765 131.968 88.8049 131.968 87.4334H131.963C131.963 86.0084 131.979 84.5816 131.995 83.1547C132.034 79.7753 132.072 76.3957 131.895 73.0391C131.749 70.245 131.189 67.3449 130.318 64.8024C129.154 61.3925 126.755 61.3462 125.519 64.7229C124.56 67.3449 123.738 70.3575 123.674 73.2311C123.497 80.9874 123.549 88.7567 123.601 96.525V96.5256V96.5263C123.614 98.3598 123.626 100.193 123.635 102.026C123.65 105.072 125.227 106.992 127.558 107.032C129.933 107.072 131.943 104.748 131.958 101.834C131.979 98.4056 131.975 94.9768 131.971 91.548ZM140.37 103.366C140.353 102.998 140.333 102.651 140.314 102.319V102.318C140.274 101.599 140.237 100.948 140.237 100.301C140.231 90.4419 140.225 80.5896 140.237 70.7308C140.237 69.6515 140.291 68.5657 140.436 67.5063C140.961 63.6329 145.313 63.2092 147.069 65.275C148.547 67.0097 149.38 69.0424 149.386 71.4392C149.386 73.4812 149.39 75.5235 149.394 77.5661V77.5667V77.5689C149.405 83.6983 149.417 89.8297 149.326 95.9573C149.308 97.2616 148.686 98.7448 147.944 99.8174C146.562 101.83 143.424 103.181 140.37 103.373V103.366ZM106.908 99.5712C108.69 101.948 111.059 103.2 114.137 103.67V99.8095V71.0142C114.137 70.0542 114.103 69.0941 114.07 68.134C114.009 66.2801 113.349 64.9427 111.785 64.3269C110.165 63.6913 108.595 63.9627 107.713 65.6313C106.83 67.2865 105.936 69.2729 105.892 71.1467C105.702 79.4165 105.769 87.6995 105.858 95.9759C105.875 97.1942 106.244 98.6906 106.908 99.5712Z"
              />
            </svg>

            <TypeH2 className="p-1 text-lg">REALMS EMPIRE</TypeH2>
          </div>
        </a>
        <SidebarGroup>
          <SidebarGroupContent>
            <SidebarMenu>
              {items.map((item) => (
                <SidebarMenuItem key={item.title}>
                  <SidebarMenuButton asChild>
                    {item.url.startsWith("https") ? (
                      <a
                        href={item.url}
                        target="_blank"
                        rel="noopener noreferrer"
                        className="flex items-center gap-2 py-2 rounded-md hover:bg-secondary font-heading text-xl"
                        onClick={handleLinkClick}
                      >
                        <item.icon />
                        <span>{item.title}</span>
                      </a>
                    ) : (
                      <Link
                        className="[&.active]:font-bold [&.active]:bg-secondary font-heading text-xl"
                        to={item.url}
                        onClick={handleLinkClick}
                      >
                        <item.icon />
                        <span>{item.title}</span>
                      </Link>
                    )}
                  </SidebarMenuButton>
                </SidebarMenuItem>
              ))}
            </SidebarMenu>
            {/* social links */}
            <div className="flex items-center gap-2 mt-8 justify-center">
              <a
                href="https://twitter.com/realms_gg"
                target="_blank"
                rel="noopener noreferrer"
                onClick={handleLinkClick}
              >
                <Twitter />
              </a>
            </div>
          </SidebarGroupContent>
        </SidebarGroup>
      </SidebarContent>
    </Sidebar>
  );
}
