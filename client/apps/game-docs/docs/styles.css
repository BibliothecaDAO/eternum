@layer vocs_preflight {
  @tailwind base;
}
@tailwind components;
@tailwind utilities;

/* Realms Theme â€” Global Overrides */
:root {
  --realm-bg-void: #141520;
  --realm-bg-smoke: #1e2030;
  --realm-surface-iron: #332f28;
  --realm-surface-slate: #383a4a;
  --realm-accent-ember: #c4874a;
  --realm-accent-brass: #c9b06a;
  --realm-accent-arcane: #8088b8;
  --realm-border-etched: #564e3e;
  --realm-border-strong: #6b6250;
}

/* Body font */
body {
  font-family: "Exo 2", sans-serif !important;
}

/* Headings use Cinzel */
.vocs_Content h1,
.vocs_Content h2,
.vocs_Content h3,
.vocs_Content h4,
.vocs_Content h5,
.vocs_Content h6,
h1,
h2,
h3,
h4 {
  font-family: "Cinzel", serif !important;
  letter-spacing: 0.02em;
}

/* Code blocks */
code,
pre,
.vocs_Code {
  font-family: "Source Code Pro", monospace !important;
}

/* Sidebar styling */
.vocs_Sidebar {
  background-color: var(--realm-bg-void) !important;
  border-right-color: var(--realm-border-etched) !important;
}

.vocs_Sidebar a {
  font-family: "Exo 2", sans-serif !important;
}

/* Sidebar chevrons: align right and visible */
.vocs_Sidebar_sectionHeader {
  cursor: pointer !important;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
}

.vocs_Sidebar_sectionCollapse {
  cursor: pointer !important;
  padding: 0.2rem !important;
  color: var(--realm-accent-brass) !important;
  opacity: 0.85;
  transition:
    opacity 0.2s,
    transform 0.25s;
  --vocs_Icon_size: 12px !important;
}

.vocs_Sidebar_sectionCollapse:hover {
  opacity: 1;
}

.vocs_Sidebar_sectionTitle {
  cursor: pointer !important;
}

/* Navigation */
.vocs_NavBar,
.vocs_Header {
  background-color: var(--realm-bg-void) !important;
  border-bottom-color: var(--realm-border-etched) !important;
}

/* Content area */
.vocs_Content {
  color: #e8e4dc;
}

.vocs_Content a {
  color: var(--realm-accent-brass) !important;
}

.vocs_Content a:hover {
  color: var(--realm-accent-ember) !important;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--realm-bg-void);
}

::-webkit-scrollbar-thumb {
  background: var(--realm-border-etched);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--realm-border-strong);
}

/* ============================================
   DEPLOYMENT CAPS TABLE - AGGRESSIVE FIX
   Target: /blitz/military/armies
   ============================================ */

/* The wrapper div */
.vocs_Content .table-deployment-caps {
  width: 100% !important;
  max-width: 100% !important;
  display: block !important;
  box-sizing: border-box !important;
}

/* The table itself - override vocs_Table defaults */
.vocs_Content .table-deployment-caps table,
.vocs_Content .table-deployment-caps .vocs_Table {
  table-layout: fixed !important;
  width: 100% !important;
  min-width: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
}

/* Header cells - equal 25% distribution */
.vocs_Content .table-deployment-caps th:nth-child(1),
.vocs_Content .table-deployment-caps td:nth-child(1) {
  width: 25% !important;
  text-align: center !important;
}

.vocs_Content .table-deployment-caps th:nth-child(2),
.vocs_Content .table-deployment-caps td:nth-child(2) {
  width: 25% !important;
  text-align: center !important;
}

.vocs_Content .table-deployment-caps th:nth-child(3),
.vocs_Content .table-deployment-caps td:nth-child(3) {
  width: 25% !important;
  text-align: center !important;
}

.vocs_Content .table-deployment-caps th:nth-child(4),
.vocs_Content .table-deployment-caps td:nth-child(4) {
  width: 25% !important;
  text-align: center !important;
}

/* ============================================
   PRIZE POOL TABLE - AGGRESSIVE FIX
   Target: /blitz/prize-pool
   ============================================ */

/* The wrapper div */
.vocs_Content .table-stretch-last {
  width: 100% !important;
  max-width: 100% !important;
  display: block !important;
  box-sizing: border-box !important;
}

/* The table itself */
.vocs_Content .table-stretch-last table,
.vocs_Content .table-stretch-last .vocs_Table {
  table-layout: fixed !important;
  width: 100% !important;
  min-width: 100% !important;
  max-width: 100% !important;
  box-sizing: border-box !important;
}

/* First column constrained */
.vocs_Content .table-stretch-last.table-first-col-wide th:first-child,
.vocs_Content .table-stretch-last.table-first-col-wide td:first-child {
  width: 25% !important;
  white-space: nowrap !important;
}

/* Second column fills remaining space */
.vocs_Content .table-stretch-last.table-first-col-wide th:last-child,
.vocs_Content .table-stretch-last.table-first-col-wide td:last-child {
  width: 75% !important;
}

/* ============================================
   BASE TABLE STYLES (scoped to avoid impacting other tables)
   ============================================ */

/* Ensure Vocs table wrappers don't constrain width */
.vocs_Content [data-rehype-pretty-code-fragment],
.vocs_Content .vocs_Table,
.vocs_Content div:has(> table) {
  width: 100% !important;
  max-width: 100% !important;
}

.vocs_Content table {
  width: 100% !important;
  border-collapse: collapse;
  background-color: var(--realm-surface-iron);
  border: 1px solid var(--realm-border-etched);
  border-radius: 10px;
  overflow: hidden;
}

.vocs_Content th {
  font-family: "Exo 2", sans-serif;
  font-weight: 700;
  font-size: 0.85rem;
  letter-spacing: 0.005em;
  text-transform: none;
  color: var(--realm-accent-brass);
  background-color: var(--realm-surface-slate);
  border-bottom: 1px solid var(--realm-border-strong) !important;
  border-left: none !important;
  border-right: none !important;
  border-top: none !important;
  padding: 0.6rem 1rem !important;
}

.vocs_Content td {
  border-bottom: 1px solid var(--realm-border-etched) !important;
  vertical-align: middle;
  color: #e8e4dc;
  border-left: none !important;
  border-right: none !important;
  border-top: none !important;
  padding: 0.6rem 1rem !important;
}

/* Scoped table-layout: fixed for specific tables */
.vocs_Content .table-fixed-layout table,
.table-fixed-layout table.vocs_Table,
.table-fixed-layout table {
  table-layout: fixed !important;
}

/* Widen first column slightly for text to fit on one line */
.table-first-col-wide td:first-child,
.table-first-col-wide th:first-child {
  white-space: nowrap;
}

/* Ensure images inside tables maintain aspect ratio */
.vocs_Content table img {
  min-width: 24px;
  object-fit: contain;
}

/* ============================================
   MOBILE OVERFLOW PROTECTION
   ============================================ */

/* Ensure code blocks and preformatted text scroll on mobile */
.vocs_Content pre,
.vocs_Content code[class*="language-"],
.vocs_Content .vocs_Code {
  overflow-x: auto !important;
  white-space: pre !important;
  max-width: 100% !important;
  word-wrap: normal !important;
  word-break: keep-all !important;
}

/* Formula blocks in prize pool and similar pages */
.vocs_Content pre code,
.vocs_Content .formula-block,
.vocs_Content div:has(> pre) {
  overflow-x: auto;
  max-width: 100%;
}

/* Mobile-specific: ensure tables don't overflow viewport */
@media (max-width: 768px) {
  .vocs_Content div:has(> table) {
    overflow-x: auto !important;
    display: block !important;
    width: 100% !important;
  }

  .vocs_Content table {
    min-width: 600px !important;
  }
}

/* ============================================
   GLOBAL TABLE ENHANCEMENTS
   ============================================ */

/* Subtle hover state for data rows */
.vocs_Content tbody tr:hover {
  background-color: rgba(201, 176, 106, 0.05);
  transition: background-color 0.15s ease;
}

/* Ensure consistent vertical alignment */
.vocs_Content td,
.vocs_Content th {
  vertical-align: middle !important;
}

/* ============================================
   CONTEXT-AWARE COLUMN WIDTHS
   ============================================ */

/* Narrow first column - for tier/level labels */
.table-first-col-narrow td:first-child,
.table-first-col-narrow th:first-child {
  width: 18%;
  min-width: 100px;
}

/* Medium first column - balanced 4-column tables */
.table-first-col-medium td:first-child,
.table-first-col-medium th:first-child {
  width: 25%;
  min-width: 140px;
}

/* Wide first column - for descriptive text (default) */
.table-first-col-wide td:first-child,
.table-first-col-wide th:first-child {
  width: 30%;
  min-width: 160px;
  white-space: nowrap;
}

/* Auto first column - content-aware */
.table-first-col-auto td:first-child,
.table-first-col-auto th:first-child {
  width: auto;
  white-space: normal;
}
