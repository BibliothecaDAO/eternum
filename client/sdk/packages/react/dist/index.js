import{a as dm}from"./chunk-WV34EKDO.js";import{b,c as A0,d as jo}from"./chunk-LURIOADG.js";var Rl=b((vL,zl)=>{"use strict";function af(e){return e.split(".")}function of(e,n){let t=e.slice();return t.push(n),t}var sf=["apply","construct","defineProperty","deleteProperty","enumerate","get","getOwnPropertyDescriptor","getPrototypeOf","has","isExtensible","ownKeys","preventExtensions","set","setPrototypeOf"],uf={get:1,set:1,deleteProperty:1,has:1,defineProperty:1,getOwnPropertyDescriptor:1};function df(e,n,t){let i=[],r={};t!==void 0&&typeof t.path<"u"&&(i=af(t.path)),t!==void 0&&typeof t.userData<"u"&&(r=t.userData);function a(o,s){let u={rootTarget:e,path:s};Object.assign(u,r);let d={};for(let m of sf){let l=uf[m],c=n[m];typeof c<"u"&&(typeof l<"u"?d[m]=function(){let h=arguments[l];return u.nest=function(p){return p===void 0&&(p=e),a(p,of(s,h))},c.apply(u,arguments)}:d[m]=function(){return u.nest=function(h){return h===void 0&&(h={}),a(h,s)},c.apply(u,arguments)})}return new Proxy(o,d)}return a(e,i)}zl.exports=df});var fe=b(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.isFunction=void 0;function mf(e){return typeof e=="function"}is.isFunction=mf});var Ft=b(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.createErrorClass=void 0;function lf(e){var n=function(i){Error.call(i),i.stack=new Error().stack},t=e(n);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}rs.createErrorClass=lf});var Lm=b(as=>{"use strict";Object.defineProperty(as,"__esModule",{value:!0});as.UnsubscriptionError=void 0;var cf=Ft();as.UnsubscriptionError=cf.createErrorClass(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(i,r){return r+1+") "+i.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}})});var yt=b(os=>{"use strict";Object.defineProperty(os,"__esModule",{value:!0});os.arrRemove=void 0;function yf(e,n){if(e){var t=e.indexOf(n);0<=t&&e.splice(t,1)}}os.arrRemove=yf});var $e=b(Ze=>{"use strict";var Ul=Ze&&Ze.__values||function(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Kl=Ze&&Ze.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},Vl=Ze&&Ze.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.isSubscription=Ze.EMPTY_SUBSCRIPTION=Ze.Subscription=void 0;var $a=fe(),zm=Lm(),Hl=yt(),Rm=function(){function e(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var n,t,i,r,a;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=Ul(o),u=s.next();!u.done;u=s.next()){var d=u.value;d.remove(this)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(n)throw n.error}}else o.remove(this);var m=this.initialTeardown;if($a.isFunction(m))try{m()}catch(f){a=f instanceof zm.UnsubscriptionError?f.errors:[f]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var c=Ul(l),h=c.next();!h.done;h=c.next()){var p=h.value;try{Gl(p)}catch(f){a=a??[],f instanceof zm.UnsubscriptionError?a=Vl(Vl([],Kl(a)),Kl(f.errors)):a.push(f)}}}catch(f){i={error:f}}finally{try{h&&!h.done&&(r=c.return)&&r.call(c)}finally{if(i)throw i.error}}}if(a)throw new zm.UnsubscriptionError(a)}},e.prototype.add=function(n){var t;if(n&&n!==this)if(this.closed)Gl(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}},e.prototype._hasParent=function(n){var t=this._parentage;return t===n||Array.isArray(t)&&t.includes(n)},e.prototype._addParent=function(n){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n},e.prototype._removeParent=function(n){var t=this._parentage;t===n?this._parentage=null:Array.isArray(t)&&Hl.arrRemove(t,n)},e.prototype.remove=function(n){var t=this._finalizers;t&&Hl.arrRemove(t,n),n instanceof e&&n._removeParent(this)},e.EMPTY=function(){var n=new e;return n.closed=!0,n}(),e}();Ze.Subscription=Rm;Ze.EMPTY_SUBSCRIPTION=Rm.EMPTY;function xf(e){return e instanceof Rm||e&&"closed"in e&&$a.isFunction(e.remove)&&$a.isFunction(e.add)&&$a.isFunction(e.unsubscribe)}Ze.isSubscription=xf;function Gl(e){$a.isFunction(e)?e():e.unsubscribe()}});var Dr=b(ss=>{"use strict";Object.defineProperty(ss,"__esModule",{value:!0});ss.config=void 0;ss.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}});var Um=b(Xn=>{"use strict";var Wl=Xn&&Xn.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},Zl=Xn&&Xn.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty(Xn,"__esModule",{value:!0});Xn.timeoutProvider=void 0;Xn.timeoutProvider={setTimeout:function(e,n){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];var r=Xn.timeoutProvider.delegate;return r?.setTimeout?r.setTimeout.apply(r,Zl([e,n],Wl(t))):setTimeout.apply(void 0,Zl([e,n],Wl(t)))},clearTimeout:function(e){var n=Xn.timeoutProvider.delegate;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0}});var Km=b(us=>{"use strict";Object.defineProperty(us,"__esModule",{value:!0});us.reportUnhandledError=void 0;var ff=Dr(),pf=Um();function hf(e){pf.timeoutProvider.setTimeout(function(){var n=ff.config.onUnhandledError;if(n)n(e);else throw e})}us.reportUnhandledError=hf});var Fe=b(ds=>{"use strict";Object.defineProperty(ds,"__esModule",{value:!0});ds.noop=void 0;function gf(){}ds.noop=gf});var $l=b(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.createNotification=et.nextNotification=et.errorNotification=et.COMPLETE_NOTIFICATION=void 0;et.COMPLETE_NOTIFICATION=function(){return ms("C",void 0,void 0)}();function vf(e){return ms("E",void 0,e)}et.errorNotification=vf;function bf(e){return ms("N",e,void 0)}et.nextNotification=bf;function ms(e,n,t){return{kind:e,value:n,error:t}}et.createNotification=ms});var ls=b(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.captureError=jr.errorContext=void 0;var Ql=Dr(),ji=null;function kf(e){if(Ql.config.useDeprecatedSynchronousErrorHandling){var n=!ji;if(n&&(ji={errorThrown:!1,error:null}),e(),n){var t=ji,i=t.errorThrown,r=t.error;if(ji=null,i)throw r}}else e()}jr.errorContext=kf;function Ef(e){Ql.config.useDeprecatedSynchronousErrorHandling&&ji&&(ji.errorThrown=!0,ji.error=e)}jr.captureError=Ef});var Fr=b(Bn=>{"use strict";var Xl=Bn&&Bn.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Bn,"__esModule",{value:!0});Bn.EMPTY_OBSERVER=Bn.SafeSubscriber=Bn.Subscriber=void 0;var _f=fe(),Yl=$e(),Wm=Dr(),wf=Km(),Jl=Fe(),Vm=$l(),Sf=Um(),Af=ls(),ec=function(e){Xl(n,e);function n(t){var i=e.call(this)||this;return i.isStopped=!1,t?(i.destination=t,Yl.isSubscription(t)&&t.add(i)):i.destination=Bn.EMPTY_OBSERVER,i}return n.create=function(t,i,r){return new nc(t,i,r)},n.prototype.next=function(t){this.isStopped?Gm(Vm.nextNotification(t),this):this._next(t)},n.prototype.error=function(t){this.isStopped?Gm(Vm.errorNotification(t),this):(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped?Gm(Vm.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(Yl.Subscription);Bn.Subscriber=ec;var Of=Function.prototype.bind;function Hm(e,n){return Of.call(e,n)}var Tf=function(){function e(n){this.partialObserver=n}return e.prototype.next=function(n){var t=this.partialObserver;if(t.next)try{t.next(n)}catch(i){cs(i)}},e.prototype.error=function(n){var t=this.partialObserver;if(t.error)try{t.error(n)}catch(i){cs(i)}else cs(n)},e.prototype.complete=function(){var n=this.partialObserver;if(n.complete)try{n.complete()}catch(t){cs(t)}},e}(),nc=function(e){Xl(n,e);function n(t,i,r){var a=e.call(this)||this,o;if(_f.isFunction(t)||!t)o={next:t??void 0,error:i??void 0,complete:r??void 0};else{var s;a&&Wm.config.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=function(){return a.unsubscribe()},o={next:t.next&&Hm(t.next,s),error:t.error&&Hm(t.error,s),complete:t.complete&&Hm(t.complete,s)}):o=t}return a.destination=new Tf(o),a}return n}(ec);Bn.SafeSubscriber=nc;function cs(e){Wm.config.useDeprecatedSynchronousErrorHandling?Af.captureError(e):wf.reportUnhandledError(e)}function Nf(e){throw e}function Gm(e,n){var t=Wm.config.onStoppedNotification;t&&Sf.timeoutProvider.setTimeout(function(){return t(e,n)})}Bn.EMPTY_OBSERVER={closed:!0,next:Jl.noop,error:Nf,complete:Jl.noop}});var Qa=b(ys=>{"use strict";Object.defineProperty(ys,"__esModule",{value:!0});ys.observable=void 0;ys.observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}()});var Le=b(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.identity=void 0;function If(e){return e}xs.identity=If});var Ya=b(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.pipeFromArray=Br.pipe=void 0;var Pf=Le();function Mf(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return tc(e)}Br.pipe=Mf;function tc(e){return e.length===0?Pf.identity:e.length===1?e[0]:function(t){return e.reduce(function(i,r){return r(i)},t)}}Br.pipeFromArray=tc});var pe=b(fs=>{"use strict";Object.defineProperty(fs,"__esModule",{value:!0});fs.Observable=void 0;var $m=Fr(),Cf=$e(),Df=Qa(),jf=Ya(),Ff=Dr(),Zm=fe(),Bf=ls(),qf=function(){function e(n){n&&(this._subscribe=n)}return e.prototype.lift=function(n){var t=new e;return t.source=this,t.operator=n,t},e.prototype.subscribe=function(n,t,i){var r=this,a=zf(n)?n:new $m.SafeSubscriber(n,t,i);return Bf.errorContext(function(){var o=r,s=o.operator,u=o.source;a.add(s?s.call(a,u):u?r._subscribe(a):r._trySubscribe(a))}),a},e.prototype._trySubscribe=function(n){try{return this._subscribe(n)}catch(t){n.error(t)}},e.prototype.forEach=function(n,t){var i=this;return t=ic(t),new t(function(r,a){var o=new $m.SafeSubscriber({next:function(s){try{n(s)}catch(u){a(u),o.unsubscribe()}},error:a,complete:r});i.subscribe(o)})},e.prototype._subscribe=function(n){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(n)},e.prototype[Df.observable]=function(){return this},e.prototype.pipe=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return jf.pipeFromArray(n)(this)},e.prototype.toPromise=function(n){var t=this;return n=ic(n),new n(function(i,r){var a;t.subscribe(function(o){return a=o},function(o){return r(o)},function(){return i(a)})})},e.create=function(n){return new e(n)},e}();fs.Observable=qf;function ic(e){var n;return(n=e??Ff.config.Promise)!==null&&n!==void 0?n:Promise}function Lf(e){return e&&Zm.isFunction(e.next)&&Zm.isFunction(e.error)&&Zm.isFunction(e.complete)}function zf(e){return e&&e instanceof $m.Subscriber||Lf(e)&&Cf.isSubscription(e)}});var K=b(qr=>{"use strict";Object.defineProperty(qr,"__esModule",{value:!0});qr.operate=qr.hasLift=void 0;var Rf=fe();function rc(e){return Rf.isFunction(e?.lift)}qr.hasLift=rc;function Uf(e){return function(n){if(rc(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}qr.operate=Uf});var Y=b(Bt=>{"use strict";var Kf=Bt&&Bt.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Bt,"__esModule",{value:!0});Bt.OperatorSubscriber=Bt.createOperatorSubscriber=void 0;var Vf=Fr();function Hf(e,n,t,i,r){return new ac(e,n,t,i,r)}Bt.createOperatorSubscriber=Hf;var ac=function(e){Kf(n,e);function n(t,i,r,a,o,s){var u=e.call(this,t)||this;return u.onFinalize=o,u.shouldUnsubscribe=s,u._next=i?function(d){try{i(d)}catch(m){t.error(m)}}:e.prototype._next,u._error=a?function(d){try{a(d)}catch(m){t.error(m)}finally{this.unsubscribe()}}:e.prototype._error,u._complete=r?function(){try{r()}catch(d){t.error(d)}finally{this.unsubscribe()}}:e.prototype._complete,u}return n.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;e.prototype.unsubscribe.call(this),!i&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},n}(Vf.Subscriber);Bt.OperatorSubscriber=ac});var Qm=b(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.refCount=void 0;var Gf=K(),Wf=Y();function Zf(){return Gf.operate(function(e,n){var t=null;e._refCount++;var i=Wf.createOperatorSubscriber(n,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){t=null;return}var r=e._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),n.unsubscribe()});e.subscribe(i),i.closed||(t=e.connect())})}ps.refCount=Zf});var Ja=b(Lr=>{"use strict";var $f=Lr&&Lr.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Lr,"__esModule",{value:!0});Lr.ConnectableObservable=void 0;var Qf=pe(),oc=$e(),Yf=Qm(),Jf=Y(),Xf=K(),ep=function(e){$f(n,e);function n(t,i){var r=e.call(this)||this;return r.source=t,r.subjectFactory=i,r._subject=null,r._refCount=0,r._connection=null,Xf.hasLift(t)&&(r.lift=t.lift),r}return n.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},n.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},n.prototype._teardown=function(){this._refCount=0;var t=this._connection;this._subject=this._connection=null,t?.unsubscribe()},n.prototype.connect=function(){var t=this,i=this._connection;if(!i){i=this._connection=new oc.Subscription;var r=this.getSubject();i.add(this.source.subscribe(Jf.createOperatorSubscriber(r,void 0,function(){t._teardown(),r.complete()},function(a){t._teardown(),r.error(a)},function(){return t._teardown()}))),i.closed&&(this._connection=null,i=oc.Subscription.EMPTY)}return i},n.prototype.refCount=function(){return Yf.refCount()(this)},n}(Qf.Observable);Lr.ConnectableObservable=ep});var sc=b(Xa=>{"use strict";Object.defineProperty(Xa,"__esModule",{value:!0});Xa.performanceTimestampProvider=void 0;Xa.performanceTimestampProvider={now:function(){return(Xa.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}});var Ym=b(qn=>{"use strict";var uc=qn&&qn.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},dc=qn&&qn.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty(qn,"__esModule",{value:!0});qn.animationFrameProvider=void 0;var np=$e();qn.animationFrameProvider={schedule:function(e){var n=requestAnimationFrame,t=cancelAnimationFrame,i=qn.animationFrameProvider.delegate;i&&(n=i.requestAnimationFrame,t=i.cancelAnimationFrame);var r=n(function(a){t=void 0,e(a)});return new np.Subscription(function(){return t?.(r)})},requestAnimationFrame:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=qn.animationFrameProvider.delegate;return(t?.requestAnimationFrame||requestAnimationFrame).apply(void 0,dc([],uc(e)))},cancelAnimationFrame:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=qn.animationFrameProvider.delegate;return(t?.cancelAnimationFrame||cancelAnimationFrame).apply(void 0,dc([],uc(e)))},delegate:void 0}});var lc=b(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.animationFrames=void 0;var tp=pe(),ip=$e(),rp=sc(),ap=Ym();function op(e){return e?mc(e):sp}hs.animationFrames=op;function mc(e){var n=ap.animationFrameProvider.schedule;return new tp.Observable(function(t){var i=new ip.Subscription,r=e||rp.performanceTimestampProvider,a=r.now(),o=function(s){var u=r.now();t.next({timestamp:e?u:s,elapsed:u-a}),t.closed||i.add(n(o))};return i.add(n(o)),i})}var sp=mc()});var Jm=b(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.ObjectUnsubscribedError=void 0;var up=Ft();gs.ObjectUnsubscribedError=up.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})});var Be=b(nt=>{"use strict";var yc=nt&&nt.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),dp=nt&&nt.__values||function(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(nt,"__esModule",{value:!0});nt.AnonymousSubject=nt.Subject=void 0;var cc=pe(),e2=$e(),mp=Jm(),lp=yt(),Xm=ls(),xc=function(e){yc(n,e);function n(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return n.prototype.lift=function(t){var i=new n2(this,this);return i.operator=t,i},n.prototype._throwIfClosed=function(){if(this.closed)throw new mp.ObjectUnsubscribedError},n.prototype.next=function(t){var i=this;Xm.errorContext(function(){var r,a;if(i._throwIfClosed(),!i.isStopped){i.currentObservers||(i.currentObservers=Array.from(i.observers));try{for(var o=dp(i.currentObservers),s=o.next();!s.done;s=o.next()){var u=s.value;u.next(t)}}catch(d){r={error:d}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}}})},n.prototype.error=function(t){var i=this;Xm.errorContext(function(){if(i._throwIfClosed(),!i.isStopped){i.hasError=i.isStopped=!0,i.thrownError=t;for(var r=i.observers;r.length;)r.shift().error(t)}})},n.prototype.complete=function(){var t=this;Xm.errorContext(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var i=t.observers;i.length;)i.shift().complete()}})},n.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(n.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),n.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},n.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},n.prototype._innerSubscribe=function(t){var i=this,r=this,a=r.hasError,o=r.isStopped,s=r.observers;return a||o?e2.EMPTY_SUBSCRIPTION:(this.currentObservers=null,s.push(t),new e2.Subscription(function(){i.currentObservers=null,lp.arrRemove(s,t)}))},n.prototype._checkFinalizedStatuses=function(t){var i=this,r=i.hasError,a=i.thrownError,o=i.isStopped;r?t.error(a):o&&t.complete()},n.prototype.asObservable=function(){var t=new cc.Observable;return t.source=this,t},n.create=function(t,i){return new n2(t,i)},n}(cc.Observable);nt.Subject=xc;var n2=function(e){yc(n,e);function n(t,i){var r=e.call(this)||this;return r.destination=t,r.source=i,r}return n.prototype.next=function(t){var i,r;(r=(i=this.destination)===null||i===void 0?void 0:i.next)===null||r===void 0||r.call(i,t)},n.prototype.error=function(t){var i,r;(r=(i=this.destination)===null||i===void 0?void 0:i.error)===null||r===void 0||r.call(i,t)},n.prototype.complete=function(){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||i===void 0||i.call(t)},n.prototype._subscribe=function(t){var i,r;return(r=(i=this.source)===null||i===void 0?void 0:i.subscribe(t))!==null&&r!==void 0?r:e2.EMPTY_SUBSCRIPTION},n}(xc);nt.AnonymousSubject=n2});var t2=b(zr=>{"use strict";var cp=zr&&zr.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(zr,"__esModule",{value:!0});zr.BehaviorSubject=void 0;var yp=Be(),xp=function(e){cp(n,e);function n(t){var i=e.call(this)||this;return i._value=t,i}return Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),n.prototype._subscribe=function(t){var i=e.prototype._subscribe.call(this,t);return!i.closed&&t.next(this._value),i},n.prototype.getValue=function(){var t=this,i=t.hasError,r=t.thrownError,a=t._value;if(i)throw r;return this._throwIfClosed(),a},n.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},n}(yp.Subject);zr.BehaviorSubject=xp});var vs=b(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.dateTimestampProvider=void 0;eo.dateTimestampProvider={now:function(){return(eo.dateTimestampProvider.delegate||Date).now()},delegate:void 0}});var bs=b(Rr=>{"use strict";var fp=Rr&&Rr.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Rr,"__esModule",{value:!0});Rr.ReplaySubject=void 0;var pp=Be(),hp=vs(),gp=function(e){fp(n,e);function n(t,i,r){t===void 0&&(t=1/0),i===void 0&&(i=1/0),r===void 0&&(r=hp.dateTimestampProvider);var a=e.call(this)||this;return a._bufferSize=t,a._windowTime=i,a._timestampProvider=r,a._buffer=[],a._infiniteTimeWindow=!0,a._infiniteTimeWindow=i===1/0,a._bufferSize=Math.max(1,t),a._windowTime=Math.max(1,i),a}return n.prototype.next=function(t){var i=this,r=i.isStopped,a=i._buffer,o=i._infiniteTimeWindow,s=i._timestampProvider,u=i._windowTime;r||(a.push(t),!o&&a.push(s.now()+u)),this._trimBuffer(),e.prototype.next.call(this,t)},n.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var i=this._innerSubscribe(t),r=this,a=r._infiniteTimeWindow,o=r._buffer,s=o.slice(),u=0;u<s.length&&!t.closed;u+=a?1:2)t.next(s[u]);return this._checkFinalizedStatuses(t),i},n.prototype._trimBuffer=function(){var t=this,i=t._bufferSize,r=t._timestampProvider,a=t._buffer,o=t._infiniteTimeWindow,s=(o?1:2)*i;if(i<1/0&&s<a.length&&a.splice(0,a.length-s),!o){for(var u=r.now(),d=0,m=1;m<a.length&&a[m]<=u;m+=2)d=m;d&&a.splice(0,d+1)}},n}(pp.Subject);Rr.ReplaySubject=gp});var ks=b(Ur=>{"use strict";var vp=Ur&&Ur.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Ur,"__esModule",{value:!0});Ur.AsyncSubject=void 0;var bp=Be(),kp=function(e){vp(n,e);function n(){var t=e!==null&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return n.prototype._checkFinalizedStatuses=function(t){var i=this,r=i.hasError,a=i._hasValue,o=i._value,s=i.thrownError,u=i.isStopped,d=i._isComplete;r?t.error(s):(u||d)&&(a&&t.next(o),t.complete())},n.prototype.next=function(t){this.isStopped||(this._value=t,this._hasValue=!0)},n.prototype.complete=function(){var t=this,i=t._hasValue,r=t._value,a=t._isComplete;a||(this._isComplete=!0,i&&e.prototype.next.call(this,r),e.prototype.complete.call(this))},n}(bp.Subject);Ur.AsyncSubject=kp});var fc=b(Kr=>{"use strict";var Ep=Kr&&Kr.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Kr,"__esModule",{value:!0});Kr.Action=void 0;var _p=$e(),wp=function(e){Ep(n,e);function n(t,i){return e.call(this)||this}return n.prototype.schedule=function(t,i){return i===void 0&&(i=0),this},n}(_p.Subscription);Kr.Action=wp});var gc=b(tt=>{"use strict";var pc=tt&&tt.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},hc=tt&&tt.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty(tt,"__esModule",{value:!0});tt.intervalProvider=void 0;tt.intervalProvider={setInterval:function(e,n){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];var r=tt.intervalProvider.delegate;return r?.setInterval?r.setInterval.apply(r,hc([e,n],pc(t))):setInterval.apply(void 0,hc([e,n],pc(t)))},clearInterval:function(e){var n=tt.intervalProvider.delegate;return(n?.clearInterval||clearInterval)(e)},delegate:void 0}});var Hr=b(Vr=>{"use strict";var Sp=Vr&&Vr.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Vr,"__esModule",{value:!0});Vr.AsyncAction=void 0;var Ap=fc(),vc=gc(),Op=yt(),Tp=function(e){Sp(n,e);function n(t,i){var r=e.call(this,t,i)||this;return r.scheduler=t,r.work=i,r.pending=!1,r}return n.prototype.schedule=function(t,i){if(i===void 0&&(i=0),this.closed)return this;this.state=t;var r=this.id,a=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(a,r,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(a,this.id,i),this},n.prototype.requestAsyncId=function(t,i,r){return r===void 0&&(r=0),vc.intervalProvider.setInterval(t.flush.bind(t,this),r)},n.prototype.recycleAsyncId=function(t,i,r){if(r===void 0&&(r=0),r!=null&&this.delay===r&&this.pending===!1)return i;vc.intervalProvider.clearInterval(i)},n.prototype.execute=function(t,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,i);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(t,i){var r=!1,a;try{this.work(t)}catch(o){r=!0,a=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),a},n.prototype.unsubscribe=function(){if(!this.closed){var t=this,i=t.id,r=t.scheduler,a=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Op.arrRemove(a,this),i!=null&&(this.id=this.recycleAsyncId(r,i,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},n}(Ap.Action);Vr.AsyncAction=Tp});var kc=b(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.TestTools=Gr.Immediate=void 0;var Np=1,i2,Es={};function bc(e){return e in Es?(delete Es[e],!0):!1}Gr.Immediate={setImmediate:function(e){var n=Np++;return Es[n]=!0,i2||(i2=Promise.resolve()),i2.then(function(){return bc(n)&&e()}),n},clearImmediate:function(e){bc(e)}};Gr.TestTools={pending:function(){return Object.keys(Es).length}}});var _c=b(it=>{"use strict";var Ip=it&&it.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},Pp=it&&it.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty(it,"__esModule",{value:!0});it.immediateProvider=void 0;var Ec=kc(),Mp=Ec.Immediate.setImmediate,Cp=Ec.Immediate.clearImmediate;it.immediateProvider={setImmediate:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=it.immediateProvider.delegate;return(t?.setImmediate||Mp).apply(void 0,Pp([],Ip(e)))},clearImmediate:function(e){var n=it.immediateProvider.delegate;return(n?.clearImmediate||Cp)(e)},delegate:void 0}});var Sc=b(Wr=>{"use strict";var Dp=Wr&&Wr.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Wr,"__esModule",{value:!0});Wr.AsapAction=void 0;var jp=Hr(),wc=_c(),Fp=function(e){Dp(n,e);function n(t,i){var r=e.call(this,t,i)||this;return r.scheduler=t,r.work=i,r}return n.prototype.requestAsyncId=function(t,i,r){return r===void 0&&(r=0),r!==null&&r>0?e.prototype.requestAsyncId.call(this,t,i,r):(t.actions.push(this),t._scheduled||(t._scheduled=wc.immediateProvider.setImmediate(t.flush.bind(t,void 0))))},n.prototype.recycleAsyncId=function(t,i,r){if(r===void 0&&(r=0),r!=null&&r>0||r==null&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,i,r);t.actions.some(function(a){return a.id===i})||(wc.immediateProvider.clearImmediate(i),t._scheduled=void 0)},n}(jp.AsyncAction);Wr.AsapAction=Fp});var r2=b(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.Scheduler=void 0;var Bp=vs(),qp=function(){function e(n,t){t===void 0&&(t=e.now),this.schedulerActionCtor=n,this.now=t}return e.prototype.schedule=function(n,t,i){return t===void 0&&(t=0),new this.schedulerActionCtor(this,n).schedule(i,t)},e.now=Bp.dateTimestampProvider.now,e}();_s.Scheduler=qp});var $r=b(Zr=>{"use strict";var Lp=Zr&&Zr.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Zr,"__esModule",{value:!0});Zr.AsyncScheduler=void 0;var Ac=r2(),zp=function(e){Lp(n,e);function n(t,i){i===void 0&&(i=Ac.Scheduler.now);var r=e.call(this,t,i)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return n.prototype.flush=function(t){var i=this.actions;if(this._active){i.push(t);return}var r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=i.shift());if(this._active=!1,r){for(;t=i.shift();)t.unsubscribe();throw r}},n}(Ac.Scheduler);Zr.AsyncScheduler=zp});var Oc=b(Qr=>{"use strict";var Rp=Qr&&Qr.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Qr,"__esModule",{value:!0});Qr.AsapScheduler=void 0;var Up=$r(),Kp=function(e){Rp(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.flush=function(t){this._active=!0;var i=this._scheduled;this._scheduled=void 0;var r=this.actions,a;t=t||r.shift();do if(a=t.execute(t.state,t.delay))break;while((t=r[0])&&t.id===i&&r.shift());if(this._active=!1,a){for(;(t=r[0])&&t.id===i&&r.shift();)t.unsubscribe();throw a}},n}(Up.AsyncScheduler);Qr.AsapScheduler=Kp});var Tc=b(Fi=>{"use strict";Object.defineProperty(Fi,"__esModule",{value:!0});Fi.asap=Fi.asapScheduler=void 0;var Vp=Sc(),Hp=Oc();Fi.asapScheduler=new Hp.AsapScheduler(Vp.AsapAction);Fi.asap=Fi.asapScheduler});var Qe=b(Bi=>{"use strict";Object.defineProperty(Bi,"__esModule",{value:!0});Bi.async=Bi.asyncScheduler=void 0;var Gp=Hr(),Wp=$r();Bi.asyncScheduler=new Wp.AsyncScheduler(Gp.AsyncAction);Bi.async=Bi.asyncScheduler});var Nc=b(Yr=>{"use strict";var Zp=Yr&&Yr.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Yr,"__esModule",{value:!0});Yr.QueueAction=void 0;var $p=Hr(),Qp=function(e){Zp(n,e);function n(t,i){var r=e.call(this,t,i)||this;return r.scheduler=t,r.work=i,r}return n.prototype.schedule=function(t,i){return i===void 0&&(i=0),i>0?e.prototype.schedule.call(this,t,i):(this.delay=i,this.state=t,this.scheduler.flush(this),this)},n.prototype.execute=function(t,i){return i>0||this.closed?e.prototype.execute.call(this,t,i):this._execute(t,i)},n.prototype.requestAsyncId=function(t,i,r){return r===void 0&&(r=0),r!=null&&r>0||r==null&&this.delay>0?e.prototype.requestAsyncId.call(this,t,i,r):t.flush(this)},n}($p.AsyncAction);Yr.QueueAction=Qp});var Ic=b(Jr=>{"use strict";var Yp=Jr&&Jr.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Jr,"__esModule",{value:!0});Jr.QueueScheduler=void 0;var Jp=$r(),Xp=function(e){Yp(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n}(Jp.AsyncScheduler);Jr.QueueScheduler=Xp});var Pc=b(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.queue=qi.queueScheduler=void 0;var eh=Nc(),nh=Ic();qi.queueScheduler=new nh.QueueScheduler(eh.QueueAction);qi.queue=qi.queueScheduler});var Cc=b(Xr=>{"use strict";var th=Xr&&Xr.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(Xr,"__esModule",{value:!0});Xr.AnimationFrameAction=void 0;var ih=Hr(),Mc=Ym(),rh=function(e){th(n,e);function n(t,i){var r=e.call(this,t,i)||this;return r.scheduler=t,r.work=i,r}return n.prototype.requestAsyncId=function(t,i,r){return r===void 0&&(r=0),r!==null&&r>0?e.prototype.requestAsyncId.call(this,t,i,r):(t.actions.push(this),t._scheduled||(t._scheduled=Mc.animationFrameProvider.requestAnimationFrame(function(){return t.flush(void 0)})))},n.prototype.recycleAsyncId=function(t,i,r){if(r===void 0&&(r=0),r!=null&&r>0||r==null&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,i,r);t.actions.some(function(a){return a.id===i})||(Mc.animationFrameProvider.cancelAnimationFrame(i),t._scheduled=void 0)},n}(ih.AsyncAction);Xr.AnimationFrameAction=rh});var Dc=b(ea=>{"use strict";var ah=ea&&ea.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(ea,"__esModule",{value:!0});ea.AnimationFrameScheduler=void 0;var oh=$r(),sh=function(e){ah(n,e);function n(){return e!==null&&e.apply(this,arguments)||this}return n.prototype.flush=function(t){this._active=!0;var i=this._scheduled;this._scheduled=void 0;var r=this.actions,a;t=t||r.shift();do if(a=t.execute(t.state,t.delay))break;while((t=r[0])&&t.id===i&&r.shift());if(this._active=!1,a){for(;(t=r[0])&&t.id===i&&r.shift();)t.unsubscribe();throw a}},n}(oh.AsyncScheduler);ea.AnimationFrameScheduler=sh});var jc=b(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.animationFrame=Li.animationFrameScheduler=void 0;var uh=Cc(),dh=Dc();Li.animationFrameScheduler=new dh.AnimationFrameScheduler(uh.AnimationFrameAction);Li.animationFrame=Li.animationFrameScheduler});var qc=b(qt=>{"use strict";var Fc=qt&&qt.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function i(){this.constructor=n}n.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}();Object.defineProperty(qt,"__esModule",{value:!0});qt.VirtualAction=qt.VirtualTimeScheduler=void 0;var mh=Hr(),lh=$e(),ch=$r(),yh=function(e){Fc(n,e);function n(t,i){t===void 0&&(t=Bc),i===void 0&&(i=1/0);var r=e.call(this,t,function(){return r.frame})||this;return r.maxFrames=i,r.frame=0,r.index=-1,r}return n.prototype.flush=function(){for(var t=this,i=t.actions,r=t.maxFrames,a,o;(o=i[0])&&o.delay<=r&&(i.shift(),this.frame=o.delay,!(a=o.execute(o.state,o.delay))););if(a){for(;o=i.shift();)o.unsubscribe();throw a}},n.frameTimeFactor=10,n}(ch.AsyncScheduler);qt.VirtualTimeScheduler=yh;var Bc=function(e){Fc(n,e);function n(t,i,r){r===void 0&&(r=t.index+=1);var a=e.call(this,t,i)||this;return a.scheduler=t,a.work=i,a.index=r,a.active=!0,a.index=t.index=r,a}return n.prototype.schedule=function(t,i){if(i===void 0&&(i=0),Number.isFinite(i)){if(!this.id)return e.prototype.schedule.call(this,t,i);this.active=!1;var r=new n(this.scheduler,this.work);return this.add(r),r.schedule(t,i)}else return lh.Subscription.EMPTY},n.prototype.requestAsyncId=function(t,i,r){r===void 0&&(r=0),this.delay=t.frame+r;var a=t.actions;return a.push(this),a.sort(n.sortActions),!0},n.prototype.recycleAsyncId=function(t,i,r){r===void 0&&(r=0)},n.prototype._execute=function(t,i){if(this.active===!0)return e.prototype._execute.call(this,t,i)},n.sortActions=function(t,i){return t.delay===i.delay?t.index===i.index?0:t.index>i.index?1:-1:t.delay>i.delay?1:-1},n}(mh.AsyncAction);qt.VirtualAction=Bc});var kn=b(zi=>{"use strict";Object.defineProperty(zi,"__esModule",{value:!0});zi.empty=zi.EMPTY=void 0;var Lc=pe();zi.EMPTY=new Lc.Observable(function(e){return e.complete()});function xh(e){return e?fh(e):zi.EMPTY}zi.empty=xh;function fh(e){return new Lc.Observable(function(n){return e.schedule(function(){return n.complete()})})}});var no=b(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.isScheduler=void 0;var ph=fe();function hh(e){return e&&ph.isFunction(e.schedule)}ws.isScheduler=hh});var Ye=b(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.popNumber=Lt.popScheduler=Lt.popResultSelector=void 0;var gh=fe(),vh=no();function a2(e){return e[e.length-1]}function bh(e){return gh.isFunction(a2(e))?e.pop():void 0}Lt.popResultSelector=bh;function kh(e){return vh.isScheduler(a2(e))?e.pop():void 0}Lt.popScheduler=kh;function Eh(e,n){return typeof a2(e)=="number"?e.pop():n}Lt.popNumber=Eh});var As=b(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.isArrayLike=void 0;Ss.isArrayLike=function(e){return e&&typeof e.length=="number"&&typeof e!="function"}});var o2=b(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.isPromise=void 0;var _h=fe();function wh(e){return _h.isFunction(e?.then)}Os.isPromise=wh});var s2=b(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.isInteropObservable=void 0;var Sh=Qa(),Ah=fe();function Oh(e){return Ah.isFunction(e[Sh.observable])}Ts.isInteropObservable=Oh});var u2=b(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.isAsyncIterable=void 0;var Th=fe();function Nh(e){return Symbol.asyncIterator&&Th.isFunction(e?.[Symbol.asyncIterator])}Ns.isAsyncIterable=Nh});var d2=b(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.createInvalidObservableTypeError=void 0;function Ih(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}Is.createInvalidObservableTypeError=Ih});var m2=b(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.iterator=na.getSymbolIterator=void 0;function zc(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}na.getSymbolIterator=zc;na.iterator=zc()});var l2=b(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.isIterable=void 0;var Ph=m2(),Mh=fe();function Ch(e){return Mh.isFunction(e?.[Ph.iterator])}Ps.isIterable=Ch});var Ms=b(En=>{"use strict";var Dh=En&&En.__generator||function(e,n){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(d){return function(m){return u([d,m])}}function u(d){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,r&&(a=d[0]&2?r.return:d[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,d[1])).done)return a;switch(r=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,r=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){t.label=d[1];break}if(d[0]===6&&t.label<a[1]){t.label=a[1],a=d;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(d);break}a[2]&&t.ops.pop(),t.trys.pop();continue}d=n.call(e,t)}catch(m){d=[6,m],r=0}finally{i=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},ta=En&&En.__await||function(e){return this instanceof ta?(this.v=e,this):new ta(e)},jh=En&&En.__asyncGenerator||function(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(e,n||[]),r,a=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(c){i[c]&&(r[c]=function(h){return new Promise(function(p,f){a.push([c,h,p,f])>1||s(c,h)})})}function s(c,h){try{u(i[c](h))}catch(p){l(a[0][3],p)}}function u(c){c.value instanceof ta?Promise.resolve(c.value.v).then(d,m):l(a[0][2],c)}function d(c){s("next",c)}function m(c){s("throw",c)}function l(c,h){c(h),a.shift(),a.length&&s(a[0][0],a[0][1])}};Object.defineProperty(En,"__esModule",{value:!0});En.isReadableStreamLike=En.readableStreamLikeToAsyncGenerator=void 0;var Fh=fe();function Bh(e){return jh(this,arguments,function(){var t,i,r,a;return Dh(this,function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,ta(t.read())];case 3:return i=o.sent(),r=i.value,a=i.done,a?[4,ta(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,ta(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}En.readableStreamLikeToAsyncGenerator=Bh;function qh(e){return Fh.isFunction(e?.getReader)}En.isReadableStreamLike=qh});var le=b(we=>{"use strict";var Lh=we&&we.__awaiter||function(e,n,t,i){function r(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(m){try{d(i.next(m))}catch(l){o(l)}}function u(m){try{d(i.throw(m))}catch(l){o(l)}}function d(m){m.done?a(m.value):r(m.value).then(s,u)}d((i=i.apply(e,n||[])).next())})},zh=we&&we.__generator||function(e,n){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(d){return function(m){return u([d,m])}}function u(d){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,r&&(a=d[0]&2?r.return:d[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,d[1])).done)return a;switch(r=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,r=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){t.label=d[1];break}if(d[0]===6&&t.label<a[1]){t.label=a[1],a=d;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(d);break}a[2]&&t.ops.pop(),t.trys.pop();continue}d=n.call(e,t)}catch(m){d=[6,m],r=0}finally{i=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Rh=we&&we.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof c2=="function"?c2(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(a){t[a]=e[a]&&function(o){return new Promise(function(s,u){o=e[a](o),r(s,u,o.done,o.value)})}}function r(a,o,s,u){Promise.resolve(u).then(function(d){a({value:d,done:s})},o)}},c2=we&&we.__values||function(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(we,"__esModule",{value:!0});we.fromReadableStreamLike=we.fromAsyncIterable=we.fromIterable=we.fromPromise=we.fromArrayLike=we.fromInteropObservable=we.innerFrom=void 0;var Uh=As(),Kh=o2(),ia=pe(),Vh=s2(),Hh=u2(),Gh=d2(),Wh=l2(),Rc=Ms(),Zh=fe(),$h=Km(),Qh=Qa();function Yh(e){if(e instanceof ia.Observable)return e;if(e!=null){if(Vh.isInteropObservable(e))return Uc(e);if(Uh.isArrayLike(e))return Kc(e);if(Kh.isPromise(e))return Vc(e);if(Hh.isAsyncIterable(e))return y2(e);if(Wh.isIterable(e))return Hc(e);if(Rc.isReadableStreamLike(e))return Gc(e)}throw Gh.createInvalidObservableTypeError(e)}we.innerFrom=Yh;function Uc(e){return new ia.Observable(function(n){var t=e[Qh.observable]();if(Zh.isFunction(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}we.fromInteropObservable=Uc;function Kc(e){return new ia.Observable(function(n){for(var t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}we.fromArrayLike=Kc;function Vc(e){return new ia.Observable(function(n){e.then(function(t){n.closed||(n.next(t),n.complete())},function(t){return n.error(t)}).then(null,$h.reportUnhandledError)})}we.fromPromise=Vc;function Hc(e){return new ia.Observable(function(n){var t,i;try{for(var r=c2(e),a=r.next();!a.done;a=r.next()){var o=a.value;if(n.next(o),n.closed)return}}catch(s){t={error:s}}finally{try{a&&!a.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}n.complete()})}we.fromIterable=Hc;function y2(e){return new ia.Observable(function(n){Jh(e,n).catch(function(t){return n.error(t)})})}we.fromAsyncIterable=y2;function Gc(e){return y2(Rc.readableStreamLikeToAsyncGenerator(e))}we.fromReadableStreamLike=Gc;function Jh(e,n){var t,i,r,a;return Lh(this,void 0,void 0,function(){var o,s;return zh(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),t=Rh(e),u.label=1;case 1:return[4,t.next()];case 2:if(i=u.sent(),!!i.done)return[3,4];if(o=i.value,n.next(o),n.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=u.sent(),r={error:s},[3,11];case 6:return u.trys.push([6,,9,10]),i&&!i.done&&(a=t.return)?[4,a.call(t)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(r)throw r.error;return[7];case 10:return[7];case 11:return n.complete(),[2]}})})}});var xt=b(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.executeSchedule=void 0;function Xh(e,n,t,i,r){i===void 0&&(i=0),r===void 0&&(r=!1);var a=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(a),!r)return a}Cs.executeSchedule=Xh});var to=b(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.observeOn=void 0;var x2=xt(),eg=K(),ng=Y();function tg(e,n){return n===void 0&&(n=0),eg.operate(function(t,i){t.subscribe(ng.createOperatorSubscriber(i,function(r){return x2.executeSchedule(i,e,function(){return i.next(r)},n)},function(){return x2.executeSchedule(i,e,function(){return i.complete()},n)},function(r){return x2.executeSchedule(i,e,function(){return i.error(r)},n)}))})}Ds.observeOn=tg});var io=b(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.subscribeOn=void 0;var ig=K();function rg(e,n){return n===void 0&&(n=0),ig.operate(function(t,i){i.add(e.schedule(function(){return t.subscribe(i)},n))})}js.subscribeOn=rg});var Wc=b(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.scheduleObservable=void 0;var ag=le(),og=to(),sg=io();function ug(e,n){return ag.innerFrom(e).pipe(sg.subscribeOn(n),og.observeOn(n))}Fs.scheduleObservable=ug});var Zc=b(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.schedulePromise=void 0;var dg=le(),mg=to(),lg=io();function cg(e,n){return dg.innerFrom(e).pipe(lg.subscribeOn(n),mg.observeOn(n))}Bs.schedulePromise=cg});var $c=b(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});qs.scheduleArray=void 0;var yg=pe();function xg(e,n){return new yg.Observable(function(t){var i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}qs.scheduleArray=xg});var f2=b(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.scheduleIterable=void 0;var fg=pe(),pg=m2(),hg=fe(),Qc=xt();function gg(e,n){return new fg.Observable(function(t){var i;return Qc.executeSchedule(t,n,function(){i=e[pg.iterator](),Qc.executeSchedule(t,n,function(){var r,a,o;try{r=i.next(),a=r.value,o=r.done}catch(s){t.error(s);return}o?t.complete():t.next(a)},0,!0)}),function(){return hg.isFunction(i?.return)&&i.return()}})}Ls.scheduleIterable=gg});var p2=b(zs=>{"use strict";Object.defineProperty(zs,"__esModule",{value:!0});zs.scheduleAsyncIterable=void 0;var vg=pe(),Yc=xt();function bg(e,n){if(!e)throw new Error("Iterable cannot be null");return new vg.Observable(function(t){Yc.executeSchedule(t,n,function(){var i=e[Symbol.asyncIterator]();Yc.executeSchedule(t,n,function(){i.next().then(function(r){r.done?t.complete():t.next(r.value)})},0,!0)})})}zs.scheduleAsyncIterable=bg});var Jc=b(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.scheduleReadableStreamLike=void 0;var kg=p2(),Eg=Ms();function _g(e,n){return kg.scheduleAsyncIterable(Eg.readableStreamLikeToAsyncGenerator(e),n)}Rs.scheduleReadableStreamLike=_g});var h2=b(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.scheduled=void 0;var wg=Wc(),Sg=Zc(),Ag=$c(),Og=f2(),Tg=p2(),Ng=s2(),Ig=o2(),Pg=As(),Mg=l2(),Cg=u2(),Dg=d2(),jg=Ms(),Fg=Jc();function Bg(e,n){if(e!=null){if(Ng.isInteropObservable(e))return wg.scheduleObservable(e,n);if(Pg.isArrayLike(e))return Ag.scheduleArray(e,n);if(Ig.isPromise(e))return Sg.schedulePromise(e,n);if(Cg.isAsyncIterable(e))return Tg.scheduleAsyncIterable(e,n);if(Mg.isIterable(e))return Og.scheduleIterable(e,n);if(jg.isReadableStreamLike(e))return Fg.scheduleReadableStreamLike(e,n)}throw Dg.createInvalidObservableTypeError(e)}Us.scheduled=Bg});var Ln=b(Ks=>{"use strict";Object.defineProperty(Ks,"__esModule",{value:!0});Ks.from=void 0;var qg=h2(),Lg=le();function zg(e,n){return n?qg.scheduled(e,n):Lg.innerFrom(e)}Ks.from=zg});var Hs=b(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});Vs.of=void 0;var Rg=Ye(),Ug=Ln();function Kg(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=Rg.popScheduler(e);return Ug.from(e,t)}Vs.of=Kg});var g2=b(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.throwError=void 0;var Vg=pe(),Hg=fe();function Gg(e,n){var t=Hg.isFunction(e)?e:function(){return e},i=function(r){return r.error(t())};return new Vg.Observable(n?function(r){return n.schedule(i,0,r)}:i)}Gs.throwError=Gg});var Ws=b(ft=>{"use strict";Object.defineProperty(ft,"__esModule",{value:!0});ft.observeNotification=ft.Notification=ft.NotificationKind=void 0;var Wg=kn(),Zg=Hs(),$g=g2(),Qg=fe(),Yg;(function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"})(Yg=ft.NotificationKind||(ft.NotificationKind={}));var Jg=function(){function e(n,t,i){this.kind=n,this.value=t,this.error=i,this.hasValue=n==="N"}return e.prototype.observe=function(n){return Xc(this,n)},e.prototype.do=function(n,t,i){var r=this,a=r.kind,o=r.value,s=r.error;return a==="N"?n?.(o):a==="E"?t?.(s):i?.()},e.prototype.accept=function(n,t,i){var r;return Qg.isFunction((r=n)===null||r===void 0?void 0:r.next)?this.observe(n):this.do(n,t,i)},e.prototype.toObservable=function(){var n=this,t=n.kind,i=n.value,r=n.error,a=t==="N"?Zg.of(i):t==="E"?$g.throwError(function(){return r}):t==="C"?Wg.EMPTY:0;if(!a)throw new TypeError("Unexpected notification kind "+t);return a},e.createNext=function(n){return new e("N",n)},e.createError=function(n){return new e("E",void 0,n)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e}();ft.Notification=Jg;function Xc(e,n){var t,i,r,a=e,o=a.kind,s=a.value,u=a.error;if(typeof o!="string")throw new TypeError('Invalid notification, missing "kind"');o==="N"?(t=n.next)===null||t===void 0||t.call(n,s):o==="E"?(i=n.error)===null||i===void 0||i.call(n,u):(r=n.complete)===null||r===void 0||r.call(n)}ft.observeNotification=Xc});var n8=b(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.isObservable=void 0;var Xg=pe(),e8=fe();function ev(e){return!!e&&(e instanceof Xg.Observable||e8.isFunction(e.lift)&&e8.isFunction(e.subscribe))}Zs.isObservable=ev});var zt=b($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.EmptyError=void 0;var nv=Ft();$s.EmptyError=nv.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}})});var t8=b(Qs=>{"use strict";Object.defineProperty(Qs,"__esModule",{value:!0});Qs.lastValueFrom=void 0;var tv=zt();function iv(e,n){var t=typeof n=="object";return new Promise(function(i,r){var a=!1,o;e.subscribe({next:function(s){o=s,a=!0},error:r,complete:function(){a?i(o):t?i(n.defaultValue):r(new tv.EmptyError)}})})}Qs.lastValueFrom=iv});var i8=b(Ys=>{"use strict";Object.defineProperty(Ys,"__esModule",{value:!0});Ys.firstValueFrom=void 0;var rv=zt(),av=Fr();function ov(e,n){var t=typeof n=="object";return new Promise(function(i,r){var a=new av.SafeSubscriber({next:function(o){i(o),a.unsubscribe()},error:r,complete:function(){t?i(n.defaultValue):r(new rv.EmptyError)}});e.subscribe(a)})}Ys.firstValueFrom=ov});var v2=b(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});Js.ArgumentOutOfRangeError=void 0;var sv=Ft();Js.ArgumentOutOfRangeError=sv.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})});var b2=b(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.NotFoundError=void 0;var uv=Ft();Xs.NotFoundError=uv.createErrorClass(function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}})});var k2=b(e1=>{"use strict";Object.defineProperty(e1,"__esModule",{value:!0});e1.SequenceError=void 0;var dv=Ft();e1.SequenceError=dv.createErrorClass(function(e){return function(t){e(this),this.name="SequenceError",this.message=t}})});var t1=b(n1=>{"use strict";Object.defineProperty(n1,"__esModule",{value:!0});n1.isValidDate=void 0;function mv(e){return e instanceof Date&&!isNaN(e)}n1.isValidDate=mv});var i1=b(Ri=>{"use strict";Object.defineProperty(Ri,"__esModule",{value:!0});Ri.timeout=Ri.TimeoutError=void 0;var lv=Qe(),cv=t1(),yv=K(),xv=le(),fv=Ft(),pv=Y(),hv=xt();Ri.TimeoutError=fv.createErrorClass(function(e){return function(t){t===void 0&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function gv(e,n){var t=cv.isValidDate(e)?{first:e}:typeof e=="number"?{each:e}:e,i=t.first,r=t.each,a=t.with,o=a===void 0?vv:a,s=t.scheduler,u=s===void 0?n??lv.asyncScheduler:s,d=t.meta,m=d===void 0?null:d;if(i==null&&r==null)throw new TypeError("No timeout provided.");return yv.operate(function(l,c){var h,p,f=null,y=0,g=function(k){p=hv.executeSchedule(c,u,function(){try{h.unsubscribe(),xv.innerFrom(o({meta:m,lastValue:f,seen:y})).subscribe(c)}catch(v){c.error(v)}},k)};h=l.subscribe(pv.createOperatorSubscriber(c,function(k){p?.unsubscribe(),y++,c.next(f=k),r>0&&g(r)},void 0,void 0,function(){p?.closed||p?.unsubscribe(),f=null})),!y&&g(i!=null?typeof i=="number"?i:+i-u.now():r)})}Ri.timeout=gv;function vv(e){throw new Ri.TimeoutError(e)}});var Rt=b(r1=>{"use strict";Object.defineProperty(r1,"__esModule",{value:!0});r1.map=void 0;var bv=K(),kv=Y();function Ev(e,n){return bv.operate(function(t,i){var r=0;t.subscribe(kv.createOperatorSubscriber(i,function(a){i.next(e.call(n,a,r++))}))})}r1.map=Ev});var Kt=b(Ut=>{"use strict";var _v=Ut&&Ut.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},wv=Ut&&Ut.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.mapOneOrManyArgs=void 0;var Sv=Rt(),Av=Array.isArray;function Ov(e,n){return Av(n)?e.apply(void 0,wv([],_v(n))):e(n)}function Tv(e){return Sv.map(function(n){return Ov(e,n)})}Ut.mapOneOrManyArgs=Tv});var _2=b(Vt=>{"use strict";var Nv=Vt&&Vt.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},r8=Vt&&Vt.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.bindCallbackInternals=void 0;var Iv=no(),Pv=pe(),Mv=io(),Cv=Kt(),Dv=to(),jv=ks();function E2(e,n,t,i){if(t)if(Iv.isScheduler(t))i=t;else return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return E2(e,n,i).apply(this,r).pipe(Cv.mapOneOrManyArgs(t))};return i?function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return E2(e,n).apply(this,r).pipe(Mv.subscribeOn(i),Dv.observeOn(i))}:function(){for(var r=this,a=[],o=0;o<arguments.length;o++)a[o]=arguments[o];var s=new jv.AsyncSubject,u=!0;return new Pv.Observable(function(d){var m=s.subscribe(d);if(u){u=!1;var l=!1,c=!1;n.apply(r,r8(r8([],Nv(a)),[function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];if(e){var f=h.shift();if(f!=null){s.error(f);return}}s.next(1<h.length?h:h[0]),c=!0,l&&s.complete()}])),c&&s.complete(),l=!0}return m})}}Vt.bindCallbackInternals=E2});var a8=b(a1=>{"use strict";Object.defineProperty(a1,"__esModule",{value:!0});a1.bindCallback=void 0;var Fv=_2();function Bv(e,n,t){return Fv.bindCallbackInternals(!1,e,n,t)}a1.bindCallback=Bv});var o8=b(o1=>{"use strict";Object.defineProperty(o1,"__esModule",{value:!0});o1.bindNodeCallback=void 0;var qv=_2();function Lv(e,n,t){return qv.bindCallbackInternals(!0,e,n,t)}o1.bindNodeCallback=Lv});var w2=b(s1=>{"use strict";Object.defineProperty(s1,"__esModule",{value:!0});s1.argsArgArrayOrObject=void 0;var zv=Array.isArray,Rv=Object.getPrototypeOf,Uv=Object.prototype,Kv=Object.keys;function Vv(e){if(e.length===1){var n=e[0];if(zv(n))return{args:n,keys:null};if(Hv(n)){var t=Kv(n);return{args:t.map(function(i){return n[i]}),keys:t}}}return{args:e,keys:null}}s1.argsArgArrayOrObject=Vv;function Hv(e){return e&&typeof e=="object"&&Rv(e)===Uv}});var S2=b(u1=>{"use strict";Object.defineProperty(u1,"__esModule",{value:!0});u1.createObject=void 0;function Gv(e,n){return e.reduce(function(t,i,r){return t[i]=n[r],t},{})}u1.createObject=Gv});var d1=b(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.combineLatestInit=ra.combineLatest=void 0;var Wv=pe(),Zv=w2(),d8=Ln(),m8=Le(),$v=Kt(),s8=Ye(),Qv=S2(),Yv=Y(),Jv=xt();function Xv(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=s8.popScheduler(e),i=s8.popResultSelector(e),r=Zv.argsArgArrayOrObject(e),a=r.args,o=r.keys;if(a.length===0)return d8.from([],t);var s=new Wv.Observable(l8(a,t,o?function(u){return Qv.createObject(o,u)}:m8.identity));return i?s.pipe($v.mapOneOrManyArgs(i)):s}ra.combineLatest=Xv;function l8(e,n,t){return t===void 0&&(t=m8.identity),function(i){u8(n,function(){for(var r=e.length,a=new Array(r),o=r,s=r,u=function(m){u8(n,function(){var l=d8.from(e[m],n),c=!1;l.subscribe(Yv.createOperatorSubscriber(i,function(h){a[m]=h,c||(c=!0,s--),s||i.next(t(a.slice()))},function(){--o||i.complete()}))},i)},d=0;d<r;d++)u(d)},i)}}ra.combineLatestInit=l8;function u8(e,n,t){e?Jv.executeSchedule(t,e,n):n()}});var l1=b(m1=>{"use strict";Object.defineProperty(m1,"__esModule",{value:!0});m1.mergeInternals=void 0;var eb=le(),nb=xt(),c8=Y();function tb(e,n,t,i,r,a,o,s){var u=[],d=0,m=0,l=!1,c=function(){l&&!u.length&&!d&&n.complete()},h=function(f){return d<i?p(f):u.push(f)},p=function(f){a&&n.next(f),d++;var y=!1;eb.innerFrom(t(f,m++)).subscribe(c8.createOperatorSubscriber(n,function(g){r?.(g),a?h(g):n.next(g)},function(){y=!0},void 0,function(){if(y)try{d--;for(var g=function(){var k=u.shift();o?nb.executeSchedule(n,o,function(){return p(k)}):p(k)};u.length&&d<i;)g();c()}catch(k){n.error(k)}}))};return e.subscribe(c8.createOperatorSubscriber(n,h,function(){l=!0,c()})),function(){s?.()}}m1.mergeInternals=tb});var pt=b(c1=>{"use strict";Object.defineProperty(c1,"__esModule",{value:!0});c1.mergeMap=void 0;var ib=Rt(),rb=le(),ab=K(),ob=l1(),sb=fe();function y8(e,n,t){return t===void 0&&(t=1/0),sb.isFunction(n)?y8(function(i,r){return ib.map(function(a,o){return n(i,a,r,o)})(rb.innerFrom(e(i,r)))},t):(typeof n=="number"&&(t=n),ab.operate(function(i,r){return ob.mergeInternals(i,r,e,t)}))}c1.mergeMap=y8});var ro=b(y1=>{"use strict";Object.defineProperty(y1,"__esModule",{value:!0});y1.mergeAll=void 0;var ub=pt(),db=Le();function mb(e){return e===void 0&&(e=1/0),ub.mergeMap(db.identity,e)}y1.mergeAll=mb});var f1=b(x1=>{"use strict";Object.defineProperty(x1,"__esModule",{value:!0});x1.concatAll=void 0;var lb=ro();function cb(){return lb.mergeAll(1)}x1.concatAll=cb});var ao=b(p1=>{"use strict";Object.defineProperty(p1,"__esModule",{value:!0});p1.concat=void 0;var yb=f1(),xb=Ye(),fb=Ln();function pb(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return yb.concatAll()(fb.from(e,xb.popScheduler(e)))}p1.concat=pb});var oo=b(h1=>{"use strict";Object.defineProperty(h1,"__esModule",{value:!0});h1.defer=void 0;var hb=pe(),gb=le();function vb(e){return new hb.Observable(function(n){gb.innerFrom(e()).subscribe(n)})}h1.defer=vb});var x8=b(g1=>{"use strict";Object.defineProperty(g1,"__esModule",{value:!0});g1.connectable=void 0;var bb=Be(),kb=pe(),Eb=oo(),_b={connector:function(){return new bb.Subject},resetOnDisconnect:!0};function wb(e,n){n===void 0&&(n=_b);var t=null,i=n.connector,r=n.resetOnDisconnect,a=r===void 0?!0:r,o=i(),s=new kb.Observable(function(u){return o.subscribe(u)});return s.connect=function(){return(!t||t.closed)&&(t=Eb.defer(function(){return e}).subscribe(o),a&&t.add(function(){return o=i()})),t},s}g1.connectable=wb});var f8=b(v1=>{"use strict";Object.defineProperty(v1,"__esModule",{value:!0});v1.forkJoin=void 0;var Sb=pe(),Ab=w2(),Ob=le(),Tb=Ye(),Nb=Y(),Ib=Kt(),Pb=S2();function Mb(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=Tb.popResultSelector(e),i=Ab.argsArgArrayOrObject(e),r=i.args,a=i.keys,o=new Sb.Observable(function(s){var u=r.length;if(!u){s.complete();return}for(var d=new Array(u),m=u,l=u,c=function(p){var f=!1;Ob.innerFrom(r[p]).subscribe(Nb.createOperatorSubscriber(s,function(y){f||(f=!0,l--),d[p]=y},function(){return m--},void 0,function(){(!m||!f)&&(l||s.next(a?Pb.createObject(a,d):d),s.complete())}))},h=0;h<u;h++)c(h)});return t?o.pipe(Ib.mapOneOrManyArgs(t)):o}v1.forkJoin=Mb});var h8=b(aa=>{"use strict";var Cb=aa&&aa.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a};Object.defineProperty(aa,"__esModule",{value:!0});aa.fromEvent=void 0;var Db=le(),jb=pe(),Fb=pt(),Bb=As(),Ui=fe(),qb=Kt(),Lb=["addListener","removeListener"],zb=["addEventListener","removeEventListener"],Rb=["on","off"];function A2(e,n,t,i){if(Ui.isFunction(t)&&(i=t,t=void 0),i)return A2(e,n,t).pipe(qb.mapOneOrManyArgs(i));var r=Cb(Vb(e)?zb.map(function(s){return function(u){return e[s](n,u,t)}}):Ub(e)?Lb.map(p8(e,n)):Kb(e)?Rb.map(p8(e,n)):[],2),a=r[0],o=r[1];if(!a&&Bb.isArrayLike(e))return Fb.mergeMap(function(s){return A2(s,n,t)})(Db.innerFrom(e));if(!a)throw new TypeError("Invalid event target");return new jb.Observable(function(s){var u=function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];return s.next(1<d.length?d:d[0])};return a(u),function(){return o(u)}})}aa.fromEvent=A2;function p8(e,n){return function(t){return function(i){return e[t](n,i)}}}function Ub(e){return Ui.isFunction(e.addListener)&&Ui.isFunction(e.removeListener)}function Kb(e){return Ui.isFunction(e.on)&&Ui.isFunction(e.off)}function Vb(e){return Ui.isFunction(e.addEventListener)&&Ui.isFunction(e.removeEventListener)}});var v8=b(b1=>{"use strict";Object.defineProperty(b1,"__esModule",{value:!0});b1.fromEventPattern=void 0;var Hb=pe(),Gb=fe(),Wb=Kt();function g8(e,n,t){return t?g8(e,n).pipe(Wb.mapOneOrManyArgs(t)):new Hb.Observable(function(i){var r=function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return i.next(o.length===1?o[0]:o)},a=e(r);return Gb.isFunction(n)?function(){return n(r,a)}:void 0})}b1.fromEventPattern=g8});var k8=b(oa=>{"use strict";var Zb=oa&&oa.__generator||function(e,n){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,r,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(d){return function(m){return u([d,m])}}function u(d){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,r&&(a=d[0]&2?r.return:d[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,d[1])).done)return a;switch(r=0,a&&(d=[d[0]&2,a.value]),d[0]){case 0:case 1:a=d;break;case 4:return t.label++,{value:d[1],done:!1};case 5:t.label++,r=d[1],d=[0];continue;case 7:d=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(d[0]===6||d[0]===2)){t=0;continue}if(d[0]===3&&(!a||d[1]>a[0]&&d[1]<a[3])){t.label=d[1];break}if(d[0]===6&&t.label<a[1]){t.label=a[1],a=d;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(d);break}a[2]&&t.ops.pop(),t.trys.pop();continue}d=n.call(e,t)}catch(m){d=[6,m],r=0}finally{i=a=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}};Object.defineProperty(oa,"__esModule",{value:!0});oa.generate=void 0;var b8=Le(),$b=no(),Qb=oo(),Yb=f2();function Jb(e,n,t,i,r){var a,o,s,u;arguments.length===1?(a=e,u=a.initialState,n=a.condition,t=a.iterate,o=a.resultSelector,s=o===void 0?b8.identity:o,r=a.scheduler):(u=e,!i||$b.isScheduler(i)?(s=b8.identity,r=i):s=i);function d(){var m;return Zb(this,function(l){switch(l.label){case 0:m=u,l.label=1;case 1:return!n||n(m)?[4,s(m)]:[3,4];case 2:l.sent(),l.label=3;case 3:return m=t(m),[3,1];case 4:return[2]}})}return Qb.defer(r?function(){return Yb.scheduleIterable(d(),r)}:d)}oa.generate=Jb});var E8=b(k1=>{"use strict";Object.defineProperty(k1,"__esModule",{value:!0});k1.iif=void 0;var Xb=oo();function ek(e,n,t){return Xb.defer(function(){return e()?n:t})}k1.iif=ek});var Ht=b(E1=>{"use strict";Object.defineProperty(E1,"__esModule",{value:!0});E1.timer=void 0;var nk=pe(),tk=Qe(),ik=no(),rk=t1();function ak(e,n,t){e===void 0&&(e=0),t===void 0&&(t=tk.async);var i=-1;return n!=null&&(ik.isScheduler(n)?t=n:i=n),new nk.Observable(function(r){var a=rk.isValidDate(e)?+e-t.now():e;a<0&&(a=0);var o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},a)})}E1.timer=ak});var O2=b(_1=>{"use strict";Object.defineProperty(_1,"__esModule",{value:!0});_1.interval=void 0;var ok=Qe(),sk=Ht();function uk(e,n){return e===void 0&&(e=0),n===void 0&&(n=ok.asyncScheduler),e<0&&(e=0),sk.timer(e,e,n)}_1.interval=uk});var w8=b(w1=>{"use strict";Object.defineProperty(w1,"__esModule",{value:!0});w1.merge=void 0;var dk=ro(),mk=le(),lk=kn(),_8=Ye(),ck=Ln();function yk(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=_8.popScheduler(e),i=_8.popNumber(e,1/0),r=e;return r.length?r.length===1?mk.innerFrom(r[0]):dk.mergeAll(i)(ck.from(r,t)):lk.EMPTY}w1.merge=yk});var T2=b(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.never=Ki.NEVER=void 0;var xk=pe(),fk=Fe();Ki.NEVER=new xk.Observable(fk.noop);function pk(){return Ki.NEVER}Ki.never=pk});var Vi=b(S1=>{"use strict";Object.defineProperty(S1,"__esModule",{value:!0});S1.argsOrArgArray=void 0;var hk=Array.isArray;function gk(e){return e.length===1&&hk(e[0])?e[0]:e}S1.argsOrArgArray=gk});var A8=b(Gt=>{"use strict";var vk=Gt&&Gt.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},bk=Gt&&Gt.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.onErrorResumeNext=void 0;var kk=K(),Ek=le(),_k=Vi(),wk=Y(),S8=Fe();function Sk(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=_k.argsOrArgArray(e);return kk.operate(function(i,r){var a=bk([i],vk(t)),o=function(){if(!r.closed)if(a.length>0){var s=void 0;try{s=Ek.innerFrom(a.shift())}catch{o();return}var u=wk.createOperatorSubscriber(r,void 0,S8.noop,S8.noop);s.subscribe(u),u.add(o)}else r.complete()};o()})}Gt.onErrorResumeNext=Sk});var O8=b(A1=>{"use strict";Object.defineProperty(A1,"__esModule",{value:!0});A1.onErrorResumeNext=void 0;var Ak=kn(),Ok=A8(),Tk=Vi();function Nk(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Ok.onErrorResumeNext(Tk.argsOrArgArray(e))(Ak.EMPTY)}A1.onErrorResumeNext=Nk});var T8=b(O1=>{"use strict";Object.defineProperty(O1,"__esModule",{value:!0});O1.pairs=void 0;var Ik=Ln();function Pk(e,n){return Ik.from(Object.entries(e),n)}O1.pairs=Pk});var N8=b(T1=>{"use strict";Object.defineProperty(T1,"__esModule",{value:!0});T1.not=void 0;function Mk(e,n){return function(t,i){return!e.call(n,t,i)}}T1.not=Mk});var Hi=b(N1=>{"use strict";Object.defineProperty(N1,"__esModule",{value:!0});N1.filter=void 0;var Ck=K(),Dk=Y();function jk(e,n){return Ck.operate(function(t,i){var r=0;t.subscribe(Dk.createOperatorSubscriber(i,function(a){return e.call(n,a,r++)&&i.next(a)}))})}N1.filter=jk});var M8=b(I1=>{"use strict";Object.defineProperty(I1,"__esModule",{value:!0});I1.partition=void 0;var Fk=N8(),I8=Hi(),P8=le();function Bk(e,n,t){return[I8.filter(n,t)(P8.innerFrom(e)),I8.filter(Fk.not(n,t))(P8.innerFrom(e))]}I1.partition=Bk});var N2=b(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.raceInit=sa.race=void 0;var qk=pe(),C8=le(),Lk=Vi(),zk=Y();function Rk(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e=Lk.argsOrArgArray(e),e.length===1?C8.innerFrom(e[0]):new qk.Observable(D8(e))}sa.race=Rk;function D8(e){return function(n){for(var t=[],i=function(a){t.push(C8.innerFrom(e[a]).subscribe(zk.createOperatorSubscriber(n,function(o){if(t){for(var s=0;s<t.length;s++)s!==a&&t[s].unsubscribe();t=null}n.next(o)})))},r=0;t&&!n.closed&&r<e.length;r++)i(r)}}sa.raceInit=D8});var j8=b(P1=>{"use strict";Object.defineProperty(P1,"__esModule",{value:!0});P1.range=void 0;var Uk=pe(),Kk=kn();function Vk(e,n,t){if(n==null&&(n=e,e=0),n<=0)return Kk.EMPTY;var i=n+e;return new Uk.Observable(t?function(r){var a=e;return t.schedule(function(){a<i?(r.next(a++),this.schedule()):r.complete()})}:function(r){for(var a=e;a<i&&!r.closed;)r.next(a++);r.complete()})}P1.range=Vk});var F8=b(M1=>{"use strict";Object.defineProperty(M1,"__esModule",{value:!0});M1.using=void 0;var Hk=pe(),Gk=le(),Wk=kn();function Zk(e,n){return new Hk.Observable(function(t){var i=e(),r=n(i),a=r?Gk.innerFrom(r):Wk.EMPTY;return a.subscribe(t),function(){i&&i.unsubscribe()}})}M1.using=Zk});var C1=b(Wt=>{"use strict";var $k=Wt&&Wt.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},Qk=Wt&&Wt.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.zip=void 0;var Yk=pe(),Jk=le(),Xk=Vi(),eE=kn(),nE=Y(),tE=Ye();function iE(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=tE.popResultSelector(e),i=Xk.argsOrArgArray(e);return i.length?new Yk.Observable(function(r){var a=i.map(function(){return[]}),o=i.map(function(){return!1});r.add(function(){a=o=null});for(var s=function(d){Jk.innerFrom(i[d]).subscribe(nE.createOperatorSubscriber(r,function(m){if(a[d].push(m),a.every(function(c){return c.length})){var l=a.map(function(c){return c.shift()});r.next(t?t.apply(void 0,Qk([],$k(l))):l),a.some(function(c,h){return!c.length&&o[h]})&&r.complete()}},function(){o[d]=!0,!a[d].length&&r.complete()}))},u=0;!r.closed&&u<i.length;u++)s(u);return function(){a=o=null}}):eE.EMPTY}Wt.zip=iE});var q8=b(B8=>{"use strict";Object.defineProperty(B8,"__esModule",{value:!0})});var I2=b(D1=>{"use strict";Object.defineProperty(D1,"__esModule",{value:!0});D1.audit=void 0;var rE=K(),aE=le(),L8=Y();function oE(e){return rE.operate(function(n,t){var i=!1,r=null,a=null,o=!1,s=function(){if(a?.unsubscribe(),a=null,i){i=!1;var d=r;r=null,t.next(d)}o&&t.complete()},u=function(){a=null,o&&t.complete()};n.subscribe(L8.createOperatorSubscriber(t,function(d){i=!0,r=d,a||aE.innerFrom(e(d)).subscribe(a=L8.createOperatorSubscriber(t,s,u))},function(){o=!0,(!i||!a||a.closed)&&t.complete()}))})}D1.audit=oE});var z8=b(j1=>{"use strict";Object.defineProperty(j1,"__esModule",{value:!0});j1.auditTime=void 0;var sE=Qe(),uE=I2(),dE=Ht();function mE(e,n){return n===void 0&&(n=sE.asyncScheduler),uE.audit(function(){return dE.timer(e,n)})}j1.auditTime=mE});var U8=b(F1=>{"use strict";Object.defineProperty(F1,"__esModule",{value:!0});F1.buffer=void 0;var lE=K(),cE=Fe(),R8=Y();function yE(e){return lE.operate(function(n,t){var i=[];return n.subscribe(R8.createOperatorSubscriber(t,function(r){return i.push(r)},function(){t.next(i),t.complete()})),e.subscribe(R8.createOperatorSubscriber(t,function(){var r=i;i=[],t.next(r)},cE.noop)),function(){i=null}})}F1.buffer=yE});var K8=b(ua=>{"use strict";var P2=ua&&ua.__values||function(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ua,"__esModule",{value:!0});ua.bufferCount=void 0;var xE=K(),fE=Y(),pE=yt();function hE(e,n){return n===void 0&&(n=null),n=n??e,xE.operate(function(t,i){var r=[],a=0;t.subscribe(fE.createOperatorSubscriber(i,function(o){var s,u,d,m,l=null;a++%n===0&&r.push([]);try{for(var c=P2(r),h=c.next();!h.done;h=c.next()){var p=h.value;p.push(o),e<=p.length&&(l=l??[],l.push(p))}}catch(g){s={error:g}}finally{try{h&&!h.done&&(u=c.return)&&u.call(c)}finally{if(s)throw s.error}}if(l)try{for(var f=P2(l),y=f.next();!y.done;y=f.next()){var p=y.value;pE.arrRemove(r,p),i.next(p)}}catch(g){d={error:g}}finally{try{y&&!y.done&&(m=f.return)&&m.call(f)}finally{if(d)throw d.error}}},function(){var o,s;try{for(var u=P2(r),d=u.next();!d.done;d=u.next()){var m=d.value;i.next(m)}}catch(l){o={error:l}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}i.complete()},void 0,function(){r=null}))})}ua.bufferCount=hE});var H8=b(da=>{"use strict";var gE=da&&da.__values||function(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(da,"__esModule",{value:!0});da.bufferTime=void 0;var vE=$e(),bE=K(),kE=Y(),EE=yt(),_E=Qe(),wE=Ye(),V8=xt();function SE(e){for(var n,t,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var a=(n=wE.popScheduler(i))!==null&&n!==void 0?n:_E.asyncScheduler,o=(t=i[0])!==null&&t!==void 0?t:null,s=i[1]||1/0;return bE.operate(function(u,d){var m=[],l=!1,c=function(f){var y=f.buffer,g=f.subs;g.unsubscribe(),EE.arrRemove(m,f),d.next(y),l&&h()},h=function(){if(m){var f=new vE.Subscription;d.add(f);var y=[],g={buffer:y,subs:f};m.push(g),V8.executeSchedule(f,a,function(){return c(g)},e)}};o!==null&&o>=0?V8.executeSchedule(d,a,h,o,!0):l=!0,h();var p=kE.createOperatorSubscriber(d,function(f){var y,g,k=m.slice();try{for(var v=gE(k),E=v.next();!E.done;E=v.next()){var S=E.value,w=S.buffer;w.push(f),s<=w.length&&c(S)}}catch(O){y={error:O}}finally{try{E&&!E.done&&(g=v.return)&&g.call(v)}finally{if(y)throw y.error}}},function(){for(;m?.length;)d.next(m.shift().buffer);p?.unsubscribe(),d.complete(),d.unsubscribe()},void 0,function(){return m=null});u.subscribe(p)})}da.bufferTime=SE});var Z8=b(ma=>{"use strict";var AE=ma&&ma.__values||function(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ma,"__esModule",{value:!0});ma.bufferToggle=void 0;var OE=$e(),TE=K(),G8=le(),M2=Y(),W8=Fe(),NE=yt();function IE(e,n){return TE.operate(function(t,i){var r=[];G8.innerFrom(e).subscribe(M2.createOperatorSubscriber(i,function(a){var o=[];r.push(o);var s=new OE.Subscription,u=function(){NE.arrRemove(r,o),i.next(o),s.unsubscribe()};s.add(G8.innerFrom(n(a)).subscribe(M2.createOperatorSubscriber(i,u,W8.noop)))},W8.noop)),t.subscribe(M2.createOperatorSubscriber(i,function(a){var o,s;try{for(var u=AE(r),d=u.next();!d.done;d=u.next()){var m=d.value;m.push(a)}}catch(l){o={error:l}}finally{try{d&&!d.done&&(s=u.return)&&s.call(u)}finally{if(o)throw o.error}}},function(){for(;r.length>0;)i.next(r.shift());i.complete()}))})}ma.bufferToggle=IE});var Q8=b(B1=>{"use strict";Object.defineProperty(B1,"__esModule",{value:!0});B1.bufferWhen=void 0;var PE=K(),ME=Fe(),$8=Y(),CE=le();function DE(e){return PE.operate(function(n,t){var i=null,r=null,a=function(){r?.unsubscribe();var o=i;i=[],o&&t.next(o),CE.innerFrom(e()).subscribe(r=$8.createOperatorSubscriber(t,a,ME.noop))};a(),n.subscribe($8.createOperatorSubscriber(t,function(o){return i?.push(o)},function(){i&&t.next(i),t.complete()},void 0,function(){return i=r=null}))})}B1.bufferWhen=DE});var J8=b(q1=>{"use strict";Object.defineProperty(q1,"__esModule",{value:!0});q1.catchError=void 0;var jE=le(),FE=Y(),BE=K();function Y8(e){return BE.operate(function(n,t){var i=null,r=!1,a;i=n.subscribe(FE.createOperatorSubscriber(t,void 0,void 0,function(o){a=jE.innerFrom(e(o,Y8(e)(n))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}q1.catchError=Y8});var C2=b(L1=>{"use strict";Object.defineProperty(L1,"__esModule",{value:!0});L1.scanInternals=void 0;var qE=Y();function LE(e,n,t,i,r){return function(a,o){var s=t,u=n,d=0;a.subscribe(qE.createOperatorSubscriber(o,function(m){var l=d++;u=s?e(u,m,l):(s=!0,m),i&&o.next(u)},r&&function(){s&&o.next(u),o.complete()}))}}L1.scanInternals=LE});var la=b(z1=>{"use strict";Object.defineProperty(z1,"__esModule",{value:!0});z1.reduce=void 0;var zE=C2(),RE=K();function UE(e,n){return RE.operate(zE.scanInternals(e,n,arguments.length>=2,!1,!0))}z1.reduce=UE});var D2=b(R1=>{"use strict";Object.defineProperty(R1,"__esModule",{value:!0});R1.toArray=void 0;var KE=la(),VE=K(),HE=function(e,n){return e.push(n),e};function GE(){return VE.operate(function(e,n){KE.reduce(HE,[])(e).subscribe(n)})}R1.toArray=GE});var j2=b(U1=>{"use strict";Object.defineProperty(U1,"__esModule",{value:!0});U1.joinAllInternals=void 0;var WE=Le(),ZE=Kt(),$E=Ya(),QE=pt(),YE=D2();function JE(e,n){return $E.pipe(YE.toArray(),QE.mergeMap(function(t){return e(t)}),n?ZE.mapOneOrManyArgs(n):WE.identity)}U1.joinAllInternals=JE});var F2=b(K1=>{"use strict";Object.defineProperty(K1,"__esModule",{value:!0});K1.combineLatestAll=void 0;var XE=d1(),e_=j2();function n_(e){return e_.joinAllInternals(XE.combineLatest,e)}K1.combineLatestAll=n_});var X8=b(V1=>{"use strict";Object.defineProperty(V1,"__esModule",{value:!0});V1.combineAll=void 0;var t_=F2();V1.combineAll=t_.combineLatestAll});var i7=b(Zt=>{"use strict";var e7=Zt&&Zt.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},n7=Zt&&Zt.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.combineLatest=void 0;var i_=d1(),r_=K(),a_=Vi(),o_=Kt(),s_=Ya(),u_=Ye();function t7(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=u_.popResultSelector(e);return t?s_.pipe(t7.apply(void 0,n7([],e7(e))),o_.mapOneOrManyArgs(t)):r_.operate(function(i,r){i_.combineLatestInit(n7([i],e7(a_.argsOrArgArray(e))))(r)})}Zt.combineLatest=t7});var r7=b($t=>{"use strict";var d_=$t&&$t.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},m_=$t&&$t.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty($t,"__esModule",{value:!0});$t.combineLatestWith=void 0;var l_=i7();function c_(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return l_.combineLatest.apply(void 0,m_([],d_(e)))}$t.combineLatestWith=c_});var B2=b(H1=>{"use strict";Object.defineProperty(H1,"__esModule",{value:!0});H1.concatMap=void 0;var a7=pt(),y_=fe();function x_(e,n){return y_.isFunction(n)?a7.mergeMap(e,n,1):a7.mergeMap(e,1)}H1.concatMap=x_});var s7=b(G1=>{"use strict";Object.defineProperty(G1,"__esModule",{value:!0});G1.concatMapTo=void 0;var o7=B2(),f_=fe();function p_(e,n){return f_.isFunction(n)?o7.concatMap(function(){return e},n):o7.concatMap(function(){return e})}G1.concatMapTo=p_});var u7=b(Qt=>{"use strict";var h_=Qt&&Qt.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},g_=Qt&&Qt.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.concat=void 0;var v_=K(),b_=f1(),k_=Ye(),E_=Ln();function __(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=k_.popScheduler(e);return v_.operate(function(i,r){b_.concatAll()(E_.from(g_([i],h_(e)),t)).subscribe(r)})}Qt.concat=__});var d7=b(Yt=>{"use strict";var w_=Yt&&Yt.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},S_=Yt&&Yt.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.concatWith=void 0;var A_=u7();function O_(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return A_.concat.apply(void 0,S_([],w_(e)))}Yt.concatWith=O_});var m7=b(W1=>{"use strict";Object.defineProperty(W1,"__esModule",{value:!0});W1.fromSubscribable=void 0;var T_=pe();function N_(e){return new T_.Observable(function(n){return e.subscribe(n)})}W1.fromSubscribable=N_});var $1=b(Z1=>{"use strict";Object.defineProperty(Z1,"__esModule",{value:!0});Z1.connect=void 0;var I_=Be(),P_=Ln(),M_=K(),C_=m7(),D_={connector:function(){return new I_.Subject}};function j_(e,n){n===void 0&&(n=D_);var t=n.connector;return M_.operate(function(i,r){var a=t();P_.from(e(C_.fromSubscribable(a))).subscribe(r),r.add(i.subscribe(a))})}Z1.connect=j_});var l7=b(Q1=>{"use strict";Object.defineProperty(Q1,"__esModule",{value:!0});Q1.count=void 0;var F_=la();function B_(e){return F_.reduce(function(n,t,i){return!e||e(t,i)?n+1:n},0)}Q1.count=B_});var y7=b(Y1=>{"use strict";Object.defineProperty(Y1,"__esModule",{value:!0});Y1.debounce=void 0;var q_=K(),L_=Fe(),c7=Y(),z_=le();function R_(e){return q_.operate(function(n,t){var i=!1,r=null,a=null,o=function(){if(a?.unsubscribe(),a=null,i){i=!1;var s=r;r=null,t.next(s)}};n.subscribe(c7.createOperatorSubscriber(t,function(s){a?.unsubscribe(),i=!0,r=s,a=c7.createOperatorSubscriber(t,o,L_.noop),z_.innerFrom(e(s)).subscribe(a)},function(){o(),t.complete()},void 0,function(){r=a=null}))})}Y1.debounce=R_});var x7=b(J1=>{"use strict";Object.defineProperty(J1,"__esModule",{value:!0});J1.debounceTime=void 0;var U_=Qe(),K_=K(),V_=Y();function H_(e,n){return n===void 0&&(n=U_.asyncScheduler),K_.operate(function(t,i){var r=null,a=null,o=null,s=function(){if(r){r.unsubscribe(),r=null;var d=a;a=null,i.next(d)}};function u(){var d=o+e,m=n.now();if(m<d){r=this.schedule(void 0,d-m),i.add(r);return}s()}t.subscribe(V_.createOperatorSubscriber(i,function(d){a=d,o=n.now(),r||(r=n.schedule(u,e),i.add(r))},function(){s(),i.complete()},void 0,function(){a=r=null}))})}J1.debounceTime=H_});var so=b(X1=>{"use strict";Object.defineProperty(X1,"__esModule",{value:!0});X1.defaultIfEmpty=void 0;var G_=K(),W_=Y();function Z_(e){return G_.operate(function(n,t){var i=!1;n.subscribe(W_.createOperatorSubscriber(t,function(r){i=!0,t.next(r)},function(){i||t.next(e),t.complete()}))})}X1.defaultIfEmpty=Z_});var ca=b(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.take=void 0;var $_=kn(),Q_=K(),Y_=Y();function J_(e){return e<=0?function(){return $_.EMPTY}:Q_.operate(function(n,t){var i=0;n.subscribe(Y_.createOperatorSubscriber(t,function(r){++i<=e&&(t.next(r),e<=i&&t.complete())}))})}eu.take=J_});var q2=b(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.ignoreElements=void 0;var X_=K(),ew=Y(),nw=Fe();function tw(){return X_.operate(function(e,n){e.subscribe(ew.createOperatorSubscriber(n,nw.noop))})}nu.ignoreElements=tw});var L2=b(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.mapTo=void 0;var iw=Rt();function rw(e){return iw.map(function(){return e})}tu.mapTo=rw});var z2=b(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.delayWhen=void 0;var aw=ao(),f7=ca(),ow=q2(),sw=L2(),uw=pt();function p7(e,n){return n?function(t){return aw.concat(n.pipe(f7.take(1),ow.ignoreElements()),t.pipe(p7(e)))}:uw.mergeMap(function(t,i){return e(t,i).pipe(f7.take(1),sw.mapTo(t))})}iu.delayWhen=p7});var h7=b(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.delay=void 0;var dw=Qe(),mw=z2(),lw=Ht();function cw(e,n){n===void 0&&(n=dw.asyncScheduler);var t=lw.timer(e,n);return mw.delayWhen(function(){return t})}ru.delay=cw});var g7=b(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.dematerialize=void 0;var yw=Ws(),xw=K(),fw=Y();function pw(){return xw.operate(function(e,n){e.subscribe(fw.createOperatorSubscriber(n,function(t){return yw.observeNotification(t,n)}))})}au.dematerialize=pw});var b7=b(ou=>{"use strict";Object.defineProperty(ou,"__esModule",{value:!0});ou.distinct=void 0;var hw=K(),v7=Y(),gw=Fe();function vw(e,n){return hw.operate(function(t,i){var r=new Set;t.subscribe(v7.createOperatorSubscriber(i,function(a){var o=e?e(a):a;r.has(o)||(r.add(o),i.next(a))})),n?.subscribe(v7.createOperatorSubscriber(i,function(){return r.clear()},gw.noop))})}ou.distinct=vw});var R2=b(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.distinctUntilChanged=void 0;var bw=Le(),kw=K(),Ew=Y();function _w(e,n){return n===void 0&&(n=bw.identity),e=e??ww,kw.operate(function(t,i){var r,a=!0;t.subscribe(Ew.createOperatorSubscriber(i,function(o){var s=n(o);(a||!e(r,s))&&(a=!1,r=s,i.next(o))}))})}su.distinctUntilChanged=_w;function ww(e,n){return e===n}});var k7=b(uu=>{"use strict";Object.defineProperty(uu,"__esModule",{value:!0});uu.distinctUntilKeyChanged=void 0;var Sw=R2();function Aw(e,n){return Sw.distinctUntilChanged(function(t,i){return n?n(t[e],i[e]):t[e]===i[e]})}uu.distinctUntilKeyChanged=Aw});var uo=b(du=>{"use strict";Object.defineProperty(du,"__esModule",{value:!0});du.throwIfEmpty=void 0;var Ow=zt(),Tw=K(),Nw=Y();function Iw(e){return e===void 0&&(e=Pw),Tw.operate(function(n,t){var i=!1;n.subscribe(Nw.createOperatorSubscriber(t,function(r){i=!0,t.next(r)},function(){return i?t.complete():t.error(e())}))})}du.throwIfEmpty=Iw;function Pw(){return new Ow.EmptyError}});var _7=b(mu=>{"use strict";Object.defineProperty(mu,"__esModule",{value:!0});mu.elementAt=void 0;var E7=v2(),Mw=Hi(),Cw=uo(),Dw=so(),jw=ca();function Fw(e,n){if(e<0)throw new E7.ArgumentOutOfRangeError;var t=arguments.length>=2;return function(i){return i.pipe(Mw.filter(function(r,a){return a===e}),jw.take(1),t?Dw.defaultIfEmpty(n):Cw.throwIfEmpty(function(){return new E7.ArgumentOutOfRangeError}))}}mu.elementAt=Fw});var w7=b(Jt=>{"use strict";var Bw=Jt&&Jt.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},qw=Jt&&Jt.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.endWith=void 0;var Lw=ao(),zw=Hs();function Rw(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(t){return Lw.concat(t,zw.of.apply(void 0,qw([],Bw(e))))}}Jt.endWith=Rw});var S7=b(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.every=void 0;var Uw=K(),Kw=Y();function Vw(e,n){return Uw.operate(function(t,i){var r=0;t.subscribe(Kw.createOperatorSubscriber(i,function(a){e.call(n,a,r++,t)||(i.next(!1),i.complete())},function(){i.next(!0),i.complete()}))})}lu.every=Vw});var U2=b(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.exhaustAll=void 0;var Hw=K(),Gw=le(),A7=Y();function Ww(){return Hw.operate(function(e,n){var t=!1,i=null;e.subscribe(A7.createOperatorSubscriber(n,function(r){i||(i=Gw.innerFrom(r).subscribe(A7.createOperatorSubscriber(n,void 0,function(){i=null,t&&n.complete()})))},function(){t=!0,!i&&n.complete()}))})}cu.exhaustAll=Ww});var O7=b(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.exhaust=void 0;var Zw=U2();yu.exhaust=Zw.exhaustAll});var P7=b(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.exhaustMap=void 0;var $w=Rt(),T7=le(),Qw=K(),N7=Y();function I7(e,n){return n?function(t){return t.pipe(I7(function(i,r){return T7.innerFrom(e(i,r)).pipe($w.map(function(a,o){return n(i,a,r,o)}))}))}:Qw.operate(function(t,i){var r=0,a=null,o=!1;t.subscribe(N7.createOperatorSubscriber(i,function(s){a||(a=N7.createOperatorSubscriber(i,void 0,function(){a=null,o&&i.complete()}),T7.innerFrom(e(s,r++)).subscribe(a))},function(){o=!0,!a&&i.complete()}))})}xu.exhaustMap=I7});var M7=b(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.expand=void 0;var Yw=K(),Jw=l1();function Xw(e,n,t){return n===void 0&&(n=1/0),n=(n||0)<1?1/0:n,Yw.operate(function(i,r){return Jw.mergeInternals(i,r,e,n,void 0,!0,t)})}fu.expand=Xw});var C7=b(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.finalize=void 0;var eS=K();function nS(e){return eS.operate(function(n,t){try{n.subscribe(t)}finally{t.add(e)}})}pu.finalize=nS});var K2=b(ya=>{"use strict";Object.defineProperty(ya,"__esModule",{value:!0});ya.createFind=ya.find=void 0;var tS=K(),iS=Y();function rS(e,n){return tS.operate(D7(e,n,"value"))}ya.find=rS;function D7(e,n,t){var i=t==="index";return function(r,a){var o=0;r.subscribe(iS.createOperatorSubscriber(a,function(s){var u=o++;e.call(n,s,u,r)&&(a.next(i?u:s),a.complete())},function(){a.next(i?-1:void 0),a.complete()}))}}ya.createFind=D7});var j7=b(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.findIndex=void 0;var aS=K(),oS=K2();function sS(e,n){return aS.operate(oS.createFind(e,n,"index"))}hu.findIndex=sS});var F7=b(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.first=void 0;var uS=zt(),dS=Hi(),mS=ca(),lS=so(),cS=uo(),yS=Le();function xS(e,n){var t=arguments.length>=2;return function(i){return i.pipe(e?dS.filter(function(r,a){return e(r,a,i)}):yS.identity,mS.take(1),t?lS.defaultIfEmpty(n):cS.throwIfEmpty(function(){return new uS.EmptyError}))}}gu.first=xS});var q7=b(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.groupBy=void 0;var fS=pe(),pS=le(),hS=Be(),gS=K(),B7=Y();function vS(e,n,t,i){return gS.operate(function(r,a){var o;!n||typeof n=="function"?o=n:(t=n.duration,o=n.element,i=n.connector);var s=new Map,u=function(p){s.forEach(p),p(a)},d=function(p){return u(function(f){return f.error(p)})},m=0,l=!1,c=new B7.OperatorSubscriber(a,function(p){try{var f=e(p),y=s.get(f);if(!y){s.set(f,y=i?i():new hS.Subject);var g=h(f,y);if(a.next(g),t){var k=B7.createOperatorSubscriber(y,function(){y.complete(),k?.unsubscribe()},void 0,void 0,function(){return s.delete(f)});c.add(pS.innerFrom(t(g)).subscribe(k))}}y.next(o?o(p):p)}catch(v){d(v)}},function(){return u(function(p){return p.complete()})},d,function(){return s.clear()},function(){return l=!0,m===0});r.subscribe(c);function h(p,f){var y=new fS.Observable(function(g){m++;var k=f.subscribe(g);return function(){k.unsubscribe(),--m===0&&l&&c.unsubscribe()}});return y.key=p,y}})}vu.groupBy=vS});var L7=b(bu=>{"use strict";Object.defineProperty(bu,"__esModule",{value:!0});bu.isEmpty=void 0;var bS=K(),kS=Y();function ES(){return bS.operate(function(e,n){e.subscribe(kS.createOperatorSubscriber(n,function(){n.next(!1),n.complete()},function(){n.next(!0),n.complete()}))})}bu.isEmpty=ES});var V2=b(xa=>{"use strict";var _S=xa&&xa.__values||function(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(xa,"__esModule",{value:!0});xa.takeLast=void 0;var wS=kn(),SS=K(),AS=Y();function OS(e){return e<=0?function(){return wS.EMPTY}:SS.operate(function(n,t){var i=[];n.subscribe(AS.createOperatorSubscriber(t,function(r){i.push(r),e<i.length&&i.shift()},function(){var r,a;try{for(var o=_S(i),s=o.next();!s.done;s=o.next()){var u=s.value;t.next(u)}}catch(d){r={error:d}}finally{try{s&&!s.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}t.complete()},void 0,function(){i=null}))})}xa.takeLast=OS});var z7=b(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.last=void 0;var TS=zt(),NS=Hi(),IS=V2(),PS=uo(),MS=so(),CS=Le();function DS(e,n){var t=arguments.length>=2;return function(i){return i.pipe(e?NS.filter(function(r,a){return e(r,a,i)}):CS.identity,IS.takeLast(1),t?MS.defaultIfEmpty(n):PS.throwIfEmpty(function(){return new TS.EmptyError}))}}ku.last=DS});var R7=b(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.materialize=void 0;var H2=Ws(),jS=K(),FS=Y();function BS(){return jS.operate(function(e,n){e.subscribe(FS.createOperatorSubscriber(n,function(t){n.next(H2.Notification.createNext(t))},function(){n.next(H2.Notification.createComplete()),n.complete()},function(t){n.next(H2.Notification.createError(t)),n.complete()}))})}Eu.materialize=BS});var U7=b(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.max=void 0;var qS=la(),LS=fe();function zS(e){return qS.reduce(LS.isFunction(e)?function(n,t){return e(n,t)>0?n:t}:function(n,t){return n>t?n:t})}_u.max=zS});var K7=b(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.flatMap=void 0;var RS=pt();wu.flatMap=RS.mergeMap});var H7=b(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.mergeMapTo=void 0;var V7=pt(),US=fe();function KS(e,n,t){return t===void 0&&(t=1/0),US.isFunction(n)?V7.mergeMap(function(){return e},n,t):(typeof n=="number"&&(t=n),V7.mergeMap(function(){return e},t))}Su.mergeMapTo=KS});var G7=b(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.mergeScan=void 0;var VS=K(),HS=l1();function GS(e,n,t){return t===void 0&&(t=1/0),VS.operate(function(i,r){var a=n;return HS.mergeInternals(i,r,function(o,s){return e(a,o,s)},t,function(o){a=o},!1,void 0,function(){return a=null})})}Au.mergeScan=GS});var Z7=b(Xt=>{"use strict";var WS=Xt&&Xt.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},ZS=Xt&&Xt.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.merge=void 0;var $S=K(),QS=Vi(),YS=ro(),W7=Ye(),JS=Ln();function XS(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=W7.popScheduler(e),i=W7.popNumber(e,1/0);return e=QS.argsOrArgArray(e),$S.operate(function(r,a){YS.mergeAll(i)(JS.from(ZS([r],WS(e)),t)).subscribe(a)})}Xt.merge=XS});var $7=b(ei=>{"use strict";var eA=ei&&ei.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},nA=ei&&ei.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty(ei,"__esModule",{value:!0});ei.mergeWith=void 0;var tA=Z7();function iA(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return tA.merge.apply(void 0,nA([],eA(e)))}ei.mergeWith=iA});var Q7=b(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.min=void 0;var rA=la(),aA=fe();function oA(e){return rA.reduce(aA.isFunction(e)?function(n,t){return e(n,t)<0?n:t}:function(n,t){return n<t?n:t})}Ou.min=oA});var Nu=b(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.multicast=void 0;var sA=Ja(),Y7=fe(),uA=$1();function dA(e,n){var t=Y7.isFunction(e)?e:function(){return e};return Y7.isFunction(n)?uA.connect(n,{connector:t}):function(i){return new sA.ConnectableObservable(i,t)}}Tu.multicast=dA});var J7=b(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.pairwise=void 0;var mA=K(),lA=Y();function cA(){return mA.operate(function(e,n){var t,i=!1;e.subscribe(lA.createOperatorSubscriber(n,function(r){var a=t;t=r,i&&n.next([a,r]),i=!0}))})}Iu.pairwise=cA});var X7=b(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.pluck=void 0;var yA=Rt();function xA(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=e.length;if(t===0)throw new Error("list of properties cannot be empty.");return yA.map(function(i){for(var r=i,a=0;a<t;a++){var o=r?.[e[a]];if(typeof o<"u")r=o;else return}return r})}Pu.pluck=xA});var ey=b(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.publish=void 0;var fA=Be(),pA=Nu(),hA=$1();function gA(e){return e?function(n){return hA.connect(e)(n)}:function(n){return pA.multicast(new fA.Subject)(n)}}Mu.publish=gA});var ny=b(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.publishBehavior=void 0;var vA=t2(),bA=Ja();function kA(e){return function(n){var t=new vA.BehaviorSubject(e);return new bA.ConnectableObservable(n,function(){return t})}}Cu.publishBehavior=kA});var ty=b(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.publishLast=void 0;var EA=ks(),_A=Ja();function wA(){return function(e){var n=new EA.AsyncSubject;return new _A.ConnectableObservable(e,function(){return n})}}Du.publishLast=wA});var ry=b(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.publishReplay=void 0;var SA=bs(),AA=Nu(),iy=fe();function OA(e,n,t,i){t&&!iy.isFunction(t)&&(i=t);var r=iy.isFunction(t)?t:void 0;return function(a){return AA.multicast(new SA.ReplaySubject(e,n,i),r)(a)}}ju.publishReplay=OA});var ay=b(ni=>{"use strict";var TA=ni&&ni.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},NA=ni&&ni.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty(ni,"__esModule",{value:!0});ni.raceWith=void 0;var IA=N2(),PA=K(),MA=Le();function CA(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length?PA.operate(function(t,i){IA.raceInit(NA([t],TA(e)))(i)}):MA.identity}ni.raceWith=CA});var sy=b(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.repeat=void 0;var DA=kn(),jA=K(),oy=Y(),FA=le(),BA=Ht();function qA(e){var n,t=1/0,i;return e!=null&&(typeof e=="object"?(n=e.count,t=n===void 0?1/0:n,i=e.delay):t=e),t<=0?function(){return DA.EMPTY}:jA.operate(function(r,a){var o=0,s,u=function(){if(s?.unsubscribe(),s=null,i!=null){var m=typeof i=="number"?BA.timer(i):FA.innerFrom(i(o)),l=oy.createOperatorSubscriber(a,function(){l.unsubscribe(),d()});m.subscribe(l)}else d()},d=function(){var m=!1;s=r.subscribe(oy.createOperatorSubscriber(a,void 0,function(){++o<t?s?u():m=!0:a.complete()})),m&&u()};d()})}Fu.repeat=qA});var dy=b(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.repeatWhen=void 0;var LA=Be(),zA=K(),uy=Y();function RA(e){return zA.operate(function(n,t){var i,r=!1,a,o=!1,s=!1,u=function(){return s&&o&&(t.complete(),!0)},d=function(){return a||(a=new LA.Subject,e(a).subscribe(uy.createOperatorSubscriber(t,function(){i?m():r=!0},function(){o=!0,u()}))),a},m=function(){s=!1,i=n.subscribe(uy.createOperatorSubscriber(t,void 0,function(){s=!0,!u()&&d().next()})),r&&(i.unsubscribe(),i=null,r=!1,m())};m()})}Bu.repeatWhen=RA});var ly=b(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.retry=void 0;var UA=K(),my=Y(),KA=Le(),VA=Ht(),HA=le();function GA(e){e===void 0&&(e=1/0);var n;e&&typeof e=="object"?n=e:n={count:e};var t=n.count,i=t===void 0?1/0:t,r=n.delay,a=n.resetOnSuccess,o=a===void 0?!1:a;return i<=0?KA.identity:UA.operate(function(s,u){var d=0,m,l=function(){var c=!1;m=s.subscribe(my.createOperatorSubscriber(u,function(h){o&&(d=0),u.next(h)},void 0,function(h){if(d++<i){var p=function(){m?(m.unsubscribe(),m=null,l()):c=!0};if(r!=null){var f=typeof r=="number"?VA.timer(r):HA.innerFrom(r(h,d)),y=my.createOperatorSubscriber(u,function(){y.unsubscribe(),p()},function(){u.complete()});f.subscribe(y)}else p()}else u.error(h)})),c&&(m.unsubscribe(),m=null,l())};l()})}qu.retry=GA});var yy=b(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.retryWhen=void 0;var WA=Be(),ZA=K(),cy=Y();function $A(e){return ZA.operate(function(n,t){var i,r=!1,a,o=function(){i=n.subscribe(cy.createOperatorSubscriber(t,void 0,void 0,function(s){a||(a=new WA.Subject,e(a).subscribe(cy.createOperatorSubscriber(t,function(){return i?o():r=!0}))),a&&a.next(s)})),r&&(i.unsubscribe(),i=null,r=!1,o())};o()})}Lu.retryWhen=$A});var G2=b(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.sample=void 0;var QA=K(),YA=Fe(),xy=Y();function JA(e){return QA.operate(function(n,t){var i=!1,r=null;n.subscribe(xy.createOperatorSubscriber(t,function(a){i=!0,r=a})),e.subscribe(xy.createOperatorSubscriber(t,function(){if(i){i=!1;var a=r;r=null,t.next(a)}},YA.noop))})}zu.sample=JA});var fy=b(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.sampleTime=void 0;var XA=Qe(),eO=G2(),nO=O2();function tO(e,n){return n===void 0&&(n=XA.asyncScheduler),eO.sample(nO.interval(e,n))}Ru.sampleTime=tO});var py=b(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.scan=void 0;var iO=K(),rO=C2();function aO(e,n){return iO.operate(rO.scanInternals(e,n,arguments.length>=2,!0))}Uu.scan=aO});var gy=b(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.sequenceEqual=void 0;var oO=K(),sO=Y();function uO(e,n){return n===void 0&&(n=function(t,i){return t===i}),oO.operate(function(t,i){var r=hy(),a=hy(),o=function(u){i.next(u),i.complete()},s=function(u,d){var m=sO.createOperatorSubscriber(i,function(l){var c=d.buffer,h=d.complete;c.length===0?h?o(!1):u.buffer.push(l):!n(l,c.shift())&&o(!1)},function(){u.complete=!0;var l=d.complete,c=d.buffer;l&&o(c.length===0),m?.unsubscribe()});return m};t.subscribe(s(r,a)),e.subscribe(s(a,r))})}Ku.sequenceEqual=uO;function hy(){return{buffer:[],complete:!1}}});var Z2=b(ti=>{"use strict";var dO=ti&&ti.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},mO=ti&&ti.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty(ti,"__esModule",{value:!0});ti.share=void 0;var lO=Ln(),cO=ca(),yO=Be(),xO=Fr(),fO=K();function pO(e){e===void 0&&(e={});var n=e.connector,t=n===void 0?function(){return new yO.Subject}:n,i=e.resetOnError,r=i===void 0?!0:i,a=e.resetOnComplete,o=a===void 0?!0:a,s=e.resetOnRefCountZero,u=s===void 0?!0:s;return function(d){var m=null,l=null,c=null,h=0,p=!1,f=!1,y=function(){l?.unsubscribe(),l=null},g=function(){y(),m=c=null,p=f=!1},k=function(){var v=m;g(),v?.unsubscribe()};return fO.operate(function(v,E){h++,!f&&!p&&y();var S=c=c??t();E.add(function(){h--,h===0&&!f&&!p&&(l=W2(k,u))}),S.subscribe(E),m||(m=new xO.SafeSubscriber({next:function(w){return S.next(w)},error:function(w){f=!0,y(),l=W2(g,r,w),S.error(w)},complete:function(){p=!0,y(),l=W2(g,o),S.complete()}}),lO.from(v).subscribe(m))})(d)}}ti.share=pO;function W2(e,n){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return n===!0?(e(),null):n===!1?null:n.apply(void 0,mO([],dO(t))).pipe(cO.take(1)).subscribe(function(){return e()})}});var vy=b(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.shareReplay=void 0;var hO=bs(),gO=Z2();function vO(e,n,t){var i,r,a,o,s=!1;return e&&typeof e=="object"?(i=e.bufferSize,o=i===void 0?1/0:i,r=e.windowTime,n=r===void 0?1/0:r,a=e.refCount,s=a===void 0?!1:a,t=e.scheduler):o=e??1/0,gO.share({connector:function(){return new hO.ReplaySubject(o,n,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}Vu.shareReplay=vO});var by=b(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.single=void 0;var bO=zt(),kO=k2(),EO=b2(),_O=K(),wO=Y();function SO(e){return _O.operate(function(n,t){var i=!1,r,a=!1,o=0;n.subscribe(wO.createOperatorSubscriber(t,function(s){a=!0,(!e||e(s,o++,n))&&(i&&t.error(new kO.SequenceError("Too many matching values")),i=!0,r=s)},function(){i?(t.next(r),t.complete()):t.error(a?new EO.NotFoundError("No matching values"):new bO.EmptyError)}))})}Hu.single=SO});var ky=b(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.skip=void 0;var AO=Hi();function OO(e){return AO.filter(function(n,t){return e<=t})}Gu.skip=OO});var Ey=b(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.skipLast=void 0;var TO=Le(),NO=K(),IO=Y();function PO(e){return e<=0?TO.identity:NO.operate(function(n,t){var i=new Array(e),r=0;return n.subscribe(IO.createOperatorSubscriber(t,function(a){var o=r++;if(o<e)i[o]=a;else{var s=o%e,u=i[s];i[s]=a,t.next(u)}})),function(){i=null}})}Wu.skipLast=PO});var wy=b(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.skipUntil=void 0;var MO=K(),_y=Y(),CO=le(),DO=Fe();function jO(e){return MO.operate(function(n,t){var i=!1,r=_y.createOperatorSubscriber(t,function(){r?.unsubscribe(),i=!0},DO.noop);CO.innerFrom(e).subscribe(r),n.subscribe(_y.createOperatorSubscriber(t,function(a){return i&&t.next(a)}))})}Zu.skipUntil=jO});var Sy=b($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.skipWhile=void 0;var FO=K(),BO=Y();function qO(e){return FO.operate(function(n,t){var i=!1,r=0;n.subscribe(BO.createOperatorSubscriber(t,function(a){return(i||(i=!e(a,r++)))&&t.next(a)}))})}$u.skipWhile=qO});var Oy=b(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.startWith=void 0;var Ay=ao(),LO=Ye(),zO=K();function RO(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=LO.popScheduler(e);return zO.operate(function(i,r){(t?Ay.concat(e,i,t):Ay.concat(e,i)).subscribe(r)})}Qu.startWith=RO});var mo=b(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.switchMap=void 0;var UO=le(),KO=K(),Ty=Y();function VO(e,n){return KO.operate(function(t,i){var r=null,a=0,o=!1,s=function(){return o&&!r&&i.complete()};t.subscribe(Ty.createOperatorSubscriber(i,function(u){r?.unsubscribe();var d=0,m=a++;UO.innerFrom(e(u,m)).subscribe(r=Ty.createOperatorSubscriber(i,function(l){return i.next(n?n(u,l,m,d++):l)},function(){r=null,s()}))},function(){o=!0,s()}))})}Yu.switchMap=VO});var Ny=b(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.switchAll=void 0;var HO=mo(),GO=Le();function WO(){return HO.switchMap(GO.identity)}Ju.switchAll=WO});var Py=b(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.switchMapTo=void 0;var Iy=mo(),ZO=fe();function $O(e,n){return ZO.isFunction(n)?Iy.switchMap(function(){return e},n):Iy.switchMap(function(){return e})}Xu.switchMapTo=$O});var My=b(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.switchScan=void 0;var QO=mo(),YO=K();function JO(e,n){return YO.operate(function(t,i){var r=n;return QO.switchMap(function(a,o){return e(r,a,o)},function(a,o){return r=o,o})(t).subscribe(i),function(){r=null}})}ed.switchScan=JO});var Cy=b(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.takeUntil=void 0;var XO=K(),eT=Y(),nT=le(),tT=Fe();function iT(e){return XO.operate(function(n,t){nT.innerFrom(e).subscribe(eT.createOperatorSubscriber(t,function(){return t.complete()},tT.noop)),!t.closed&&n.subscribe(t)})}nd.takeUntil=iT});var Dy=b(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.takeWhile=void 0;var rT=K(),aT=Y();function oT(e,n){return n===void 0&&(n=!1),rT.operate(function(t,i){var r=0;t.subscribe(aT.createOperatorSubscriber(i,function(a){var o=e(a,r++);(o||n)&&i.next(a),!o&&i.complete()}))})}td.takeWhile=oT});var jy=b(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.tap=void 0;var sT=fe(),uT=K(),dT=Y(),mT=Le();function lT(e,n,t){var i=sT.isFunction(e)||n||t?{next:e,error:n,complete:t}:e;return i?uT.operate(function(r,a){var o;(o=i.subscribe)===null||o===void 0||o.call(i);var s=!0;r.subscribe(dT.createOperatorSubscriber(a,function(u){var d;(d=i.next)===null||d===void 0||d.call(i,u),a.next(u)},function(){var u;s=!1,(u=i.complete)===null||u===void 0||u.call(i),a.complete()},function(u){var d;s=!1,(d=i.error)===null||d===void 0||d.call(i,u),a.error(u)},function(){var u,d;s&&((u=i.unsubscribe)===null||u===void 0||u.call(i)),(d=i.finalize)===null||d===void 0||d.call(i)}))}):mT.identity}id.tap=lT});var $2=b(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.throttle=Gi.defaultThrottleConfig=void 0;var cT=K(),Fy=Y(),yT=le();Gi.defaultThrottleConfig={leading:!0,trailing:!1};function xT(e,n){return n===void 0&&(n=Gi.defaultThrottleConfig),cT.operate(function(t,i){var r=n.leading,a=n.trailing,o=!1,s=null,u=null,d=!1,m=function(){u?.unsubscribe(),u=null,a&&(h(),d&&i.complete())},l=function(){u=null,d&&i.complete()},c=function(p){return u=yT.innerFrom(e(p)).subscribe(Fy.createOperatorSubscriber(i,m,l))},h=function(){if(o){o=!1;var p=s;s=null,i.next(p),!d&&c(p)}};t.subscribe(Fy.createOperatorSubscriber(i,function(p){o=!0,s=p,!(u&&!u.closed)&&(r?h():c(p))},function(){d=!0,!(a&&o&&u&&!u.closed)&&i.complete()}))})}Gi.throttle=xT});var qy=b(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.throttleTime=void 0;var fT=Qe(),By=$2(),pT=Ht();function hT(e,n,t){n===void 0&&(n=fT.asyncScheduler),t===void 0&&(t=By.defaultThrottleConfig);var i=pT.timer(e,n);return By.throttle(function(){return i},t)}rd.throttleTime=hT});var zy=b(fa=>{"use strict";Object.defineProperty(fa,"__esModule",{value:!0});fa.TimeInterval=fa.timeInterval=void 0;var gT=Qe(),vT=K(),bT=Y();function kT(e){return e===void 0&&(e=gT.asyncScheduler),vT.operate(function(n,t){var i=e.now();n.subscribe(bT.createOperatorSubscriber(t,function(r){var a=e.now(),o=a-i;i=a,t.next(new Ly(r,o))}))})}fa.timeInterval=kT;var Ly=function(){function e(n,t){this.value=n,this.interval=t}return e}();fa.TimeInterval=Ly});var Ry=b(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.timeoutWith=void 0;var ET=Qe(),_T=t1(),wT=i1();function ST(e,n,t){var i,r,a;if(t=t??ET.async,_T.isValidDate(e)?i=e:typeof e=="number"&&(r=e),n)a=function(){return n};else throw new TypeError("No observable provided to switch to");if(i==null&&r==null)throw new TypeError("No timeout provided.");return wT.timeout({first:i,each:r,scheduler:t,with:a})}ad.timeoutWith=ST});var Uy=b(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.timestamp=void 0;var AT=vs(),OT=Rt();function TT(e){return e===void 0&&(e=AT.dateTimestampProvider),OT.map(function(n){return{value:n,timestamp:e.now()}})}od.timestamp=TT});var Hy=b(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.window=void 0;var Ky=Be(),NT=K(),Vy=Y(),IT=Fe();function PT(e){return NT.operate(function(n,t){var i=new Ky.Subject;t.next(i.asObservable());var r=function(a){i.error(a),t.error(a)};return n.subscribe(Vy.createOperatorSubscriber(t,function(a){return i?.next(a)},function(){i.complete(),t.complete()},r)),e.subscribe(Vy.createOperatorSubscriber(t,function(){i.complete(),t.next(i=new Ky.Subject)},IT.noop,r)),function(){i?.unsubscribe(),i=null}})}sd.window=PT});var Wy=b(pa=>{"use strict";var MT=pa&&pa.__values||function(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(pa,"__esModule",{value:!0});pa.windowCount=void 0;var Gy=Be(),CT=K(),DT=Y();function jT(e,n){n===void 0&&(n=0);var t=n>0?n:e;return CT.operate(function(i,r){var a=[new Gy.Subject],o=[],s=0;r.next(a[0].asObservable()),i.subscribe(DT.createOperatorSubscriber(r,function(u){var d,m;try{for(var l=MT(a),c=l.next();!c.done;c=l.next()){var h=c.value;h.next(u)}}catch(y){d={error:y}}finally{try{c&&!c.done&&(m=l.return)&&m.call(l)}finally{if(d)throw d.error}}var p=s-e+1;if(p>=0&&p%t===0&&a.shift().complete(),++s%t===0){var f=new Gy.Subject;a.push(f),r.next(f.asObservable())}},function(){for(;a.length>0;)a.shift().complete();r.complete()},function(u){for(;a.length>0;)a.shift().error(u);r.error(u)},function(){o=null,a=null}))})}pa.windowCount=jT});var $y=b(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});ud.windowTime=void 0;var FT=Be(),BT=Qe(),qT=$e(),LT=K(),zT=Y(),RT=yt(),UT=Ye(),Zy=xt();function KT(e){for(var n,t,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var a=(n=UT.popScheduler(i))!==null&&n!==void 0?n:BT.asyncScheduler,o=(t=i[0])!==null&&t!==void 0?t:null,s=i[1]||1/0;return LT.operate(function(u,d){var m=[],l=!1,c=function(y){var g=y.window,k=y.subs;g.complete(),k.unsubscribe(),RT.arrRemove(m,y),l&&h()},h=function(){if(m){var y=new qT.Subscription;d.add(y);var g=new FT.Subject,k={window:g,subs:y,seen:0};m.push(k),d.next(g.asObservable()),Zy.executeSchedule(y,a,function(){return c(k)},e)}};o!==null&&o>=0?Zy.executeSchedule(d,a,h,o,!0):l=!0,h();var p=function(y){return m.slice().forEach(y)},f=function(y){p(function(g){var k=g.window;return y(k)}),y(d),d.unsubscribe()};return u.subscribe(zT.createOperatorSubscriber(d,function(y){p(function(g){g.window.next(y),s<=++g.seen&&c(g)})},function(){return f(function(y){return y.complete()})},function(y){return f(function(g){return g.error(y)})})),function(){m=null}})}ud.windowTime=KT});var Jy=b(ha=>{"use strict";var VT=ha&&ha.__values||function(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ha,"__esModule",{value:!0});ha.windowToggle=void 0;var HT=Be(),GT=$e(),WT=K(),Qy=le(),Q2=Y(),Yy=Fe(),ZT=yt();function $T(e,n){return WT.operate(function(t,i){var r=[],a=function(o){for(;0<r.length;)r.shift().error(o);i.error(o)};Qy.innerFrom(e).subscribe(Q2.createOperatorSubscriber(i,function(o){var s=new HT.Subject;r.push(s);var u=new GT.Subscription,d=function(){ZT.arrRemove(r,s),s.complete(),u.unsubscribe()},m;try{m=Qy.innerFrom(n(o))}catch(l){a(l);return}i.next(s.asObservable()),u.add(m.subscribe(Q2.createOperatorSubscriber(i,d,Yy.noop,a)))},Yy.noop)),t.subscribe(Q2.createOperatorSubscriber(i,function(o){var s,u,d=r.slice();try{for(var m=VT(d),l=m.next();!l.done;l=m.next()){var c=l.value;c.next(o)}}catch(h){s={error:h}}finally{try{l&&!l.done&&(u=m.return)&&u.call(m)}finally{if(s)throw s.error}}},function(){for(;0<r.length;)r.shift().complete();i.complete()},a,function(){for(;0<r.length;)r.shift().unsubscribe()}))})}ha.windowToggle=$T});var e3=b(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.windowWhen=void 0;var QT=Be(),YT=K(),Xy=Y(),JT=le();function XT(e){return YT.operate(function(n,t){var i,r,a=function(s){i.error(s),t.error(s)},o=function(){r?.unsubscribe(),i?.complete(),i=new QT.Subject,t.next(i.asObservable());var s;try{s=JT.innerFrom(e())}catch(u){a(u);return}s.subscribe(r=Xy.createOperatorSubscriber(t,o,o,a))};o(),n.subscribe(Xy.createOperatorSubscriber(t,function(s){return i.next(s)},function(){i.complete(),t.complete()},a,function(){r?.unsubscribe(),i=null}))})}dd.windowWhen=XT});var r3=b(ii=>{"use strict";var n3=ii&&ii.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},t3=ii&&ii.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty(ii,"__esModule",{value:!0});ii.withLatestFrom=void 0;var eN=K(),i3=Y(),nN=le(),tN=Le(),iN=Fe(),rN=Ye();function aN(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t=rN.popResultSelector(e);return eN.operate(function(i,r){for(var a=e.length,o=new Array(a),s=e.map(function(){return!1}),u=!1,d=function(l){nN.innerFrom(e[l]).subscribe(i3.createOperatorSubscriber(r,function(c){o[l]=c,!u&&!s[l]&&(s[l]=!0,(u=s.every(tN.identity))&&(s=null))},iN.noop))},m=0;m<a;m++)d(m);i.subscribe(i3.createOperatorSubscriber(r,function(l){if(u){var c=t3([l],n3(o));r.next(t?t.apply(void 0,t3([],n3(c))):c)}}))})}ii.withLatestFrom=aN});var a3=b(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});md.zipAll=void 0;var oN=C1(),sN=j2();function uN(e){return sN.joinAllInternals(oN.zip,e)}md.zipAll=uN});var o3=b(ri=>{"use strict";var dN=ri&&ri.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},mN=ri&&ri.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty(ri,"__esModule",{value:!0});ri.zip=void 0;var lN=C1(),cN=K();function yN(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return cN.operate(function(t,i){lN.zip.apply(void 0,mN([t],dN(e))).subscribe(i)})}ri.zip=yN});var s3=b(ai=>{"use strict";var xN=ai&&ai.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var i=t.call(e),r,a=[],o;try{for(;(n===void 0||n-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(s){o={error:s}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return a},fN=ai&&ai.__spreadArray||function(e,n){for(var t=0,i=n.length,r=e.length;t<i;t++,r++)e[r]=n[t];return e};Object.defineProperty(ai,"__esModule",{value:!0});ai.zipWith=void 0;var pN=o3();function hN(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return pN.zip.apply(void 0,fN([],xN(e)))}ai.zipWith=hN});var ld=b(x=>{"use strict";var gN=x&&x.__createBinding||(Object.create?function(e,n,t,i){i===void 0&&(i=t),Object.defineProperty(e,i,{enumerable:!0,get:function(){return n[t]}})}:function(e,n,t,i){i===void 0&&(i=t),e[i]=n[t]}),vN=x&&x.__exportStar||function(e,n){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(n,t)&&gN(n,e,t)};Object.defineProperty(x,"__esModule",{value:!0});x.interval=x.iif=x.generate=x.fromEventPattern=x.fromEvent=x.from=x.forkJoin=x.empty=x.defer=x.connectable=x.concat=x.combineLatest=x.bindNodeCallback=x.bindCallback=x.UnsubscriptionError=x.TimeoutError=x.SequenceError=x.ObjectUnsubscribedError=x.NotFoundError=x.EmptyError=x.ArgumentOutOfRangeError=x.firstValueFrom=x.lastValueFrom=x.isObservable=x.identity=x.noop=x.pipe=x.NotificationKind=x.Notification=x.Subscriber=x.Subscription=x.Scheduler=x.VirtualAction=x.VirtualTimeScheduler=x.animationFrameScheduler=x.animationFrame=x.queueScheduler=x.queue=x.asyncScheduler=x.async=x.asapScheduler=x.asap=x.AsyncSubject=x.ReplaySubject=x.BehaviorSubject=x.Subject=x.animationFrames=x.observable=x.ConnectableObservable=x.Observable=void 0;x.filter=x.expand=x.exhaustMap=x.exhaustAll=x.exhaust=x.every=x.endWith=x.elementAt=x.distinctUntilKeyChanged=x.distinctUntilChanged=x.distinct=x.dematerialize=x.delayWhen=x.delay=x.defaultIfEmpty=x.debounceTime=x.debounce=x.count=x.connect=x.concatWith=x.concatMapTo=x.concatMap=x.concatAll=x.combineLatestWith=x.combineLatestAll=x.combineAll=x.catchError=x.bufferWhen=x.bufferToggle=x.bufferTime=x.bufferCount=x.buffer=x.auditTime=x.audit=x.config=x.NEVER=x.EMPTY=x.scheduled=x.zip=x.using=x.timer=x.throwError=x.range=x.race=x.partition=x.pairs=x.onErrorResumeNext=x.of=x.never=x.merge=void 0;x.switchMapTo=x.switchMap=x.switchAll=x.subscribeOn=x.startWith=x.skipWhile=x.skipUntil=x.skipLast=x.skip=x.single=x.shareReplay=x.share=x.sequenceEqual=x.scan=x.sampleTime=x.sample=x.refCount=x.retryWhen=x.retry=x.repeatWhen=x.repeat=x.reduce=x.raceWith=x.publishReplay=x.publishLast=x.publishBehavior=x.publish=x.pluck=x.pairwise=x.observeOn=x.multicast=x.min=x.mergeWith=x.mergeScan=x.mergeMapTo=x.mergeMap=x.flatMap=x.mergeAll=x.max=x.materialize=x.mapTo=x.map=x.last=x.isEmpty=x.ignoreElements=x.groupBy=x.first=x.findIndex=x.find=x.finalize=void 0;x.zipWith=x.zipAll=x.withLatestFrom=x.windowWhen=x.windowToggle=x.windowTime=x.windowCount=x.window=x.toArray=x.timestamp=x.timeoutWith=x.timeout=x.timeInterval=x.throwIfEmpty=x.throttleTime=x.throttle=x.tap=x.takeWhile=x.takeUntil=x.takeLast=x.take=x.switchScan=void 0;var bN=pe();Object.defineProperty(x,"Observable",{enumerable:!0,get:function(){return bN.Observable}});var kN=Ja();Object.defineProperty(x,"ConnectableObservable",{enumerable:!0,get:function(){return kN.ConnectableObservable}});var EN=Qa();Object.defineProperty(x,"observable",{enumerable:!0,get:function(){return EN.observable}});var _N=lc();Object.defineProperty(x,"animationFrames",{enumerable:!0,get:function(){return _N.animationFrames}});var wN=Be();Object.defineProperty(x,"Subject",{enumerable:!0,get:function(){return wN.Subject}});var SN=t2();Object.defineProperty(x,"BehaviorSubject",{enumerable:!0,get:function(){return SN.BehaviorSubject}});var AN=bs();Object.defineProperty(x,"ReplaySubject",{enumerable:!0,get:function(){return AN.ReplaySubject}});var ON=ks();Object.defineProperty(x,"AsyncSubject",{enumerable:!0,get:function(){return ON.AsyncSubject}});var u3=Tc();Object.defineProperty(x,"asap",{enumerable:!0,get:function(){return u3.asap}});Object.defineProperty(x,"asapScheduler",{enumerable:!0,get:function(){return u3.asapScheduler}});var d3=Qe();Object.defineProperty(x,"async",{enumerable:!0,get:function(){return d3.async}});Object.defineProperty(x,"asyncScheduler",{enumerable:!0,get:function(){return d3.asyncScheduler}});var m3=Pc();Object.defineProperty(x,"queue",{enumerable:!0,get:function(){return m3.queue}});Object.defineProperty(x,"queueScheduler",{enumerable:!0,get:function(){return m3.queueScheduler}});var l3=jc();Object.defineProperty(x,"animationFrame",{enumerable:!0,get:function(){return l3.animationFrame}});Object.defineProperty(x,"animationFrameScheduler",{enumerable:!0,get:function(){return l3.animationFrameScheduler}});var c3=qc();Object.defineProperty(x,"VirtualTimeScheduler",{enumerable:!0,get:function(){return c3.VirtualTimeScheduler}});Object.defineProperty(x,"VirtualAction",{enumerable:!0,get:function(){return c3.VirtualAction}});var TN=r2();Object.defineProperty(x,"Scheduler",{enumerable:!0,get:function(){return TN.Scheduler}});var NN=$e();Object.defineProperty(x,"Subscription",{enumerable:!0,get:function(){return NN.Subscription}});var IN=Fr();Object.defineProperty(x,"Subscriber",{enumerable:!0,get:function(){return IN.Subscriber}});var y3=Ws();Object.defineProperty(x,"Notification",{enumerable:!0,get:function(){return y3.Notification}});Object.defineProperty(x,"NotificationKind",{enumerable:!0,get:function(){return y3.NotificationKind}});var PN=Ya();Object.defineProperty(x,"pipe",{enumerable:!0,get:function(){return PN.pipe}});var MN=Fe();Object.defineProperty(x,"noop",{enumerable:!0,get:function(){return MN.noop}});var CN=Le();Object.defineProperty(x,"identity",{enumerable:!0,get:function(){return CN.identity}});var DN=n8();Object.defineProperty(x,"isObservable",{enumerable:!0,get:function(){return DN.isObservable}});var jN=t8();Object.defineProperty(x,"lastValueFrom",{enumerable:!0,get:function(){return jN.lastValueFrom}});var FN=i8();Object.defineProperty(x,"firstValueFrom",{enumerable:!0,get:function(){return FN.firstValueFrom}});var BN=v2();Object.defineProperty(x,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return BN.ArgumentOutOfRangeError}});var qN=zt();Object.defineProperty(x,"EmptyError",{enumerable:!0,get:function(){return qN.EmptyError}});var LN=b2();Object.defineProperty(x,"NotFoundError",{enumerable:!0,get:function(){return LN.NotFoundError}});var zN=Jm();Object.defineProperty(x,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return zN.ObjectUnsubscribedError}});var RN=k2();Object.defineProperty(x,"SequenceError",{enumerable:!0,get:function(){return RN.SequenceError}});var UN=i1();Object.defineProperty(x,"TimeoutError",{enumerable:!0,get:function(){return UN.TimeoutError}});var KN=Lm();Object.defineProperty(x,"UnsubscriptionError",{enumerable:!0,get:function(){return KN.UnsubscriptionError}});var VN=a8();Object.defineProperty(x,"bindCallback",{enumerable:!0,get:function(){return VN.bindCallback}});var HN=o8();Object.defineProperty(x,"bindNodeCallback",{enumerable:!0,get:function(){return HN.bindNodeCallback}});var GN=d1();Object.defineProperty(x,"combineLatest",{enumerable:!0,get:function(){return GN.combineLatest}});var WN=ao();Object.defineProperty(x,"concat",{enumerable:!0,get:function(){return WN.concat}});var ZN=x8();Object.defineProperty(x,"connectable",{enumerable:!0,get:function(){return ZN.connectable}});var $N=oo();Object.defineProperty(x,"defer",{enumerable:!0,get:function(){return $N.defer}});var QN=kn();Object.defineProperty(x,"empty",{enumerable:!0,get:function(){return QN.empty}});var YN=f8();Object.defineProperty(x,"forkJoin",{enumerable:!0,get:function(){return YN.forkJoin}});var JN=Ln();Object.defineProperty(x,"from",{enumerable:!0,get:function(){return JN.from}});var XN=h8();Object.defineProperty(x,"fromEvent",{enumerable:!0,get:function(){return XN.fromEvent}});var eI=v8();Object.defineProperty(x,"fromEventPattern",{enumerable:!0,get:function(){return eI.fromEventPattern}});var nI=k8();Object.defineProperty(x,"generate",{enumerable:!0,get:function(){return nI.generate}});var tI=E8();Object.defineProperty(x,"iif",{enumerable:!0,get:function(){return tI.iif}});var iI=O2();Object.defineProperty(x,"interval",{enumerable:!0,get:function(){return iI.interval}});var rI=w8();Object.defineProperty(x,"merge",{enumerable:!0,get:function(){return rI.merge}});var aI=T2();Object.defineProperty(x,"never",{enumerable:!0,get:function(){return aI.never}});var oI=Hs();Object.defineProperty(x,"of",{enumerable:!0,get:function(){return oI.of}});var sI=O8();Object.defineProperty(x,"onErrorResumeNext",{enumerable:!0,get:function(){return sI.onErrorResumeNext}});var uI=T8();Object.defineProperty(x,"pairs",{enumerable:!0,get:function(){return uI.pairs}});var dI=M8();Object.defineProperty(x,"partition",{enumerable:!0,get:function(){return dI.partition}});var mI=N2();Object.defineProperty(x,"race",{enumerable:!0,get:function(){return mI.race}});var lI=j8();Object.defineProperty(x,"range",{enumerable:!0,get:function(){return lI.range}});var cI=g2();Object.defineProperty(x,"throwError",{enumerable:!0,get:function(){return cI.throwError}});var yI=Ht();Object.defineProperty(x,"timer",{enumerable:!0,get:function(){return yI.timer}});var xI=F8();Object.defineProperty(x,"using",{enumerable:!0,get:function(){return xI.using}});var fI=C1();Object.defineProperty(x,"zip",{enumerable:!0,get:function(){return fI.zip}});var pI=h2();Object.defineProperty(x,"scheduled",{enumerable:!0,get:function(){return pI.scheduled}});var hI=kn();Object.defineProperty(x,"EMPTY",{enumerable:!0,get:function(){return hI.EMPTY}});var gI=T2();Object.defineProperty(x,"NEVER",{enumerable:!0,get:function(){return gI.NEVER}});vN(q8(),x);var vI=Dr();Object.defineProperty(x,"config",{enumerable:!0,get:function(){return vI.config}});var bI=I2();Object.defineProperty(x,"audit",{enumerable:!0,get:function(){return bI.audit}});var kI=z8();Object.defineProperty(x,"auditTime",{enumerable:!0,get:function(){return kI.auditTime}});var EI=U8();Object.defineProperty(x,"buffer",{enumerable:!0,get:function(){return EI.buffer}});var _I=K8();Object.defineProperty(x,"bufferCount",{enumerable:!0,get:function(){return _I.bufferCount}});var wI=H8();Object.defineProperty(x,"bufferTime",{enumerable:!0,get:function(){return wI.bufferTime}});var SI=Z8();Object.defineProperty(x,"bufferToggle",{enumerable:!0,get:function(){return SI.bufferToggle}});var AI=Q8();Object.defineProperty(x,"bufferWhen",{enumerable:!0,get:function(){return AI.bufferWhen}});var OI=J8();Object.defineProperty(x,"catchError",{enumerable:!0,get:function(){return OI.catchError}});var TI=X8();Object.defineProperty(x,"combineAll",{enumerable:!0,get:function(){return TI.combineAll}});var NI=F2();Object.defineProperty(x,"combineLatestAll",{enumerable:!0,get:function(){return NI.combineLatestAll}});var II=r7();Object.defineProperty(x,"combineLatestWith",{enumerable:!0,get:function(){return II.combineLatestWith}});var PI=f1();Object.defineProperty(x,"concatAll",{enumerable:!0,get:function(){return PI.concatAll}});var MI=B2();Object.defineProperty(x,"concatMap",{enumerable:!0,get:function(){return MI.concatMap}});var CI=s7();Object.defineProperty(x,"concatMapTo",{enumerable:!0,get:function(){return CI.concatMapTo}});var DI=d7();Object.defineProperty(x,"concatWith",{enumerable:!0,get:function(){return DI.concatWith}});var jI=$1();Object.defineProperty(x,"connect",{enumerable:!0,get:function(){return jI.connect}});var FI=l7();Object.defineProperty(x,"count",{enumerable:!0,get:function(){return FI.count}});var BI=y7();Object.defineProperty(x,"debounce",{enumerable:!0,get:function(){return BI.debounce}});var qI=x7();Object.defineProperty(x,"debounceTime",{enumerable:!0,get:function(){return qI.debounceTime}});var LI=so();Object.defineProperty(x,"defaultIfEmpty",{enumerable:!0,get:function(){return LI.defaultIfEmpty}});var zI=h7();Object.defineProperty(x,"delay",{enumerable:!0,get:function(){return zI.delay}});var RI=z2();Object.defineProperty(x,"delayWhen",{enumerable:!0,get:function(){return RI.delayWhen}});var UI=g7();Object.defineProperty(x,"dematerialize",{enumerable:!0,get:function(){return UI.dematerialize}});var KI=b7();Object.defineProperty(x,"distinct",{enumerable:!0,get:function(){return KI.distinct}});var VI=R2();Object.defineProperty(x,"distinctUntilChanged",{enumerable:!0,get:function(){return VI.distinctUntilChanged}});var HI=k7();Object.defineProperty(x,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return HI.distinctUntilKeyChanged}});var GI=_7();Object.defineProperty(x,"elementAt",{enumerable:!0,get:function(){return GI.elementAt}});var WI=w7();Object.defineProperty(x,"endWith",{enumerable:!0,get:function(){return WI.endWith}});var ZI=S7();Object.defineProperty(x,"every",{enumerable:!0,get:function(){return ZI.every}});var $I=O7();Object.defineProperty(x,"exhaust",{enumerable:!0,get:function(){return $I.exhaust}});var QI=U2();Object.defineProperty(x,"exhaustAll",{enumerable:!0,get:function(){return QI.exhaustAll}});var YI=P7();Object.defineProperty(x,"exhaustMap",{enumerable:!0,get:function(){return YI.exhaustMap}});var JI=M7();Object.defineProperty(x,"expand",{enumerable:!0,get:function(){return JI.expand}});var XI=Hi();Object.defineProperty(x,"filter",{enumerable:!0,get:function(){return XI.filter}});var eP=C7();Object.defineProperty(x,"finalize",{enumerable:!0,get:function(){return eP.finalize}});var nP=K2();Object.defineProperty(x,"find",{enumerable:!0,get:function(){return nP.find}});var tP=j7();Object.defineProperty(x,"findIndex",{enumerable:!0,get:function(){return tP.findIndex}});var iP=F7();Object.defineProperty(x,"first",{enumerable:!0,get:function(){return iP.first}});var rP=q7();Object.defineProperty(x,"groupBy",{enumerable:!0,get:function(){return rP.groupBy}});var aP=q2();Object.defineProperty(x,"ignoreElements",{enumerable:!0,get:function(){return aP.ignoreElements}});var oP=L7();Object.defineProperty(x,"isEmpty",{enumerable:!0,get:function(){return oP.isEmpty}});var sP=z7();Object.defineProperty(x,"last",{enumerable:!0,get:function(){return sP.last}});var uP=Rt();Object.defineProperty(x,"map",{enumerable:!0,get:function(){return uP.map}});var dP=L2();Object.defineProperty(x,"mapTo",{enumerable:!0,get:function(){return dP.mapTo}});var mP=R7();Object.defineProperty(x,"materialize",{enumerable:!0,get:function(){return mP.materialize}});var lP=U7();Object.defineProperty(x,"max",{enumerable:!0,get:function(){return lP.max}});var cP=ro();Object.defineProperty(x,"mergeAll",{enumerable:!0,get:function(){return cP.mergeAll}});var yP=K7();Object.defineProperty(x,"flatMap",{enumerable:!0,get:function(){return yP.flatMap}});var xP=pt();Object.defineProperty(x,"mergeMap",{enumerable:!0,get:function(){return xP.mergeMap}});var fP=H7();Object.defineProperty(x,"mergeMapTo",{enumerable:!0,get:function(){return fP.mergeMapTo}});var pP=G7();Object.defineProperty(x,"mergeScan",{enumerable:!0,get:function(){return pP.mergeScan}});var hP=$7();Object.defineProperty(x,"mergeWith",{enumerable:!0,get:function(){return hP.mergeWith}});var gP=Q7();Object.defineProperty(x,"min",{enumerable:!0,get:function(){return gP.min}});var vP=Nu();Object.defineProperty(x,"multicast",{enumerable:!0,get:function(){return vP.multicast}});var bP=to();Object.defineProperty(x,"observeOn",{enumerable:!0,get:function(){return bP.observeOn}});var kP=J7();Object.defineProperty(x,"pairwise",{enumerable:!0,get:function(){return kP.pairwise}});var EP=X7();Object.defineProperty(x,"pluck",{enumerable:!0,get:function(){return EP.pluck}});var _P=ey();Object.defineProperty(x,"publish",{enumerable:!0,get:function(){return _P.publish}});var wP=ny();Object.defineProperty(x,"publishBehavior",{enumerable:!0,get:function(){return wP.publishBehavior}});var SP=ty();Object.defineProperty(x,"publishLast",{enumerable:!0,get:function(){return SP.publishLast}});var AP=ry();Object.defineProperty(x,"publishReplay",{enumerable:!0,get:function(){return AP.publishReplay}});var OP=ay();Object.defineProperty(x,"raceWith",{enumerable:!0,get:function(){return OP.raceWith}});var TP=la();Object.defineProperty(x,"reduce",{enumerable:!0,get:function(){return TP.reduce}});var NP=sy();Object.defineProperty(x,"repeat",{enumerable:!0,get:function(){return NP.repeat}});var IP=dy();Object.defineProperty(x,"repeatWhen",{enumerable:!0,get:function(){return IP.repeatWhen}});var PP=ly();Object.defineProperty(x,"retry",{enumerable:!0,get:function(){return PP.retry}});var MP=yy();Object.defineProperty(x,"retryWhen",{enumerable:!0,get:function(){return MP.retryWhen}});var CP=Qm();Object.defineProperty(x,"refCount",{enumerable:!0,get:function(){return CP.refCount}});var DP=G2();Object.defineProperty(x,"sample",{enumerable:!0,get:function(){return DP.sample}});var jP=fy();Object.defineProperty(x,"sampleTime",{enumerable:!0,get:function(){return jP.sampleTime}});var FP=py();Object.defineProperty(x,"scan",{enumerable:!0,get:function(){return FP.scan}});var BP=gy();Object.defineProperty(x,"sequenceEqual",{enumerable:!0,get:function(){return BP.sequenceEqual}});var qP=Z2();Object.defineProperty(x,"share",{enumerable:!0,get:function(){return qP.share}});var LP=vy();Object.defineProperty(x,"shareReplay",{enumerable:!0,get:function(){return LP.shareReplay}});var zP=by();Object.defineProperty(x,"single",{enumerable:!0,get:function(){return zP.single}});var RP=ky();Object.defineProperty(x,"skip",{enumerable:!0,get:function(){return RP.skip}});var UP=Ey();Object.defineProperty(x,"skipLast",{enumerable:!0,get:function(){return UP.skipLast}});var KP=wy();Object.defineProperty(x,"skipUntil",{enumerable:!0,get:function(){return KP.skipUntil}});var VP=Sy();Object.defineProperty(x,"skipWhile",{enumerable:!0,get:function(){return VP.skipWhile}});var HP=Oy();Object.defineProperty(x,"startWith",{enumerable:!0,get:function(){return HP.startWith}});var GP=io();Object.defineProperty(x,"subscribeOn",{enumerable:!0,get:function(){return GP.subscribeOn}});var WP=Ny();Object.defineProperty(x,"switchAll",{enumerable:!0,get:function(){return WP.switchAll}});var ZP=mo();Object.defineProperty(x,"switchMap",{enumerable:!0,get:function(){return ZP.switchMap}});var $P=Py();Object.defineProperty(x,"switchMapTo",{enumerable:!0,get:function(){return $P.switchMapTo}});var QP=My();Object.defineProperty(x,"switchScan",{enumerable:!0,get:function(){return QP.switchScan}});var YP=ca();Object.defineProperty(x,"take",{enumerable:!0,get:function(){return YP.take}});var JP=V2();Object.defineProperty(x,"takeLast",{enumerable:!0,get:function(){return JP.takeLast}});var XP=Cy();Object.defineProperty(x,"takeUntil",{enumerable:!0,get:function(){return XP.takeUntil}});var eM=Dy();Object.defineProperty(x,"takeWhile",{enumerable:!0,get:function(){return eM.takeWhile}});var nM=jy();Object.defineProperty(x,"tap",{enumerable:!0,get:function(){return nM.tap}});var tM=$2();Object.defineProperty(x,"throttle",{enumerable:!0,get:function(){return tM.throttle}});var iM=qy();Object.defineProperty(x,"throttleTime",{enumerable:!0,get:function(){return iM.throttleTime}});var rM=uo();Object.defineProperty(x,"throwIfEmpty",{enumerable:!0,get:function(){return rM.throwIfEmpty}});var aM=zy();Object.defineProperty(x,"timeInterval",{enumerable:!0,get:function(){return aM.timeInterval}});var oM=i1();Object.defineProperty(x,"timeout",{enumerable:!0,get:function(){return oM.timeout}});var sM=Ry();Object.defineProperty(x,"timeoutWith",{enumerable:!0,get:function(){return sM.timeoutWith}});var uM=Uy();Object.defineProperty(x,"timestamp",{enumerable:!0,get:function(){return uM.timestamp}});var dM=D2();Object.defineProperty(x,"toArray",{enumerable:!0,get:function(){return dM.toArray}});var mM=Hy();Object.defineProperty(x,"window",{enumerable:!0,get:function(){return mM.window}});var lM=Wy();Object.defineProperty(x,"windowCount",{enumerable:!0,get:function(){return lM.windowCount}});var cM=$y();Object.defineProperty(x,"windowTime",{enumerable:!0,get:function(){return cM.windowTime}});var yM=Jy();Object.defineProperty(x,"windowToggle",{enumerable:!0,get:function(){return yM.windowToggle}});var xM=e3();Object.defineProperty(x,"windowWhen",{enumerable:!0,get:function(){return xM.windowWhen}});var fM=r3();Object.defineProperty(x,"withLatestFrom",{enumerable:!0,get:function(){return fM.withLatestFrom}});var pM=a3();Object.defineProperty(x,"zipAll",{enumerable:!0,get:function(){return pM.zipAll}});var hM=s3();Object.defineProperty(x,"zipWith",{enumerable:!0,get:function(){return hM.zipWith}})});import{QuestType as qe}from"@bibliothecadao/eternum";var Fa=0,Fo=new Map([[qe.Settle,{name:"A Gift From The Gods",prizes:[{id:qe.Settle,title:"Food"}],depth:0}],[qe.BuildFood,{name:"Build a Farm or a Fishing Village",prizes:[{id:qe.BuildFood,title:"Resources"}],depth:1}],[qe.BuildResource,{name:"Build a Resource Facility",prizes:[{id:qe.BuildResource,title:"Donkeys"}],depth:2}],[qe.PauseProduction,{name:"Pause Production",prizes:[{id:qe.PauseProduction,title:"Pause Production"}],depth:3}],[qe.CreateDefenseArmy,{name:"Create a Defensive Army",prizes:[{id:qe.CreateDefenseArmy,title:"Create Defensive Army"}],depth:4}],[qe.CreateAttackArmy,{name:"Create an Attacking Army",prizes:[{id:qe.CreateAttackArmy,title:"Claim Attacking Army"}],depth:5}],[qe.Travel,{name:"Move with your Army",prizes:[{id:qe.Travel,title:"Travel"}],depth:6}],[qe.CreateTrade,{name:"Create a Trade",prizes:[{id:qe.CreateTrade,title:"Claim Starting Army"}],depth:7}]]),o6=(i=>(i[i.STAGE_1=0]="STAGE_1",i[i.STAGE_2=1]="STAGE_2",i[i.STAGE_3=2]="STAGE_3",i))(o6||{});var V={next:{text:"Next",action:function(){return this.next()}},prev:{text:"Prev",action:function(){return this.back()}},finish:{text:"Finish",action:function(){return this.complete()}}},xe=(e,n=300)=>new Promise(t=>{let i=document.querySelector(".shepherd-modal-overlay-container");i&&(i.style.display="none");let r=()=>{document.querySelector(e)?setTimeout(()=>{i&&(i.style.display=""),t()},n):setTimeout(r,100)};r()});var O0=[{title:"Construction",text:"Open the Construction menu.",attachTo:{element:".construction-selector",on:"right-start"},advanceOn:{selector:".construction-selector",event:"click"},beforeShowPromise:function(){return z.getState().setRightNavigationView(0),z.getState().setLeftNavigationView(0),z.getState().closeAllPopups(),new Promise(e=>e())},classes:"ml-5",buttons:[]},{title:"Buildings",text:"Various types of buildings are available to you.",attachTo:{element:".construction-panel-selector",on:"right"},beforeShowPromise:function(){return xe(".construction-panel-selector")},canClickTarget:!1,classes:"ml-5",buttons:[V.next]},{title:"Building Types",text:"Buildings are organized by type - Resource, Economy and Military.",attachTo:{element:".construction-tabs-selector",on:"right-start"},canClickTarget:!1,classes:"ml-5",buttons:[V.next]},{title:"Farm",text:()=>{let e=document.createElement("img");e.src="/images/resources/254.png",e.className="w-8 h-8 inline-block mx-1",e.title="Wheat";let n=document.createElement("div");return n.innerHTML=`Produces ${e.outerHTML} and provides a 10% production bonus to adjacent buildings `,n.innerHTML},attachTo:{element:".farm-card-selector",on:"right"},canClickTarget:!1,classes:"ml-5",buttons:[V.next]},{title:"Fishing Village",text:()=>{let e=document.createElement("img");e.src="/images/resources/255.png",e.className="w-8 h-8 inline-block mx-1",e.title="Fish";let n=document.createElement("div");return n.innerHTML=`Provides a steady supply of ${e.outerHTML}`,n.innerHTML},attachTo:{element:".fish-card-selector",on:"right"},canClickTarget:!1,classes:"ml-5",buttons:[V.next]},{title:"Market",text:"Produces Donkeys. More on that later.",attachTo:{element:".market-card-selector",on:"right"},classes:"ml-5",canClickTarget:!1,buttons:[V.next]},{title:"Worker's Hut",text:"Increases your population capacity.",attachTo:{element:".workers-hut-card-selector",on:"right"},canClickTarget:!1,classes:"ml-5",buttons:[V.next]},{title:"Population",text:"Constructing buildings requires available population.",attachTo:{element:".population-selector",on:"right-start"},classes:"ml-5",buttons:[V.next]},{title:"Storehouse",text:"Increases your storage limit.",attachTo:{element:".storehouse-card-selector",on:"right"},canClickTarget:!1,classes:"ml-5",buttons:[V.next]},{title:"Important",text:"Each resource has its own individual storage limit.",attachTo:{element:".storehouse-selector",on:"right-start"},classes:"ml-5 shepherd-warning",buttons:[V.next]},{title:"Choose Your Food Source",text:"Select either a Farm or Fishing Village.",attachTo:{element:".farm-card-selector",on:"top"},extraHighlights:[".fish-card-selector"],advanceOn:{selector:".economy-selector",event:"click"},classes:"-mt-5",buttons:[]},{title:"Place Building",text:`
      <div class="flex flex-col">
        <span>Left-click to confirm</span>
        <span>Mouse-wheel to zoom</span>
        <span>Right-click or ESC to cancel.</span>
      </div>`,classes:"!left-3/4 !top-1/4",attachTo:{element:".world-selector"},highlightClass:"allow-modal-click",buttons:[V.next]},{title:"Resource Balance",text:"Open the menu.",attachTo:{element:".resource-table-selector",on:"left-start"},advanceOn:{selector:".resource-table-selector",event:"click"},classes:"-ml-5",buttons:[]},{title:"Production",text:"Follow production rates in real-time.",attachTo:{element:".entity-resource-table-selector",on:"left"},beforeShowPromise:function(){return xe(".entity-resource-table-selector")},classes:"-ml-5",buttons:[V.finish]}];var T0=[{title:"Construction",text:"Open the Construction menu",attachTo:{element:".construction-selector",on:"right-start"},advanceOn:{selector:".construction-selector",event:"click"},beforeShowPromise:function(){return z.getState().setRightNavigationView(0),z.getState().setLeftNavigationView(0),z.getState().closeAllPopups(),new Promise(e=>e())},classes:"ml-5",buttons:[]},{title:"Tab Navigation",text:"Open the Resource section.",attachTo:{element:".resource-tab-selector",on:"right-start"},advanceOn:{selector:".resource-tab-selector",event:"click"},beforeShowPromise:function(){return xe(".resource-tab-selector")},classes:"ml-5",buttons:[]},{title:"Resources",text:"Each realm has access to a set of resources it can produce.",attachTo:{element:".construction-panel-selector",on:"right"},classes:"ml-5",canClickTarget:!1,beforeShowPromise:function(){return xe(".construction-panel-selector")},buttons:[V.next]},{title:"Important",text:"Producing resources requires consuming others in the process.",attachTo:{element:".construction-panel-selector",on:"right"},classes:"ml-5 shepherd-warning",canClickTarget:!1,buttons:[V.next]},{title:"Consumption",text:"For example, a Wood producing facility will consume Coal, Stone, and Wheat.",attachTo:{element:".construction-panel-selector",on:"right"},classes:"ml-5",canClickTarget:!1,buttons:[V.next]},{title:"Resources Buildings",text:"Select a Resource Facility.",attachTo:{element:".resource-cards-selector",on:"bottom"},classes:"mt-5",advanceOn:{selector:".resource-cards-selector",event:"click"},buttons:[]},{title:"Place Building",text:`
      <div class="flex flex-col">
        <span>Left-click to confirm</span>
        <span>Mouse-wheel to zoom</span>
        <span>Right-click or ESC to cancel.</span>
      </div>`,classes:"!left-3/4 !top-1/4",attachTo:{element:".world-selector"},highlightClass:"allow-modal-click",buttons:[V.next]},{title:"Resource Balance",text:"Open the menu.",attachTo:{element:".resource-table-selector",on:"left-start"},advanceOn:{selector:".resource-table-selector",event:"click"},classes:"-ml-5",buttons:[]},{title:"Consumption",text:"Try to keep an eye on your consumption rates.",attachTo:{element:".entity-resource-table-selector",on:"left"},beforeShowPromise:function(){return xe(".entity-resource-table-selector")},classes:"-ml-5",buttons:[V.next]},{title:"Important",text:"Missing resources won't stop other materials from being consumed !",attachTo:{element:".entity-resource-table-selector",on:"left"},classes:"-ml-5 shepherd-warning",buttons:[V.finish]}];var N0=[{title:"Conquest in Eternum",text:"Create an attacking army to conquer your enemies and expand your influence across the realm.",beforeShowPromise:function(){return z.getState().setRightNavigationView(0),z.getState().setLeftNavigationView(0),z.getState().closeAllPopups(),new Promise(e=>e())},buttons:[V.next]},{title:"Military Menu",text:"Open the Military menu.",attachTo:{element:".military-selector",on:"right-start"},advanceOn:{selector:".military-selector",event:"click"},classes:"ml-5",buttons:[]},{title:"Troop Resources",text:"Troops can be traded and transferred like any other resource, but once assigned to an army, they cannot be reverted back.",attachTo:{element:".military-panel-selector",on:"right"},beforeShowPromise:function(){return xe(".military-panel-selector")},canClickTarget:!1,classes:"ml-5",buttons:[V.next]},{title:"Attack Army",text:"Create an Attack army.",attachTo:{element:".attack-army-selector",on:"top"},beforeShowPromise:function(){return xe(".attack-army-selector")},advanceOn:{selector:".attack-army-selector",event:"click"},showOn:()=>!document.querySelector(".attacking-army-selector"),classes:"-mt-5",buttons:[]},{title:"Transfer",text:"Armies can exchange troops while they are on the same hex.",attachTo:{element:".defensive-army-swap-selector",on:"bottom"},canClickTarget:!1,classes:"mt-5",buttons:[V.next]},{title:"Edit",text:"Click the edit icon.",attachTo:{element:".attacking-army-edit-selector",on:"top"},beforeShowPromise:function(){return xe(".attacking-army-edit-selector")},advanceOn:{selector:".attacking-army-edit-selector",event:"click"},classes:"-mt-5",buttons:[]},{title:"Assign Troops",text:"Assign troops to your attacking army.",attachTo:{element:".attacking-army-selector",on:"top"},beforeShowPromise:function(){return xe(".attacking-army-selector")},classes:"-mt-5",buttons:[V.finish]}];var I0=[{title:"Realm Defense",text:"Your realm is always at risk. Assign it a defensive army for protection.",beforeShowPromise:function(){return z.getState().setRightNavigationView(0),z.getState().setLeftNavigationView(0),z.getState().closeAllPopups(),new Promise(e=>e())},buttons:[V.next]},{title:"Claim",text:"A realm without defenses can be claimed by anyone instantly!",attachTo:{element:".defensive-army-selector",on:"bottom"},classes:"mt-5",buttons:[V.next]},{title:"Construction",text:"Open the Construction menu.",attachTo:{element:".construction-selector",on:"right-start"},classes:"ml-5",advanceOn:{selector:".construction-selector",event:"click"},buttons:[]},{title:"Tab Navigation",text:"Open the Military section",attachTo:{element:".military-tab-selector",on:"right-start"},advanceOn:{selector:".military-tab-selector",event:"click"},beforeShowPromise:function(){return xe(".military-tab-selector")},classes:"ml-5",buttons:[]},{title:"Buildings",text:"You are limited to three movable armies and one protecting army, stationed on your Realm.",attachTo:{element:".construction-panel-selector",on:"bottom"},beforeShowPromise:function(){return xe(".construction-panel-selector")},classes:"mt-5",canClickTarget:!1,buttons:[V.next]},{title:"Buildings",text:"Each military building you construct increases your max movable armies by +1, up to +3.",attachTo:{element:".construction-panel-selector",on:"bottom"},beforeShowPromise:function(){return xe(".construction-panel-selector")},canClickTarget:!1,classes:"mt-5",buttons:[V.next]},{title:"Barracks",text:"Knights are well-rounded units, balanced in both offense and defense",attachTo:{element:".barracks-card-selector",on:"bottom"},classes:"mt-5",canClickTarget:!1,buttons:[V.next]},{title:"Archery Range",text:"Crossbowmen require less food on their travels and weight less.",attachTo:{element:".archery-card-selector",on:"bottom"},classes:"mt-5",canClickTarget:!1,buttons:[V.next]},{title:"Stables",text:"Paladins have increased stamina, allowing them to cover more ground at once.",attachTo:{element:".stable-card-selector",on:"bottom"},classes:"mt-5",canClickTarget:!1,buttons:[V.next]},{title:"Military Menu",text:"Open the Military menu",attachTo:{element:".military-selector",on:"right-start"},advanceOn:{selector:".military-selector",event:"click"},classes:"ml-5",buttons:[]},{title:"Defense Army",text:"Create a Defense army.",attachTo:{element:".defense-army-selector",on:"top"},advanceOn:{selector:".defense-army-selector",event:"click"},beforeShowPromise:function(){return xe(".defense-army-selector")},showOn:()=>!document.querySelector(".defensive-army-selector"),classes:"-mt-5",buttons:[]},{title:"Army Managemenet",text:"Monitor your army's stamina and inventory.",attachTo:{element:".defensive-army-selector",on:"bottom"},beforeShowPromise:function(){return xe(".defensive-army-selector")},canClickTarget:!1,classes:"mt-5",buttons:[V.next]},{title:"Edit",text:"Click the edit icon.",attachTo:{element:".defensive-army-edit-selector",on:"top"},beforeShowPromise:function(){return xe(".defensive-army-edit-selector")},advanceOn:{selector:".defensive-army-edit-selector",event:"click"},classes:"-mt-5",buttons:[]},{title:"Assign Troops",text:"Assign troops to your defensive army.",attachTo:{element:".defensive-army-selector",on:"top"},beforeShowPromise:function(){return xe(".defensive-army-selector")},classes:"-mt-5",buttons:[V.finish]}];var P0=[{title:"The Lords Market",text:"Welcome to trading - the heart of Eternum's economy!",beforeShowPromise:function(){return z.getState().setRightNavigationView(0),z.getState().setLeftNavigationView(0),z.getState().closeAllPopups(),new Promise(e=>e())},buttons:[V.next]},{title:"Trade Menu",text:"Open the Lord's Market.",attachTo:{element:".trade-selector",on:"right-start"},advanceOn:{selector:".trade-selector",event:"click"},classes:"ml-5",buttons:[]},{title:"Marketplace",text:"Entirely player driven, set your own prices!",beforeShowPromise:function(){return xe(".market-modal-selector")},buttons:[V.next]},{title:"Realm Selection",text:"Switch between your realms to manage their own trade offers efficiently.",attachTo:{element:".market-realm-selector",on:"bottom"},classes:"mt-5",canClickTarget:!1,buttons:[V.next]},{title:"Resource Overview",text:"Track resources and compare best prices: Buy Orders, Sell Orders, and AMM prices.",attachTo:{element:".market-resource-bar-selector",on:"right"},classes:"ml-5",buttons:[V.next]},{title:"AMM",text:"Open the AMM section.",attachTo:{element:".amm-tab-selector",on:"bottom"},advanceOn:{selector:".amm-tab-selector",event:"click"},scrollTo:!0,classes:"mt-5",buttons:[]},{title:"Automated Market Maker",text:"Swap resources and $Lords on the AMM.",attachTo:{element:".amm-swap-selector",on:"bottom"},beforeShowPromise:function(){return xe(".amm-swap-selector")},canClickTarget:!1,classes:"mt-5",buttons:[V.next]},{title:"Liquidity",text:"Prices are dictated by each Resource/$Lords liquidity pool.",attachTo:{element:".amm-liquidity-selector",on:"top"},scrollTo:!0,canClickTarget:!1,classes:"-mt-5",buttons:[V.next]},{title:"Important",text:"Trading using the AMM incurs fees, while the Order Book does not.",attachTo:{element:".amm-selector",on:"bottom"},scrollTo:!0,canClickTarget:!1,classes:"mt-5 shepherd-warning",buttons:[V.next]},{title:"Central Bank",text:"All AMM trades go through the Central Bank.",attachTo:{element:".trade-bank-selector",on:"bottom"},scrollTo:!0,classes:"mt-5",buttons:[V.next]},{title:"Combat",text:"While the Central Bank is in Battle, the AMM is disabled.",attachTo:{element:".bank-combat-selector",on:"bottom"},classes:"mt-5",buttons:[V.next]},{title:"Order Book",text:"Open the Order Book section.",attachTo:{element:".orderbook-tab-selector",on:"bottom"},classes:"mt-5",advanceOn:{selector:".orderbook-tab-selector",event:"click"},scrollTo:!0,buttons:[]},{title:"Market Orders",text:"View all active players' Buy and Sell orders.",attachTo:{element:".order-book-selector",on:"left"},classes:"-ml-5",beforeShowPromise:function(){return xe(".order-book-selector")},canClickTarget:!1,buttons:[V.next]},{title:"Buy",text:"Spend $Lords to get resources.",attachTo:{element:".order-create-buy-selector",on:"top"},classes:"-mt-5",scrollTo:!0,canClickTarget:!1,buttons:[V.next]},{title:"Sell",text:"Or sell your resources to gain $Lords.",attachTo:{element:".order-create-sell-selector",on:"top"},classes:"-mt-5",scrollTo:!0,canClickTarget:!1,buttons:[V.next]},{title:"Transportation Cost",text:"All resource movements cost Donkeys based on total weight. No donkeys = No trading, AMM included !",attachTo:{element:".donkeys-used-selector",on:"top"},classes:"-mt-5",scrollTo:!0,canClickTarget:!1,buttons:[V.next]},{title:"Place Your First Order",text:"Select a resource, check the AMM price, then create your order.",attachTo:{element:".order-book-selector",on:"top"},classes:"-mt-5",extraHighlights:[".market-resource-bar-selector"],scrollTo:!0,buttons:[V.finish]}];import{BUILDINGS_CENTER as M0}from"@bibliothecadao/eternum";var C0=[{title:"Production",text:"Buildings automatically start producing once built.",beforeShowPromise:function(){return z.getState().setRightNavigationView(0),z.getState().setLeftNavigationView(0),z.getState().closeAllPopups(),new Promise(e=>e())},buttons:[V.next]},{title:"Pause",text:"To manage your resources, pausing a production building can be essential.",buttons:[V.next]},{title:"Details",text:"Open the Details menu.",attachTo:{element:".entity-details-selector",on:"right-start"},beforeShowPromise:function(){let e=z.getState().selectedBuildingHex,n=z.getState().setSelectedBuildingHex;return n({...e,innerCol:M0[0],innerRow:M0[1]}),new Promise(t=>t())},advanceOn:{selector:".entity-details-selector",event:"click"},classes:"ml-5",buttons:[]},{title:"Realm Overview",text:"Your realm's details are displayed here.",attachTo:{element:".building-entity-details-selector",on:"right"},beforeShowPromise:function(){return xe(".building-entity-details-selector")},canClickTarget:!1,classes:"ml-5",buttons:[V.next]},{title:"Buildings Management",text:"Open the  buildings section.",attachTo:{element:".buildings-tab-selector",on:"right-start"},advanceOn:{selector:".buildings-tab-selector",event:"click"},classes:"ml-5",buttons:[]},{title:"Production Control",text:"Monitor all production buildings. Each one can be managed individually.",attachTo:{element:".buildings-selector",on:"right"},beforeShowPromise:function(){return xe(".buildings-selector")},canClickTarget:!1,classes:"ml-5",buttons:[V.next]},{title:"Economy Buildings",text:"Open the Economy section.",attachTo:{element:".economy-building-selector",on:"bottom"},advanceOn:{selector:".economy-building-selector",event:"click"},canClickTarget:!0,classes:"mt-5",buttons:[]},{title:"Pause Production",text:"Click the pause button to stop its production and resource consumption.",attachTo:{element:".pause-building-button-selector",on:"bottom"},classes:"mt-5",advanceOn:{selector:".pause-building-button-selector",event:"click"},beforeShowPromise:function(){return xe(".pause-building-button-selector")},buttons:[]},{title:"Important",text:"When a resource reaches its storage limit, any additional production of it will be lost.",attachTo:{element:".storehouse-selector",on:"right-start"},classes:"ml-5 shepherd-warning",buttons:[V.next]},{title:"Important",text:"If any input resource runs out, others will still be consumed without producing. Pause to prevent waste!",attachTo:{element:".storehouse-selector",on:"right-start"},classes:"ml-5 shepherd-warning",buttons:[V.finish]}];var D0=[{title:"Welcome to Eternum",text:"Follow these tutorials to get started on your journey.",beforeShowPromise:function(){return z.getState().setRightNavigationView(0),z.getState().setLeftNavigationView(0),z.getState().closeAllPopups(),new Promise(e=>e())},buttons:[V.next]},{title:"Quests & Rewards",text:"Complete quests to claim valuable resources.",attachTo:{element:".tutorial-selector",on:"bottom"},canClickTarget:!1,classes:"mt-5",buttons:[V.next]},{title:"Claim your reward",text:()=>{let e=document.createElement("img");e.src="/images/resources/254.png",e.className="w-8 h-8 inline-block mx-1",e.title="Wheat";let n=document.createElement("img");n.src="/images/resources/255.png",n.className="w-8 h-8 inline-block mx-1",n.title="Fish";let t=document.createElement("div");return t.innerHTML=`Claim your gift: free ${e.outerHTML} and ${n.outerHTML}`,t.innerHTML},attachTo:{element:".claim-selector",on:"bottom"},advanceOn:{selector:".claim-selector",event:"click"},classes:"mt-5",buttons:[]},{title:"Resource Balance",text:"Open the Balance menu.",attachTo:{element:".resource-table-selector",on:"left-start"},advanceOn:{selector:".resource-table-selector",event:"click"},classes:"-ml-5",buttons:[]},{title:"Resources",text:()=>{let e=document.createElement("img");e.src="/images/resources/254.png",e.className="w-8 h-8 inline-block mx-1",e.title="Wheat";let n=document.createElement("img");n.src="/images/resources/255.png",n.className="w-8 h-8 inline-block mx-1",n.title="Fish";let t=document.createElement("div");return t.innerHTML=`${e.outerHTML} and ${n.outerHTML} are the lifeblood of your economy.`,t.innerHTML},attachTo:{element:".entity-resource-table-selector",on:"left"},beforeShowPromise:function(){return xe(".entity-resource-table-selector")},classes:"-ml-5",buttons:[V.next]},{title:"Social",text:"Forge alliances, create or join a Tribe.",attachTo:{element:".social-selector",on:"bottom"},beforeShowPromise:function(){return z.getState().setRightNavigationView(0),new Promise(e=>e())},canClickTarget:!1,classes:"mt-5",buttons:[V.next]},{title:"Join our Discord",text:"Join the community for game tips, friendly chat, and more!",attachTo:{element:".discord-selector",on:"bottom"},classes:"mt-5",buttons:[V.next]},{title:"Settings",text:"Customize your game experience.",attachTo:{element:".settings-selector",on:"bottom"},canClickTarget:!1,classes:"mt-5",buttons:[V.next]},{title:"Continue Your Journey",text:"Complete more quests and discover everything Eternum has to offer!",attachTo:{element:".tutorial-selector",on:"bottom"},canClickTarget:!1,classes:"mt-5",buttons:[V.finish]}];var j0=[{title:"World View",text:"Toggle between the world map and your Realm.",attachTo:{element:".map-button-selector",on:"auto"},beforeShowPromise:function(){return z.getState().setRightNavigationView(0),z.getState().setLeftNavigationView(0),z.getState().closeAllPopups(),new Promise(e=>e())},advanceOn:{selector:".map-button-selector",event:"click"},buttons:[]},{title:"Stamina",text:"Traveling and Exploring use up the army's stamina, and consumes food.",buttons:[V.next]},{title:"Eternum Cycle",text:"Every cycle, all armies' stamina regenerates for a small amount.",attachTo:{element:".cycle-selector",on:"auto"},buttons:[V.next]},{title:"Explore",text:"Exploring undiscovered hexes rewards resources to your army, and possibly uncover hidden Fragment Mines.",buttons:[V.next]},{title:"Travel",text:"Traveling grants no reward, but its stamina and food costs are reduced.",buttons:[V.next]},{title:"Map Controls",text:"To move the camera, use left-click and drag, or use WASD keys.",buttons:[V.next]},{title:"Army Controls",text:"Select your army with left-click, move with right-click.",attachTo:{element:".world-selector",on:"auto"},classes:"!left-3/4 !top-1/4 ",highlightClass:"allow-modal-click",buttons:[V.finish]}];import{BUILDING_CATEGORY_POPULATION_CONFIG_ID as rB,ClientConfigManager as aB,createClientComponents as oB,HYPERSTRUCTURE_CONFIG_ID as sB,WORLD_CONFIG_ID as y0}from"@bibliothecadao/eternum";var s6={0:"Invalid value for configuration 'enforceActions', expected 'never', 'always' or 'observed'",1:function(n,t){return"Cannot apply '"+n+"' to '"+t.toString()+"': Field not found."},5:"'keys()' can only be used on observable objects, arrays, sets and maps",6:"'values()' can only be used on observable objects, arrays, sets and maps",7:"'entries()' can only be used on observable objects, arrays and maps",8:"'set()' can only be used on observable objects, arrays and maps",9:"'remove()' can only be used on observable objects, arrays and maps",10:"'has()' can only be used on observable objects, arrays and maps",11:"'get()' can only be used on observable objects, arrays and maps",12:"Invalid annotation",13:"Dynamic observable objects cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",14:"Intercept handlers should return nothing or a change object",15:"Observable arrays cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",16:"Modification exception: the internal structure of an observable array was changed.",17:function(n,t){return"[mobx.array] Index out of bounds, "+n+" is larger than "+t},18:"mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js",19:function(n){return"Cannot initialize from classes that inherit from Map: "+n.constructor.name},20:function(n){return"Cannot initialize map from "+n},21:function(n){return"Cannot convert to map from '"+n+"'"},22:"mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js",23:"It is not possible to get index atoms from arrays",24:function(n){return"Cannot obtain administration from "+n},25:function(n,t){return"the entry '"+n+"' does not exist in the observable map '"+t+"'"},26:"please specify a property",27:function(n,t){return"no observable property '"+n.toString()+"' found on the observable object '"+t+"'"},28:function(n){return"Cannot obtain atom from "+n},29:"Expecting some object",30:"invalid action stack. did you forget to finish an action?",31:"missing option for computed: get",32:function(n,t){return"Cycle detected in computation "+n+": "+t},33:function(n){return"The setter of computed value '"+n+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"},34:function(n){return"[ComputedValue '"+n+"'] It is not possible to assign a new value to a computed value."},35:"There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`",36:"isolateGlobalState should be called before MobX is running any reactions",37:function(n){return"[mobx] `observableArray."+n+"()` mutates the array in-place, which is not allowed inside a derivation. Use `array.slice()."+n+"()` instead"},38:"'ownKeys()' can only be used on observable objects",39:"'defineProperty()' can only be used on observable objects"},u6=process.env.NODE_ENV!=="production"?s6:{};function G(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];if(process.env.NODE_ENV!=="production"){var r=typeof e=="string"?e:u6[e];throw typeof r=="function"&&(r=r.apply(null,t)),new Error("[MobX] "+r)}throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(t.length?" "+t.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var d6={};function wm(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:d6}var el=Object.assign,zo=Object.getOwnPropertyDescriptor,Qn=Object.defineProperty,Qo=Object.prototype,Ro=[];Object.freeze(Ro);var nl={};Object.freeze(nl);var m6=typeof Proxy<"u",l6=Object.toString();function tl(){m6||G(process.env.NODE_ENV!=="production"?"`Proxy` objects are not available in the current environment. Please configure MobX to enable a fallback implementation.`":"Proxy not available")}function Ba(e){process.env.NODE_ENV!=="production"&&j.verifyProxies&&G("MobX is currently configured to be able to run in ES5 mode, but in ES5 MobX won't be able to "+e)}function jn(){return++j.mobxGuid}function Sm(e){var n=!1;return function(){if(!n)return n=!0,e.apply(this,arguments)}}var Sr=function(){};function Ie(e){return typeof e=="function"}function Ni(e){var n=typeof e;switch(n){case"string":case"symbol":case"number":return!0}return!1}function Yo(e){return e!==null&&typeof e=="object"}function Jn(e){if(!Yo(e))return!1;var n=Object.getPrototypeOf(e);if(n==null)return!0;var t=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return typeof t=="function"&&t.toString()===l6}function il(e){var n=e?.constructor;return n?n.name==="GeneratorFunction"||n.displayName==="GeneratorFunction":!1}function Am(e,n,t){Qn(e,n,{enumerable:!1,writable:!0,configurable:!0,value:t})}function rl(e,n,t){Qn(e,n,{enumerable:!1,writable:!1,configurable:!0,value:t})}function Ci(e,n){var t="isMobX"+e;return n.prototype[t]=!0,function(i){return Yo(i)&&i[t]===!0}}function Pr(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function c6(e){var n=Object.getPrototypeOf(e),t=Object.getPrototypeOf(n),i=Object.getPrototypeOf(t);return i===null}function ut(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var al=typeof Object.getOwnPropertySymbols<"u";function y6(e){var n=Object.keys(e);if(!al)return n;var t=Object.getOwnPropertySymbols(e);return t.length?[].concat(n,t.filter(function(i){return Qo.propertyIsEnumerable.call(e,i)})):n}var Om=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:al?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function xm(e){return typeof e=="string"?e:typeof e=="symbol"?e.toString():new String(e).toString()}function ol(e){return e===null?null:typeof e=="object"?""+e:e}function Mn(e,n){return Qo.hasOwnProperty.call(e,n)}var x6=Object.getOwnPropertyDescriptors||function(n){var t={};return Om(n).forEach(function(i){t[i]=zo(n,i)}),t};function rn(e,n){return!!(e&n)}function an(e,n,t){return t?e|=n:e&=~n,e}function F0(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}function B0(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,p6(i.key),i)}}function Mr(e,n,t){return n&&B0(e.prototype,n),t&&B0(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ar(e,n){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t)return(t=t.call(e)).next.bind(t);if(Array.isArray(e)||(t=h6(e))||n&&e&&typeof e.length=="number"){t&&(e=t);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mt(){return Mt=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Mt.apply(null,arguments)}function sl(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,fm(e,n)}function fm(e,n){return fm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},fm(e,n)}function f6(e,n){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var i=t.call(e,n||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function p6(e){var n=f6(e,"string");return typeof n=="symbol"?n:n+""}function h6(e,n){if(e){if(typeof e=="string")return F0(e,n);var t={}.toString.call(e).slice(8,-1);return t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set"?Array.from(e):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?F0(e,n):void 0}}var dt=Symbol("mobx-stored-annotations");function Yn(e){function n(t,i){if(Ka(i))return e.decorate_20223_(t,i);Ua(t,i,e)}return Object.assign(n,e)}function Ua(e,n,t){if(Mn(e,dt)||Am(e,dt,Mt({},e[dt])),process.env.NODE_ENV!=="production"&&Ko(t)&&!Mn(e[dt],n)){var i=e.constructor.name+".prototype."+n.toString();G("'"+i+"' is decorated with 'override', but no such decorated member was found on prototype.")}g6(e,t,n),Ko(t)||(e[dt][n]=t)}function g6(e,n,t){if(process.env.NODE_ENV!=="production"&&!Ko(n)&&Mn(e[dt],t)){var i=e.constructor.name+".prototype."+t.toString(),r=e[dt][t].annotationType_,a=n.annotationType_;G("Cannot apply '@"+a+"' to '"+i+"':"+(`
The field is already decorated with '@`+r+"'.")+`
Re-decorating fields is not allowed.
Use '@override' decorator for methods overridden by subclass.`)}}function Ka(e){return typeof e=="object"&&typeof e.kind=="string"}function Jo(e,n){process.env.NODE_ENV!=="production"&&!n.includes(e.kind)&&G("The decorator applied to '"+String(e.name)+"' cannot be used on a "+e.kind+" element")}var ie=Symbol("mobx administration"),jt=function(){function e(t){t===void 0&&(t=process.env.NODE_ENV!=="production"?"Atom@"+jn():"Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=ce.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var n=e.prototype;return n.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},n.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},n.reportObserved=function(){return El(this)},n.reportChanged=function(){hn(),_l(this),gn()},n.toString=function(){return this.name_},Mr(e,[{key:"isBeingObserved",get:function(){return rn(this.flags_,e.isBeingObservedMask_)},set:function(i){this.flags_=an(this.flags_,e.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return rn(this.flags_,e.isPendingUnobservationMask_)},set:function(i){this.flags_=an(this.flags_,e.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return rn(this.flags_,e.diffValueMask_)?1:0},set:function(i){this.flags_=an(this.flags_,e.diffValueMask_,i===1)}}])}();jt.isBeingObservedMask_=1;jt.isPendingUnobservationMask_=2;jt.diffValueMask_=4;var Tm=Ci("Atom",jt);function ul(e,n,t){n===void 0&&(n=Sr),t===void 0&&(t=Sr);var i=new jt(e);return n!==Sr&&Mx(i,n),t!==Sr&&Nl(i,t),i}function v6(e,n){return e===n}function b6(e,n){return Bm(e,n)}function k6(e,n){return Bm(e,n,1)}function E6(e,n){return Object.is?Object.is(e,n):e===n?e!==0||1/e===1/n:e!==e&&n!==n}var Uo={identity:v6,structural:b6,default:E6,shallow:k6};function Ii(e,n,t){return Ra(e)?e:Array.isArray(e)?Ne.array(e,{name:t}):Jn(e)?Ne.object(e,void 0,{name:t}):Pr(e)?Ne.map(e,{name:t}):ut(e)?Ne.set(e,{name:t}):typeof e=="function"&&!Tr(e)&&!za(e)?il(e)?Nr(e):La(t,e):e}function _6(e,n,t){if(e==null||Ir(e)||Wa(e)||ct(e)||Zn(e))return e;if(Array.isArray(e))return Ne.array(e,{name:t,deep:!1});if(Jn(e))return Ne.object(e,void 0,{name:t,deep:!1});if(Pr(e))return Ne.map(e,{name:t,deep:!1});if(ut(e))return Ne.set(e,{name:t,deep:!1});process.env.NODE_ENV!=="production"&&G("The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets")}function Xo(e){return e}function w6(e,n){return process.env.NODE_ENV!=="production"&&Ra(e)&&G("observable.struct should not be used with observable values"),Bm(e,n)?n:e}var S6="override";function Ko(e){return e.annotationType_===S6}function Va(e,n){return{annotationType_:e,options_:n,make_:A6,extend_:O6,decorate_20223_:T6}}function A6(e,n,t,i){var r;if((r=this.options_)!=null&&r.bound)return this.extend_(e,n,t,!1)===null?0:1;if(i===e.target_)return this.extend_(e,n,t,!1)===null?0:2;if(Tr(t.value))return 1;var a=dl(e,this,n,t,!1);return Qn(i,n,a),2}function O6(e,n,t,i){var r=dl(e,this,n,t);return e.defineProperty_(n,r,i)}function T6(e,n){process.env.NODE_ENV!=="production"&&Jo(n,["method","field"]);var t=n.kind,i=n.name,r=n.addInitializer,a=this,o=function(d){var m,l,c,h;return Pi((m=(l=a.options_)==null?void 0:l.name)!=null?m:i.toString(),d,(c=(h=a.options_)==null?void 0:h.autoAction)!=null?c:!1)};if(t=="field")return function(u){var d,m=u;return Tr(m)||(m=o(m)),(d=a.options_)!=null&&d.bound&&(m=m.bind(this),m.isMobxAction=!0),m};if(t=="method"){var s;return Tr(e)||(e=o(e)),(s=this.options_)!=null&&s.bound&&r(function(){var u=this,d=u[i].bind(u);d.isMobxAction=!0,u[i]=d}),e}G("Cannot apply '"+a.annotationType_+"' to '"+String(i)+"' (kind: "+t+"):"+(`
'`+a.annotationType_+"' can only be used on properties with a function value."))}function N6(e,n,t,i){var r=n.annotationType_,a=i.value;process.env.NODE_ENV!=="production"&&!Ie(a)&&G("Cannot apply '"+r+"' to '"+e.name_+"."+t.toString()+"':"+(`
'`+r+"' can only be used on properties with a function value."))}function dl(e,n,t,i,r){var a,o,s,u,d,m,l;r===void 0&&(r=j.safeDescriptors),N6(e,n,t,i);var c=i.value;if((a=n.options_)!=null&&a.bound){var h;c=c.bind((h=e.proxy_)!=null?h:e.target_)}return{value:Pi((o=(s=n.options_)==null?void 0:s.name)!=null?o:t.toString(),c,(u=(d=n.options_)==null?void 0:d.autoAction)!=null?u:!1,(m=n.options_)!=null&&m.bound?(l=e.proxy_)!=null?l:e.target_:void 0),configurable:r?e.isPlainObject_:!0,enumerable:!1,writable:!r}}function ml(e,n){return{annotationType_:e,options_:n,make_:I6,extend_:P6,decorate_20223_:M6}}function I6(e,n,t,i){var r;if(i===e.target_)return this.extend_(e,n,t,!1)===null?0:2;if((r=this.options_)!=null&&r.bound&&(!Mn(e.target_,n)||!za(e.target_[n]))&&this.extend_(e,n,t,!1)===null)return 0;if(za(t.value))return 1;var a=ll(e,this,n,t,!1,!1);return Qn(i,n,a),2}function P6(e,n,t,i){var r,a=ll(e,this,n,t,(r=this.options_)==null?void 0:r.bound);return e.defineProperty_(n,a,i)}function M6(e,n){var t;process.env.NODE_ENV!=="production"&&Jo(n,["method"]);var i=n.name,r=n.addInitializer;return za(e)||(e=Nr(e)),(t=this.options_)!=null&&t.bound&&r(function(){var a=this,o=a[i].bind(a);o.isMobXFlow=!0,a[i]=o}),e}function C6(e,n,t,i){var r=n.annotationType_,a=i.value;process.env.NODE_ENV!=="production"&&!Ie(a)&&G("Cannot apply '"+r+"' to '"+e.name_+"."+t.toString()+"':"+(`
'`+r+"' can only be used on properties with a generator function value."))}function ll(e,n,t,i,r,a){a===void 0&&(a=j.safeDescriptors),C6(e,n,t,i);var o=i.value;if(za(o)||(o=Nr(o)),r){var s;o=o.bind((s=e.proxy_)!=null?s:e.target_),o.isMobXFlow=!0}return{value:o,configurable:a?e.isPlainObject_:!0,enumerable:!1,writable:!a}}function Nm(e,n){return{annotationType_:e,options_:n,make_:D6,extend_:j6,decorate_20223_:F6}}function D6(e,n,t){return this.extend_(e,n,t,!1)===null?0:1}function j6(e,n,t,i){return B6(e,this,n,t),e.defineComputedProperty_(n,Mt({},this.options_,{get:t.get,set:t.set}),i)}function F6(e,n){process.env.NODE_ENV!=="production"&&Jo(n,["getter"]);var t=this,i=n.name,r=n.addInitializer;return r(function(){var a=Za(this)[ie],o=Mt({},t.options_,{get:e,context:this});o.name||(o.name=process.env.NODE_ENV!=="production"?a.name_+"."+i.toString():"ObservableObject."+i.toString()),a.values_.set(i,new bn(o))}),function(){return this[ie].getObservablePropValue_(i)}}function B6(e,n,t,i){var r=n.annotationType_,a=i.get;process.env.NODE_ENV!=="production"&&!a&&G("Cannot apply '"+r+"' to '"+e.name_+"."+t.toString()+"':"+(`
'`+r+"' can only be used on getter(+setter) properties."))}function es(e,n){return{annotationType_:e,options_:n,make_:q6,extend_:L6,decorate_20223_:z6}}function q6(e,n,t){return this.extend_(e,n,t,!1)===null?0:1}function L6(e,n,t,i){var r,a;return R6(e,this,n,t),e.defineObservableProperty_(n,t.value,(r=(a=this.options_)==null?void 0:a.enhancer)!=null?r:Ii,i)}function z6(e,n){if(process.env.NODE_ENV!=="production"){if(n.kind==="field")throw G("Please use `@observable accessor "+String(n.name)+"` instead of `@observable "+String(n.name)+"`");Jo(n,["accessor"])}var t=this,i=n.kind,r=n.name,a=new WeakSet;function o(s,u){var d,m,l=Za(s)[ie],c=new Ti(u,(d=(m=t.options_)==null?void 0:m.enhancer)!=null?d:Ii,process.env.NODE_ENV!=="production"?l.name_+"."+r.toString():"ObservableObject."+r.toString(),!1);l.values_.set(r,c),a.add(s)}if(i=="accessor")return{get:function(){return a.has(this)||o(this,e.get.call(this)),this[ie].getObservablePropValue_(r)},set:function(u){return a.has(this)||o(this,u),this[ie].setObservablePropValue_(r,u)},init:function(u){return a.has(this)||o(this,u),u}}}function R6(e,n,t,i){var r=n.annotationType_;process.env.NODE_ENV!=="production"&&!("value"in i)&&G("Cannot apply '"+r+"' to '"+e.name_+"."+t.toString()+"':"+(`
'`+r+"' cannot be used on getter/setter properties"))}var U6="true",K6=cl();function cl(e){return{annotationType_:U6,options_:e,make_:V6,extend_:H6,decorate_20223_:G6}}function V6(e,n,t,i){var r,a;if(t.get)return ns.make_(e,n,t,i);if(t.set){var o=Pi(n.toString(),t.set);return i===e.target_?e.defineProperty_(n,{configurable:j.safeDescriptors?e.isPlainObject_:!0,set:o})===null?0:2:(Qn(i,n,{configurable:!0,set:o}),2)}if(i!==e.target_&&typeof t.value=="function"){var s;if(il(t.value)){var u,d=(u=this.options_)!=null&&u.autoBind?Nr.bound:Nr;return d.make_(e,n,t,i)}var m=(s=this.options_)!=null&&s.autoBind?La.bound:La;return m.make_(e,n,t,i)}var l=((r=this.options_)==null?void 0:r.deep)===!1?Ne.ref:Ne;if(typeof t.value=="function"&&(a=this.options_)!=null&&a.autoBind){var c;t.value=t.value.bind((c=e.proxy_)!=null?c:e.target_)}return l.make_(e,n,t,i)}function H6(e,n,t,i){var r,a;if(t.get)return ns.extend_(e,n,t,i);if(t.set)return e.defineProperty_(n,{configurable:j.safeDescriptors?e.isPlainObject_:!0,set:Pi(n.toString(),t.set)},i);if(typeof t.value=="function"&&(r=this.options_)!=null&&r.autoBind){var o;t.value=t.value.bind((o=e.proxy_)!=null?o:e.target_)}var s=((a=this.options_)==null?void 0:a.deep)===!1?Ne.ref:Ne;return s.extend_(e,n,t,i)}function G6(e,n){G("'"+this.annotationType_+"' cannot be used as a decorator")}var W6="observable",Z6="observable.ref",$6="observable.shallow",Q6="observable.struct",yl={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(yl);function Bo(e){return e||yl}var pm=es(W6),Y6=es(Z6,{enhancer:Xo}),J6=es($6,{enhancer:_6}),X6=es(Q6,{enhancer:w6}),xl=Yn(pm);function qo(e){return e.deep===!0?Ii:e.deep===!1?Xo:nx(e.defaultDecorator)}function ex(e){var n;return e?(n=e.defaultDecorator)!=null?n:cl(e):void 0}function nx(e){var n,t;return e&&(n=(t=e.options_)==null?void 0:t.enhancer)!=null?n:Ii}function fl(e,n,t){if(Ka(n))return pm.decorate_20223_(e,n);if(Ni(n)){Ua(e,n,pm);return}return Ra(e)?e:Jn(e)?Ne.object(e,n,t):Array.isArray(e)?Ne.array(e,n):Pr(e)?Ne.map(e,n):ut(e)?Ne.set(e,n):typeof e=="object"&&e!==null?e:Ne.box(e,n)}el(fl,xl);var tx={box:function(n,t){var i=Bo(t);return new Ti(n,qo(i),i.name,!0,i.equals)},array:function(n,t){var i=Bo(t);return(j.useProxies===!1||i.proxy===!1?nf:Hx)(n,qo(i),i.name)},map:function(n,t){var i=Bo(t);return new Dl(n,qo(i),i.name)},set:function(n,t){var i=Bo(t);return new jl(n,qo(i),i.name)},object:function(n,t,i){return Cr(function(){return Cx(j.useProxies===!1||i?.proxy===!1?Za({},i):Ux({},i),n,t)})},ref:Yn(Y6),shallow:Yn(J6),deep:xl,struct:Yn(X6)},Ne=el(fl,tx),pl="computed",ix="computed.struct",hm=Nm(pl),rx=Nm(ix,{equals:Uo.structural}),ns=function(n,t){if(Ka(t))return hm.decorate_20223_(n,t);if(Ni(t))return Ua(n,t,hm);if(Jn(n))return Yn(Nm(pl,n));process.env.NODE_ENV!=="production"&&(Ie(n)||G("First argument to `computed` should be an expression."),Ie(t)&&G("A setter as second argument is no longer supported, use `{ set: fn }` option instead"));var i=Jn(t)?t:{};return i.get=n,i.name||(i.name=n.name||""),new bn(i)};Object.assign(ns,hm);ns.struct=Yn(rx);var q0,L0,Vo=0,ax=1,ox=(q0=(L0=zo(function(){},"name"))==null?void 0:L0.configurable)!=null?q0:!1,z0={value:"action",configurable:!0,writable:!1,enumerable:!1};function Pi(e,n,t,i){t===void 0&&(t=!1),process.env.NODE_ENV!=="production"&&(Ie(n)||G("`action` can only be invoked on functions"),(typeof e!="string"||!e)&&G("actions should have valid names, got: '"+e+"'"));function r(){return sx(e,t,n,i||this,arguments)}return r.isMobxAction=!0,r.toString=function(){return n.toString()},ox&&(z0.value=e,Qn(r,"name",z0)),r}function sx(e,n,t,i,r){var a=ux(e,n,i,r);try{return t.apply(i,r)}catch(o){throw a.error_=o,o}finally{dx(a)}}function ux(e,n,t,i){var r=process.env.NODE_ENV!=="production"&&je()&&!!e,a=0;if(process.env.NODE_ENV!=="production"&&r){a=Date.now();var o=i?Array.from(i):Ro;on({type:Cm,name:e,object:t,arguments:o})}var s=j.trackingDerivation,u=!n||!s;hn();var d=j.allowStateChanges;u&&(Di(),d=Im(!0));var m=Mm(!0),l={runAsAction_:u,prevDerivation_:s,prevAllowStateChanges_:d,prevAllowStateReads_:m,notifySpy_:r,startTime_:a,actionId_:ax++,parentActionId_:Vo};return Vo=l.actionId_,l}function dx(e){Vo!==e.actionId_&&G(30),Vo=e.parentActionId_,e.error_!==void 0&&(j.suppressReactionErrors=!0),Pm(e.prevAllowStateChanges_),qa(e.prevAllowStateReads_),gn(),e.runAsAction_&&lt(e.prevDerivation_),process.env.NODE_ENV!=="production"&&e.notifySpy_&&sn({time:Date.now()-e.startTime_}),j.suppressReactionErrors=!1}function Im(e){var n=j.allowStateChanges;return j.allowStateChanges=e,n}function Pm(e){j.allowStateChanges=e}var mx="create",Ti=function(e){function n(i,r,a,o,s){var u;return a===void 0&&(a=process.env.NODE_ENV!=="production"?"ObservableValue@"+jn():"ObservableValue"),o===void 0&&(o=!0),s===void 0&&(s=Uo.default),u=e.call(this,a)||this,u.enhancer=void 0,u.name_=void 0,u.equals=void 0,u.hasUnreportedChange_=!1,u.interceptors_=void 0,u.changeListeners_=void 0,u.value_=void 0,u.dehancer=void 0,u.enhancer=r,u.name_=a,u.equals=s,u.value_=r(i,void 0,a),process.env.NODE_ENV!=="production"&&o&&je()&&Mi({type:mx,object:u,observableKind:"value",debugObjectName:u.name_,newValue:""+u.value_}),u}sl(n,e);var t=n.prototype;return t.dehanceValue=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.set=function(r){var a=this.value_;if(r=this.prepareNewValue_(r),r!==j.UNCHANGED){var o=je();process.env.NODE_ENV!=="production"&&o&&on({type:Pn,object:this,observableKind:"value",debugObjectName:this.name_,newValue:r,oldValue:a}),this.setNewValue_(r),process.env.NODE_ENV!=="production"&&o&&sn()}},t.prepareNewValue_=function(r){if($n(this),fn(this)){var a=pn(this,{object:this,type:Pn,newValue:r});if(!a)return j.UNCHANGED;r=a.newValue}return r=this.enhancer(r,this.value_,this.name_),this.equals(this.value_,r)?j.UNCHANGED:r},t.setNewValue_=function(r){var a=this.value_;this.value_=r,this.reportChanged(),Cn(this)&&Dn(this,{type:Pn,object:this,newValue:r,oldValue:a})},t.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},t.intercept_=function(r){return Ha(this,r)},t.observe_=function(r,a){return a&&r({observableKind:"value",debugObjectName:this.name_,object:this,type:Pn,newValue:this.value_,oldValue:void 0}),Ga(this,r)},t.raw=function(){return this.value_},t.toJSON=function(){return this.get()},t.toString=function(){return this.name_+"["+this.value_+"]"},t.valueOf=function(){return ol(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},n}(jt);var bn=function(){function e(t){this.dependenciesState_=ce.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=ce.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Ho(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=vn.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||G(31),this.derivation=t.get,this.name_=t.name||(process.env.NODE_ENV!=="production"?"ComputedValue@"+jn():"ComputedValue"),t.set&&(this.setter_=Pi(process.env.NODE_ENV!=="production"?this.name_+"-setter":"ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?Uo.structural:Uo.default),this.scope_=t.context,this.requiresReaction_=t.requiresReaction,this.keepAlive_=!!t.keepAlive}var n=e.prototype;return n.onBecomeStale_=function(){hx(this)},n.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},n.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},n.get=function(){if(this.isComputing&&G(32,this.name_,this.derivation),j.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)gm(this)&&(this.warnAboutUntrackedRead_(),hn(),this.value_=this.computeValue_(!1),gn());else if(El(this),gm(this)){var i=j.trackingContext;this.keepAlive_&&!i&&(j.trackingContext=this),this.trackAndCompute()&&px(this),j.trackingContext=i}var r=this.value_;if(Lo(r))throw r.cause;return r},n.set=function(i){if(this.setter_){this.isRunningSetter&&G(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,i)}finally{this.isRunningSetter=!1}}else G(34,this.name_)},n.trackAndCompute=function(){var i=this.value_,r=this.dependenciesState_===ce.NOT_TRACKING_,a=this.computeValue_(!0),o=r||Lo(i)||Lo(a)||!this.equals_(i,a);return o&&(this.value_=a,process.env.NODE_ENV!=="production"&&je()&&Mi({observableKind:"computed",debugObjectName:this.name_,object:this.scope_,type:"update",oldValue:i,newValue:a})),o},n.computeValue_=function(i){this.isComputing=!0;var r=Im(!1),a;if(i)a=hl(this,this.derivation,this.scope_);else if(j.disableErrorBoundaries===!0)a=this.derivation.call(this.scope_);else try{a=this.derivation.call(this.scope_)}catch(o){a=new Ho(o)}return Pm(r),this.isComputing=!1,a},n.suspend_=function(){this.keepAlive_||(vm(this),this.value_=void 0,process.env.NODE_ENV!=="production"&&this.isTracing_!==vn.NONE&&console.log("[mobx.trace] Computed value '"+this.name_+"' was suspended and it will recompute on the next access."))},n.observe_=function(i,r){var a=this,o=!0,s=void 0;return Ox(function(){var u=a.get();if(!o||r){var d=Di();i({observableKind:"computed",debugObjectName:a.name_,type:Pn,object:a,newValue:u,oldValue:s}),lt(d)}o=!1,s=u})},n.warnAboutUntrackedRead_=function(){process.env.NODE_ENV!=="production"&&(this.isTracing_!==vn.NONE&&console.log("[mobx.trace] Computed value '"+this.name_+"' is being read outside a reactive context. Doing a full recompute."),(typeof this.requiresReaction_=="boolean"?this.requiresReaction_:j.computedRequiresReaction)&&console.warn("[mobx] Computed value '"+this.name_+"' is being read outside a reactive context. Doing a full recompute."))},n.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},n.valueOf=function(){return ol(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},Mr(e,[{key:"isComputing",get:function(){return rn(this.flags_,e.isComputingMask_)},set:function(i){this.flags_=an(this.flags_,e.isComputingMask_,i)}},{key:"isRunningSetter",get:function(){return rn(this.flags_,e.isRunningSetterMask_)},set:function(i){this.flags_=an(this.flags_,e.isRunningSetterMask_,i)}},{key:"isBeingObserved",get:function(){return rn(this.flags_,e.isBeingObservedMask_)},set:function(i){this.flags_=an(this.flags_,e.isBeingObservedMask_,i)}},{key:"isPendingUnobservation",get:function(){return rn(this.flags_,e.isPendingUnobservationMask_)},set:function(i){this.flags_=an(this.flags_,e.isPendingUnobservationMask_,i)}},{key:"diffValue",get:function(){return rn(this.flags_,e.diffValueMask_)?1:0},set:function(i){this.flags_=an(this.flags_,e.diffValueMask_,i===1)}}])}();bn.isComputingMask_=1;bn.isRunningSetterMask_=2;bn.isBeingObservedMask_=4;bn.isPendingUnobservationMask_=8;bn.diffValueMask_=16;var ts=Ci("ComputedValue",bn),ce;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})(ce||(ce={}));var vn;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(vn||(vn={}));var Ho=function(n){this.cause=void 0,this.cause=n};function Lo(e){return e instanceof Ho}function gm(e){switch(e.dependenciesState_){case ce.UP_TO_DATE_:return!1;case ce.NOT_TRACKING_:case ce.STALE_:return!0;case ce.POSSIBLY_STALE_:{for(var n=Mm(!0),t=Di(),i=e.observing_,r=i.length,a=0;a<r;a++){var o=i[a];if(ts(o)){if(j.disableErrorBoundaries)o.get();else try{o.get()}catch{return lt(t),qa(n),!0}if(e.dependenciesState_===ce.STALE_)return lt(t),qa(n),!0}}return vl(e),lt(t),qa(n),!1}}}function $n(e){if(process.env.NODE_ENV!=="production"){var n=e.observers_.size>0;!j.allowStateChanges&&(n||j.enforceActions==="always")&&console.warn("[MobX] "+(j.enforceActions?"Since strict-mode is enabled, changing (observed) observable values without using an action is not allowed. Tried to modify: ":"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, a computed value or the render function of a React component? You can wrap side effects in 'runInAction' (or decorate functions with 'action') if needed. Tried to modify: ")+e.name_)}}function lx(e){process.env.NODE_ENV!=="production"&&!j.allowStateReads&&j.observableRequiresReaction&&console.warn("[mobx] Observable '"+e.name_+"' being read outside a reactive context.")}function hl(e,n,t){var i=Mm(!0);vl(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++j.runId;var r=j.trackingDerivation;j.trackingDerivation=e,j.inBatch++;var a;if(j.disableErrorBoundaries===!0)a=n.call(t);else try{a=n.call(t)}catch(o){a=new Ho(o)}return j.inBatch--,j.trackingDerivation=r,yx(e),cx(e),qa(i),a}function cx(e){process.env.NODE_ENV!=="production"&&e.observing_.length===0&&(typeof e.requiresObservable_=="boolean"?e.requiresObservable_:j.reactionRequiresObservable)&&console.warn("[mobx] Derivation '"+e.name_+"' is created/updated without reading any observable value.")}function yx(e){for(var n=e.observing_,t=e.observing_=e.newObserving_,i=ce.UP_TO_DATE_,r=0,a=e.unboundDepsCount_,o=0;o<a;o++){var s=t[o];s.diffValue===0&&(s.diffValue=1,r!==o&&(t[r]=s),r++),s.dependenciesState_>i&&(i=s.dependenciesState_)}for(t.length=r,e.newObserving_=null,a=n.length;a--;){var u=n[a];u.diffValue===0&&bl(u,e),u.diffValue=0}for(;r--;){var d=t[r];d.diffValue===1&&(d.diffValue=0,fx(d,e))}i!==ce.UP_TO_DATE_&&(e.dependenciesState_=i,e.onBecomeStale_())}function vm(e){var n=e.observing_;e.observing_=[];for(var t=n.length;t--;)bl(n[t],e);e.dependenciesState_=ce.NOT_TRACKING_}function gl(e){var n=Di();try{return e()}finally{lt(n)}}function Di(){var e=j.trackingDerivation;return j.trackingDerivation=null,e}function lt(e){j.trackingDerivation=e}function Mm(e){var n=j.allowStateReads;return j.allowStateReads=e,n}function qa(e){j.allowStateReads=e}function vl(e){if(e.dependenciesState_!==ce.UP_TO_DATE_){e.dependenciesState_=ce.UP_TO_DATE_;for(var n=e.observing_,t=n.length;t--;)n[t].lowestObserverState_=ce.UP_TO_DATE_}}var mm=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},lm=!0,xx=!1,j=function(){var e=wm();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(lm=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new mm().version&&(lm=!1),lm?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new mm):(setTimeout(function(){xx||G(35)},1),new mm)}();function fx(e,n){e.observers_.add(n),e.lowestObserverState_>n.dependenciesState_&&(e.lowestObserverState_=n.dependenciesState_)}function bl(e,n){e.observers_.delete(n),e.observers_.size===0&&kl(e)}function kl(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,j.pendingUnobservations.push(e))}function hn(){j.inBatch++}function gn(){if(--j.inBatch===0){Al();for(var e=j.pendingUnobservations,n=0;n<e.length;n++){var t=e[n];t.isPendingUnobservation=!1,t.observers_.size===0&&(t.isBeingObserved&&(t.isBeingObserved=!1,t.onBUO()),t instanceof bn&&t.suspend_())}j.pendingUnobservations=[]}}function El(e){lx(e);var n=j.trackingDerivation;return n!==null?(n.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=n.runId_,n.newObserving_[n.unboundDepsCount_++]=e,!e.isBeingObserved&&j.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&j.inBatch>0&&kl(e),!1)}function _l(e){e.lowestObserverState_!==ce.STALE_&&(e.lowestObserverState_=ce.STALE_,e.observers_.forEach(function(n){n.dependenciesState_===ce.UP_TO_DATE_&&(process.env.NODE_ENV!=="production"&&n.isTracing_!==vn.NONE&&wl(n,e),n.onBecomeStale_()),n.dependenciesState_=ce.STALE_}))}function px(e){e.lowestObserverState_!==ce.STALE_&&(e.lowestObserverState_=ce.STALE_,e.observers_.forEach(function(n){n.dependenciesState_===ce.POSSIBLY_STALE_?(n.dependenciesState_=ce.STALE_,process.env.NODE_ENV!=="production"&&n.isTracing_!==vn.NONE&&wl(n,e)):n.dependenciesState_===ce.UP_TO_DATE_&&(e.lowestObserverState_=ce.UP_TO_DATE_)}))}function hx(e){e.lowestObserverState_===ce.UP_TO_DATE_&&(e.lowestObserverState_=ce.POSSIBLY_STALE_,e.observers_.forEach(function(n){n.dependenciesState_===ce.UP_TO_DATE_&&(n.dependenciesState_=ce.POSSIBLY_STALE_,n.onBecomeStale_())}))}function wl(e,n){if(console.log("[mobx.trace] '"+e.name_+"' is invalidated due to a change in: '"+n.name_+"'"),e.isTracing_===vn.BREAK){var t=[];Sl(Dx(e),t,1),new Function(`debugger;
/*
Tracing '`+e.name_+`'

You are entering this break point because derivation '`+e.name_+"' is being traced and '"+n.name_+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(e instanceof bn?e.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+t.join(`
`)+`
*/
    `)()}}function Sl(e,n,t){if(n.length>=1e3){n.push("(and many more)");return}n.push(""+"	".repeat(t-1)+e.name),e.dependencies&&e.dependencies.forEach(function(i){return Sl(i,n,t+1)})}var Ct=function(){function e(t,i,r,a){t===void 0&&(t=process.env.NODE_ENV!=="production"?"Reaction@"+jn():"Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=ce.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=vn.NONE,this.name_=t,this.onInvalidate_=i,this.errorHandler_=r,this.requiresObservable_=a}var n=e.prototype;return n.onBecomeStale_=function(){this.schedule_()},n.schedule_=function(){this.isScheduled||(this.isScheduled=!0,j.pendingReactions.push(this),Al())},n.runReaction_=function(){if(!this.isDisposed){hn(),this.isScheduled=!1;var i=j.trackingContext;if(j.trackingContext=this,gm(this)){this.isTrackPending=!0;try{this.onInvalidate_(),process.env.NODE_ENV!=="production"&&this.isTrackPending&&je()&&Mi({name:this.name_,type:"scheduled-reaction"})}catch(r){this.reportExceptionInDerivation_(r)}}j.trackingContext=i,gn()}},n.track=function(i){if(!this.isDisposed){hn();var r=je(),a;process.env.NODE_ENV!=="production"&&r&&(a=Date.now(),on({name:this.name_,type:"reaction"})),this.isRunning=!0;var o=j.trackingContext;j.trackingContext=this;var s=hl(this,i,void 0);j.trackingContext=o,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&vm(this),Lo(s)&&this.reportExceptionInDerivation_(s.cause),process.env.NODE_ENV!=="production"&&r&&sn({time:Date.now()-a}),gn()}},n.reportExceptionInDerivation_=function(i){var r=this;if(this.errorHandler_){this.errorHandler_(i,this);return}if(j.disableErrorBoundaries)throw i;var a=process.env.NODE_ENV!=="production"?"[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'":"[mobx] uncaught error in '"+this+"'";j.suppressReactionErrors?process.env.NODE_ENV!=="production"&&console.warn("[mobx] (error in reaction '"+this.name_+"' suppressed, fix error of causing action below)"):console.error(a,i),process.env.NODE_ENV!=="production"&&je()&&Mi({type:"error",name:this.name_,message:a,error:""+i}),j.globalReactionErrorHandlers.forEach(function(o){return o(i,r)})},n.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(hn(),vm(this),gn()))},n.getDisposer_=function(i){var r=this,a=function o(){r.dispose(),i==null||i.removeEventListener==null||i.removeEventListener("abort",o)};return i==null||i.addEventListener==null||i.addEventListener("abort",a),a[ie]=this,a},n.toString=function(){return"Reaction["+this.name_+"]"},n.trace=function(i){i===void 0&&(i=!1),Lx(this,i)},Mr(e,[{key:"isDisposed",get:function(){return rn(this.flags_,e.isDisposedMask_)},set:function(i){this.flags_=an(this.flags_,e.isDisposedMask_,i)}},{key:"isScheduled",get:function(){return rn(this.flags_,e.isScheduledMask_)},set:function(i){this.flags_=an(this.flags_,e.isScheduledMask_,i)}},{key:"isTrackPending",get:function(){return rn(this.flags_,e.isTrackPendingMask_)},set:function(i){this.flags_=an(this.flags_,e.isTrackPendingMask_,i)}},{key:"isRunning",get:function(){return rn(this.flags_,e.isRunningMask_)},set:function(i){this.flags_=an(this.flags_,e.isRunningMask_,i)}},{key:"diffValue",get:function(){return rn(this.flags_,e.diffValueMask_)?1:0},set:function(i){this.flags_=an(this.flags_,e.diffValueMask_,i===1)}}])}();Ct.isDisposedMask_=1;Ct.isScheduledMask_=2;Ct.isTrackPendingMask_=4;Ct.isRunningMask_=8;Ct.diffValueMask_=16;var R0=100,gx=function(n){return n()};function Al(){j.inBatch>0||j.isRunningReactions||gx(vx)}function vx(){j.isRunningReactions=!0;for(var e=j.pendingReactions,n=0;e.length>0;){++n===R0&&(console.error(process.env.NODE_ENV!=="production"?"Reaction doesn't converge to a stable state after "+R0+" iterations."+(" Probably there is a cycle in the reactive function: "+e[0]):"[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var t=e.splice(0),i=0,r=t.length;i<r;i++)t[i].runReaction_()}j.isRunningReactions=!1}var Go=Ci("Reaction",Ct);function je(){return process.env.NODE_ENV!=="production"&&!!j.spyListeners.length}function Mi(e){if(process.env.NODE_ENV!=="production"&&j.spyListeners.length)for(var n=j.spyListeners,t=0,i=n.length;t<i;t++)n[t](e)}function on(e){if(process.env.NODE_ENV!=="production"){var n=Mt({},e,{spyReportStart:!0});Mi(n)}}var bx={type:"report-end",spyReportEnd:!0};function sn(e){process.env.NODE_ENV!=="production"&&Mi(e?Mt({},e,{type:"report-end",spyReportEnd:!0}):bx)}function kx(e){return process.env.NODE_ENV==="production"?(console.warn("[mobx.spy] Is a no-op in production builds"),function(){}):(j.spyListeners.push(e),Sm(function(){j.spyListeners=j.spyListeners.filter(function(n){return n!==e})}))}var Cm="action",Ex="action.bound",Ol="autoAction",_x="autoAction.bound",wx="<unnamed action>",bm=Va(Cm),Sx=Va(Ex,{bound:!0}),km=Va(Ol,{autoAction:!0}),Ax=Va(_x,{autoAction:!0,bound:!0});function Tl(e){var n=function(i,r){if(Ie(i))return Pi(i.name||wx,i,e);if(Ie(r))return Pi(i,r,e);if(Ka(r))return(e?km:bm).decorate_20223_(i,r);if(Ni(r))return Ua(i,r,e?km:bm);if(Ni(i))return Yn(Va(e?Ol:Cm,{name:i,autoAction:e}));process.env.NODE_ENV!=="production"&&G("Invalid arguments for `action`")};return n}var Or=Tl(!1);Object.assign(Or,bm);var La=Tl(!0);Object.assign(La,km);Or.bound=Yn(Sx);La.bound=Yn(Ax);function Tr(e){return Ie(e)&&e.isMobxAction===!0}function Ox(e,n){var t,i,r,a;n===void 0&&(n=nl),process.env.NODE_ENV!=="production"&&(Ie(e)||G("Autorun expects a function as first argument"),Tr(e)&&G("Autorun does not accept actions since actions are untrackable"));var o=(t=(i=n)==null?void 0:i.name)!=null?t:process.env.NODE_ENV!=="production"?e.name||"Autorun@"+jn():"Autorun",s=!n.scheduler&&!n.delay,u;if(s)u=new Ct(o,function(){this.track(l)},n.onError,n.requiresObservable);else{var d=Nx(n),m=!1;u=new Ct(o,function(){m||(m=!0,d(function(){m=!1,u.isDisposed||u.track(l)}))},n.onError,n.requiresObservable)}function l(){e(u)}return(r=n)!=null&&(r=r.signal)!=null&&r.aborted||u.schedule_(),u.getDisposer_((a=n)==null?void 0:a.signal)}var Tx=function(n){return n()};function Nx(e){return e.scheduler?e.scheduler:e.delay?function(n){return setTimeout(n,e.delay)}:Tx}var Ix="onBO",Px="onBUO";function Mx(e,n,t){return Il(Ix,e,n,t)}function Nl(e,n,t){return Il(Px,e,n,t)}function Il(e,n,t,i){var r=typeof i=="function"?Dt(n,t):Dt(n),a=Ie(i)?i:t,o=e+"L";return r[o]?r[o].add(a):r[o]=new Set([a]),function(){var s=r[o];s&&(s.delete(a),s.size===0&&delete r[o])}}function Cx(e,n,t,i){process.env.NODE_ENV!=="production"&&(arguments.length>4&&G("'extendObservable' expected 2-4 arguments"),typeof e!="object"&&G("'extendObservable' expects an object as first argument"),ct(e)&&G("'extendObservable' should not be used on maps, use map.merge instead"),Jn(n)||G("'extendObservable' only accepts plain objects as second argument"),(Ra(n)||Ra(t))&&G("Extending an object with another observable (object) is not supported"));var r=x6(n);return Cr(function(){var a=Za(e,i)[ie];Om(r).forEach(function(o){a.extend_(o,r[o],t&&o in t?t[o]:!0)})}),e}function Dx(e,n){return Pl(Dt(e,n))}function Pl(e){var n={name:e.name_};return e.observing_&&e.observing_.length>0&&(n.dependencies=jx(e.observing_).map(Pl)),n}function jx(e){return Array.from(new Set(e))}var Fx=0;function Ml(){this.message="FLOW_CANCELLED"}Ml.prototype=Object.create(Error.prototype);var cm=ml("flow"),Bx=ml("flow.bound",{bound:!0}),Nr=Object.assign(function(n,t){if(Ka(t))return cm.decorate_20223_(n,t);if(Ni(t))return Ua(n,t,cm);process.env.NODE_ENV!=="production"&&arguments.length!==1&&G("Flow expects single argument with generator function");var i=n,r=i.name||"<unnamed flow>",a=function(){var s=this,u=arguments,d=++Fx,m=Or(r+" - runid: "+d+" - init",i).apply(s,u),l,c=void 0,h=new Promise(function(p,f){var y=0;l=f;function g(E){c=void 0;var S;try{S=Or(r+" - runid: "+d+" - yield "+y++,m.next).call(m,E)}catch(w){return f(w)}v(S)}function k(E){c=void 0;var S;try{S=Or(r+" - runid: "+d+" - yield "+y++,m.throw).call(m,E)}catch(w){return f(w)}v(S)}function v(E){if(Ie(E?.then)){E.then(v,f);return}return E.done?p(E.value):(c=Promise.resolve(E.value),c.then(g,k))}g(void 0)});return h.cancel=Or(r+" - runid: "+d+" - cancel",function(){try{c&&U0(c);var p=m.return(void 0),f=Promise.resolve(p.value);f.then(Sr,Sr),U0(f),l(new Ml)}catch(y){l(y)}}),h};return a.isMobXFlow=!0,a},cm);Nr.bound=Yn(Bx);function U0(e){Ie(e.cancel)&&e.cancel()}function za(e){return e?.isMobXFlow===!0}function qx(e,n){return e?n!==void 0?process.env.NODE_ENV!=="production"&&(ct(e)||Wa(e))?G("isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead."):Ir(e)?e[ie].values_.has(n):!1:Ir(e)||!!e[ie]||Tm(e)||Go(e)||ts(e):!1}function Ra(e){return process.env.NODE_ENV!=="production"&&arguments.length!==1&&G("isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"),qx(e)}function Lx(){if(process.env.NODE_ENV!=="production"){for(var e=!1,n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];typeof t[t.length-1]=="boolean"&&(e=t.pop());var r=zx(t);if(!r)return G("'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");r.isTracing_===vn.NONE&&console.log("[mobx.trace] '"+r.name_+"' tracing enabled"),r.isTracing_=e?vn.BREAK:vn.LOG}}function zx(e){switch(e.length){case 0:return j.trackingDerivation;case 1:return Dt(e[0]);case 2:return Dt(e[0],e[1])}}function mt(e,n){n===void 0&&(n=void 0),hn();try{return e.apply(n)}finally{gn()}}function Oi(e){return e[ie]}var Rx={has:function(n,t){return process.env.NODE_ENV!=="production"&&j.trackingDerivation&&Ba("detect new properties using the 'in' operator. Use 'has' from 'mobx' instead."),Oi(n).has_(t)},get:function(n,t){return Oi(n).get_(t)},set:function(n,t,i){var r;return Ni(t)?(process.env.NODE_ENV!=="production"&&!Oi(n).values_.has(t)&&Ba("add a new observable property through direct assignment. Use 'set' from 'mobx' instead."),(r=Oi(n).set_(t,i,!0))!=null?r:!0):!1},deleteProperty:function(n,t){var i;return process.env.NODE_ENV!=="production"&&Ba("delete properties from an observable object. Use 'remove' from 'mobx' instead."),Ni(t)?(i=Oi(n).delete_(t,!0))!=null?i:!0:!1},defineProperty:function(n,t,i){var r;return process.env.NODE_ENV!=="production"&&Ba("define property on an observable object. Use 'defineProperty' from 'mobx' instead."),(r=Oi(n).defineProperty_(t,i))!=null?r:!0},ownKeys:function(n){return process.env.NODE_ENV!=="production"&&j.trackingDerivation&&Ba("iterate keys to detect added / removed properties. Use 'keys' from 'mobx' instead."),Oi(n).ownKeys_()},preventExtensions:function(n){G(13)}};function Ux(e,n){var t,i;return tl(),e=Za(e,n),(i=(t=e[ie]).proxy_)!=null?i:t.proxy_=new Proxy(e,Rx)}function fn(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function Ha(e,n){var t=e.interceptors_||(e.interceptors_=[]);return t.push(n),Sm(function(){var i=t.indexOf(n);i!==-1&&t.splice(i,1)})}function pn(e,n){var t=Di();try{for(var i=[].concat(e.interceptors_||[]),r=0,a=i.length;r<a&&(n=i[r](n),n&&!n.type&&G(14),!!n);r++);return n}finally{lt(t)}}function Cn(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function Ga(e,n){var t=e.changeListeners_||(e.changeListeners_=[]);return t.push(n),Sm(function(){var i=t.indexOf(n);i!==-1&&t.splice(i,1)})}function Dn(e,n){var t=Di(),i=e.changeListeners_;if(i){i=i.slice();for(var r=0,a=i.length;r<a;r++)i[r](n);lt(t)}}var K0="splice",Pn="update",Kx=1e4,Vx={get:function(n,t){var i=n[ie];return t===ie?i:t==="length"?i.getArrayLength_():typeof t=="string"&&!isNaN(t)?i.get_(parseInt(t)):Mn(Wo,t)?Wo[t]:n[t]},set:function(n,t,i){var r=n[ie];return t==="length"&&r.setArrayLength_(i),typeof t=="symbol"||isNaN(t)?n[t]=i:r.set_(parseInt(t),i),!0},preventExtensions:function(){G(15)}},Dm=function(){function e(t,i,r,a){t===void 0&&(t=process.env.NODE_ENV!=="production"?"ObservableArray@"+jn():"ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=a,this.atom_=new jt(t),this.enhancer_=function(o,s){return i(o,s,process.env.NODE_ENV!=="production"?t+"[..]":"ObservableArray[..]")}}var n=e.prototype;return n.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.dehanceValues_=function(i){return this.dehancer!==void 0&&i.length>0?i.map(this.dehancer):i},n.intercept_=function(i){return Ha(this,i)},n.observe_=function(i,r){return r===void 0&&(r=!1),r&&i({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Ga(this,i)},n.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},n.setArrayLength_=function(i){(typeof i!="number"||isNaN(i)||i<0)&&G("Out of range: "+i);var r=this.values_.length;if(i!==r)if(i>r){for(var a=new Array(i-r),o=0;o<i-r;o++)a[o]=void 0;this.spliceWithArray_(r,0,a)}else this.spliceWithArray_(i,r-i)},n.updateArrayLength_=function(i,r){i!==this.lastKnownLength_&&G(16),this.lastKnownLength_+=r,this.legacyMode_&&r>0&&ql(i+r+1)},n.spliceWithArray_=function(i,r,a){var o=this;$n(this.atom_);var s=this.values_.length;if(i===void 0?i=0:i>s?i=s:i<0&&(i=Math.max(0,s+i)),arguments.length===1?r=s-i:r==null?r=0:r=Math.max(0,Math.min(r,s-i)),a===void 0&&(a=Ro),fn(this)){var u=pn(this,{object:this.proxy_,type:K0,index:i,removedCount:r,added:a});if(!u)return Ro;r=u.removedCount,a=u.added}if(a=a.length===0?a:a.map(function(l){return o.enhancer_(l,void 0)}),this.legacyMode_||process.env.NODE_ENV!=="production"){var d=a.length-r;this.updateArrayLength_(s,d)}var m=this.spliceItemsIntoValues_(i,r,a);return(r!==0||a.length!==0)&&this.notifyArraySplice_(i,a,m),this.dehanceValues_(m)},n.spliceItemsIntoValues_=function(i,r,a){if(a.length<Kx){var o;return(o=this.values_).splice.apply(o,[i,r].concat(a))}else{var s=this.values_.slice(i,i+r),u=this.values_.slice(i+r);this.values_.length+=a.length-r;for(var d=0;d<a.length;d++)this.values_[i+d]=a[d];for(var m=0;m<u.length;m++)this.values_[i+a.length+m]=u[m];return s}},n.notifyArrayChildUpdate_=function(i,r,a){var o=!this.owned_&&je(),s=Cn(this),u=s||o?{observableKind:"array",object:this.proxy_,type:Pn,debugObjectName:this.atom_.name_,index:i,newValue:r,oldValue:a}:null;process.env.NODE_ENV!=="production"&&o&&on(u),this.atom_.reportChanged(),s&&Dn(this,u),process.env.NODE_ENV!=="production"&&o&&sn()},n.notifyArraySplice_=function(i,r,a){var o=!this.owned_&&je(),s=Cn(this),u=s||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:K0,index:i,removed:a,added:r,removedCount:a.length,addedCount:r.length}:null;process.env.NODE_ENV!=="production"&&o&&on(u),this.atom_.reportChanged(),s&&Dn(this,u),process.env.NODE_ENV!=="production"&&o&&sn()},n.get_=function(i){if(this.legacyMode_&&i>=this.values_.length){console.warn(process.env.NODE_ENV!=="production"?"[mobx.array] Attempt to read an array index ("+i+") that is out of bounds ("+this.values_.length+"). Please check length first. Out of bound indices will not be tracked by MobX":"[mobx] Out of bounds read: "+i);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[i])},n.set_=function(i,r){var a=this.values_;if(this.legacyMode_&&i>a.length&&G(17,i,a.length),i<a.length){$n(this.atom_);var o=a[i];if(fn(this)){var s=pn(this,{type:Pn,object:this.proxy_,index:i,newValue:r});if(!s)return;r=s.newValue}r=this.enhancer_(r,o);var u=r!==o;u&&(a[i]=r,this.notifyArrayChildUpdate_(i,r,o))}else{for(var d=new Array(i+1-a.length),m=0;m<d.length-1;m++)d[m]=void 0;d[d.length-1]=r,this.spliceWithArray_(a.length,0,d)}},e}();function Hx(e,n,t,i){return t===void 0&&(t=process.env.NODE_ENV!=="production"?"ObservableArray@"+jn():"ObservableArray"),i===void 0&&(i=!1),tl(),Cr(function(){var r=new Dm(t,n,i,!1);rl(r.values_,ie,r);var a=new Proxy(r.values_,Vx);return r.proxy_=a,e&&e.length&&r.spliceWithArray_(0,0,e),a})}var Wo={clear:function(){return this.splice(0)},replace:function(n){var t=this[ie];return t.spliceWithArray_(0,t.values_.length,n)},toJSON:function(){return this.slice()},splice:function(n,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];var o=this[ie];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(n);case 2:return o.spliceWithArray_(n,t)}return o.spliceWithArray_(n,t,r)},spliceWithArray:function(n,t,i){return this[ie].spliceWithArray_(n,t,i)},push:function(){for(var n=this[ie],t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return n.spliceWithArray_(n.values_.length,0,i),n.values_.length},pop:function(){return this.splice(Math.max(this[ie].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var n=this[ie],t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return n.spliceWithArray_(0,0,i),n.values_.length},reverse:function(){return j.trackingDerivation&&G(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){j.trackingDerivation&&G(37,"sort");var n=this.slice();return n.sort.apply(n,arguments),this.replace(n),this},remove:function(n){var t=this[ie],i=t.dehanceValues_(t.values_).indexOf(n);return i>-1?(this.splice(i,1),!0):!1}};be("at",un);be("concat",un);be("flat",un);be("includes",un);be("indexOf",un);be("join",un);be("lastIndexOf",un);be("slice",un);be("toString",un);be("toLocaleString",un);be("toSorted",un);be("toSpliced",un);be("with",un);be("every",Fn);be("filter",Fn);be("find",Fn);be("findIndex",Fn);be("findLast",Fn);be("findLastIndex",Fn);be("flatMap",Fn);be("forEach",Fn);be("map",Fn);be("some",Fn);be("toReversed",Fn);be("reduce",Cl);be("reduceRight",Cl);function be(e,n){typeof Array.prototype[e]=="function"&&(Wo[e]=n(e))}function un(e){return function(){var n=this[ie];n.atom_.reportObserved();var t=n.dehanceValues_(n.values_);return t[e].apply(t,arguments)}}function Fn(e){return function(n,t){var i=this,r=this[ie];r.atom_.reportObserved();var a=r.dehanceValues_(r.values_);return a[e](function(o,s){return n.call(t,o,s,i)})}}function Cl(e){return function(){var n=this,t=this[ie];t.atom_.reportObserved();var i=t.dehanceValues_(t.values_),r=arguments[0];return arguments[0]=function(a,o,s){return r(a,o,s,n)},i[e].apply(i,arguments)}}var Gx=Ci("ObservableArrayAdministration",Dm);function Wa(e){return Yo(e)&&Gx(e[ie])}var Wx={},Pt="add",Zo="delete",Dl=function(){function e(t,i,r){var a=this;i===void 0&&(i=Ii),r===void 0&&(r=process.env.NODE_ENV!=="production"?"ObservableMap@"+jn():"ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[ie]=Wx,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=i,this.name_=r,Ie(Map)||G(18),Cr(function(){a.keysAtom_=ul(process.env.NODE_ENV!=="production"?a.name_+".keys()":"ObservableMap.keys()"),a.data_=new Map,a.hasMap_=new Map,t&&a.merge(t)})}var n=e.prototype;return n.has_=function(i){return this.data_.has(i)},n.has=function(i){var r=this;if(!j.trackingDerivation)return this.has_(i);var a=this.hasMap_.get(i);if(!a){var o=a=new Ti(this.has_(i),Xo,process.env.NODE_ENV!=="production"?this.name_+"."+xm(i)+"?":"ObservableMap.key?",!1);this.hasMap_.set(i,o),Nl(o,function(){return r.hasMap_.delete(i)})}return a.get()},n.set=function(i,r){var a=this.has_(i);if(fn(this)){var o=pn(this,{type:a?Pn:Pt,object:this,newValue:r,name:i});if(!o)return this;r=o.newValue}return a?this.updateValue_(i,r):this.addValue_(i,r),this},n.delete=function(i){var r=this;if($n(this.keysAtom_),fn(this)){var a=pn(this,{type:Zo,object:this,name:i});if(!a)return!1}if(this.has_(i)){var o=je(),s=Cn(this),u=s||o?{observableKind:"map",debugObjectName:this.name_,type:Zo,object:this,oldValue:this.data_.get(i).value_,name:i}:null;return process.env.NODE_ENV!=="production"&&o&&on(u),mt(function(){var d;r.keysAtom_.reportChanged(),(d=r.hasMap_.get(i))==null||d.setNewValue_(!1);var m=r.data_.get(i);m.setNewValue_(void 0),r.data_.delete(i)}),s&&Dn(this,u),process.env.NODE_ENV!=="production"&&o&&sn(),!0}return!1},n.updateValue_=function(i,r){var a=this.data_.get(i);if(r=a.prepareNewValue_(r),r!==j.UNCHANGED){var o=je(),s=Cn(this),u=s||o?{observableKind:"map",debugObjectName:this.name_,type:Pn,object:this,oldValue:a.value_,name:i,newValue:r}:null;process.env.NODE_ENV!=="production"&&o&&on(u),a.setNewValue_(r),s&&Dn(this,u),process.env.NODE_ENV!=="production"&&o&&sn()}},n.addValue_=function(i,r){var a=this;$n(this.keysAtom_),mt(function(){var d,m=new Ti(r,a.enhancer_,process.env.NODE_ENV!=="production"?a.name_+"."+xm(i):"ObservableMap.key",!1);a.data_.set(i,m),r=m.value_,(d=a.hasMap_.get(i))==null||d.setNewValue_(!0),a.keysAtom_.reportChanged()});var o=je(),s=Cn(this),u=s||o?{observableKind:"map",debugObjectName:this.name_,type:Pt,object:this,name:i,newValue:r}:null;process.env.NODE_ENV!=="production"&&o&&on(u),s&&Dn(this,u),process.env.NODE_ENV!=="production"&&o&&sn()},n.get=function(i){return this.has(i)?this.dehanceValue_(this.data_.get(i).get()):this.dehanceValue_(void 0)},n.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},n.values=function(){var i=this,r=this.keys();return V0({next:function(){var o=r.next(),s=o.done,u=o.value;return{done:s,value:s?void 0:i.get(u)}}})},n.entries=function(){var i=this,r=this.keys();return V0({next:function(){var o=r.next(),s=o.done,u=o.value;return{done:s,value:s?void 0:[u,i.get(u)]}}})},n[Symbol.iterator]=function(){return this.entries()},n.forEach=function(i,r){for(var a=Ar(this),o;!(o=a()).done;){var s=o.value,u=s[0],d=s[1];i.call(r,d,u,this)}},n.merge=function(i){var r=this;return ct(i)&&(i=new Map(i)),mt(function(){Jn(i)?y6(i).forEach(function(a){return r.set(a,i[a])}):Array.isArray(i)?i.forEach(function(a){var o=a[0],s=a[1];return r.set(o,s)}):Pr(i)?(c6(i)||G(19,i),i.forEach(function(a,o){return r.set(o,a)})):i!=null&&G(20,i)}),this},n.clear=function(){var i=this;mt(function(){gl(function(){for(var r=Ar(i.keys()),a;!(a=r()).done;){var o=a.value;i.delete(o)}})})},n.replace=function(i){var r=this;return mt(function(){for(var a=Zx(i),o=new Map,s=!1,u=Ar(r.data_.keys()),d;!(d=u()).done;){var m=d.value;if(!a.has(m)){var l=r.delete(m);if(l)s=!0;else{var c=r.data_.get(m);o.set(m,c)}}}for(var h=Ar(a.entries()),p;!(p=h()).done;){var f=p.value,y=f[0],g=f[1],k=r.data_.has(y);if(r.set(y,g),r.data_.has(y)){var v=r.data_.get(y);o.set(y,v),k||(s=!0)}}if(!s)if(r.data_.size!==o.size)r.keysAtom_.reportChanged();else for(var E=r.data_.keys(),S=o.keys(),w=E.next(),O=S.next();!w.done;){if(w.value!==O.value){r.keysAtom_.reportChanged();break}w=E.next(),O=S.next()}r.data_=o}),this},n.toString=function(){return"[object ObservableMap]"},n.toJSON=function(){return Array.from(this)},n.observe_=function(i,r){return process.env.NODE_ENV!=="production"&&r===!0&&G("`observe` doesn't support fireImmediately=true in combination with maps."),Ga(this,i)},n.intercept_=function(i){return Ha(this,i)},Mr(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),ct=Ci("ObservableMap",Dl);function V0(e){return e[Symbol.toStringTag]="MapIterator",qm(e)}function Zx(e){if(Pr(e)||ct(e))return e;if(Array.isArray(e))return new Map(e);if(Jn(e)){var n=new Map;for(var t in e)n.set(t,e[t]);return n}else return G(21,e)}var $x={},jl=function(){function e(t,i,r){var a=this;i===void 0&&(i=Ii),r===void 0&&(r=process.env.NODE_ENV!=="production"?"ObservableSet@"+jn():"ObservableSet"),this.name_=void 0,this[ie]=$x,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,Ie(Set)||G(22),this.enhancer_=function(o,s){return i(o,s,r)},Cr(function(){a.atom_=ul(a.name_),t&&a.replace(t)})}var n=e.prototype;return n.dehanceValue_=function(i){return this.dehancer!==void 0?this.dehancer(i):i},n.clear=function(){var i=this;mt(function(){gl(function(){for(var r=Ar(i.data_.values()),a;!(a=r()).done;){var o=a.value;i.delete(o)}})})},n.forEach=function(i,r){for(var a=Ar(this),o;!(o=a()).done;){var s=o.value;i.call(r,s,s,this)}},n.add=function(i){var r=this;if($n(this.atom_),fn(this)){var a=pn(this,{type:Pt,object:this,newValue:i});if(!a)return this}if(!this.has(i)){mt(function(){r.data_.add(r.enhancer_(i,void 0)),r.atom_.reportChanged()});var o=process.env.NODE_ENV!=="production"&&je(),s=Cn(this),u=s||o?{observableKind:"set",debugObjectName:this.name_,type:Pt,object:this,newValue:i}:null;o&&process.env.NODE_ENV!=="production"&&on(u),s&&Dn(this,u),o&&process.env.NODE_ENV!=="production"&&sn()}return this},n.delete=function(i){var r=this;if(fn(this)){var a=pn(this,{type:Zo,object:this,oldValue:i});if(!a)return!1}if(this.has(i)){var o=process.env.NODE_ENV!=="production"&&je(),s=Cn(this),u=s||o?{observableKind:"set",debugObjectName:this.name_,type:Zo,object:this,oldValue:i}:null;return o&&process.env.NODE_ENV!=="production"&&on(u),mt(function(){r.atom_.reportChanged(),r.data_.delete(i)}),s&&Dn(this,u),o&&process.env.NODE_ENV!=="production"&&sn(),!0}return!1},n.has=function(i){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(i))},n.entries=function(){var i=0,r=Array.from(this.keys()),a=Array.from(this.values());return H0({next:function(){var s=i;return i+=1,s<a.length?{value:[r[s],a[s]],done:!1}:{value:void 0,done:!0}}})},n.keys=function(){return this.values()},n.values=function(){this.atom_.reportObserved();var i=this,r=0,a=Array.from(this.data_.values());return H0({next:function(){return r<a.length?{value:i.dehanceValue_(a[r++]),done:!1}:{value:void 0,done:!0}}})},n.intersection=function(i){if(ut(i)&&!Zn(i))return i.intersection(this);var r=new Set(this);return r.intersection(i)},n.union=function(i){if(ut(i)&&!Zn(i))return i.union(this);var r=new Set(this);return r.union(i)},n.difference=function(i){return new Set(this).difference(i)},n.symmetricDifference=function(i){if(ut(i)&&!Zn(i))return i.symmetricDifference(this);var r=new Set(this);return r.symmetricDifference(i)},n.isSubsetOf=function(i){return new Set(this).isSubsetOf(i)},n.isSupersetOf=function(i){return new Set(this).isSupersetOf(i)},n.isDisjointFrom=function(i){if(ut(i)&&!Zn(i))return i.isDisjointFrom(this);var r=new Set(this);return r.isDisjointFrom(i)},n.replace=function(i){var r=this;return Zn(i)&&(i=new Set(i)),mt(function(){Array.isArray(i)?(r.clear(),i.forEach(function(a){return r.add(a)})):ut(i)?(r.clear(),i.forEach(function(a){return r.add(a)})):i!=null&&G("Cannot initialize set from "+i)}),this},n.observe_=function(i,r){return process.env.NODE_ENV!=="production"&&r===!0&&G("`observe` doesn't support fireImmediately=true in combination with sets."),Ga(this,i)},n.intercept_=function(i){return Ha(this,i)},n.toJSON=function(){return Array.from(this)},n.toString=function(){return"[object ObservableSet]"},n[Symbol.iterator]=function(){return this.values()},Mr(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),Zn=Ci("ObservableSet",jl);function H0(e){return e[Symbol.toStringTag]="SetIterator",qm(e)}var G0=Object.create(null),W0="remove",Em=function(){function e(t,i,r,a){i===void 0&&(i=new Map),a===void 0&&(a=K6),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=i,this.name_=r,this.defaultAnnotation_=a,this.keysAtom_=new jt(process.env.NODE_ENV!=="production"?this.name_+".keys":"ObservableObject.keys"),this.isPlainObject_=Jn(this.target_),process.env.NODE_ENV!=="production"&&!Ll(this.defaultAnnotation_)&&G("defaultAnnotation must be valid annotation"),process.env.NODE_ENV!=="production"&&(this.appliedAnnotations_={})}var n=e.prototype;return n.getObservablePropValue_=function(i){return this.values_.get(i).get()},n.setObservablePropValue_=function(i,r){var a=this.values_.get(i);if(a instanceof bn)return a.set(r),!0;if(fn(this)){var o=pn(this,{type:Pn,object:this.proxy_||this.target_,name:i,newValue:r});if(!o)return null;r=o.newValue}if(r=a.prepareNewValue_(r),r!==j.UNCHANGED){var s=Cn(this),u=process.env.NODE_ENV!=="production"&&je(),d=s||u?{type:Pn,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:a.value_,name:i,newValue:r}:null;process.env.NODE_ENV!=="production"&&u&&on(d),a.setNewValue_(r),s&&Dn(this,d),process.env.NODE_ENV!=="production"&&u&&sn()}return!0},n.get_=function(i){return j.trackingDerivation&&!Mn(this.target_,i)&&this.has_(i),this.target_[i]},n.set_=function(i,r,a){return a===void 0&&(a=!1),Mn(this.target_,i)?this.values_.has(i)?this.setObservablePropValue_(i,r):a?Reflect.set(this.target_,i,r):(this.target_[i]=r,!0):this.extend_(i,{value:r,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,a)},n.has_=function(i){if(!j.trackingDerivation)return i in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var r=this.pendingKeys_.get(i);return r||(r=new Ti(i in this.target_,Xo,process.env.NODE_ENV!=="production"?this.name_+"."+xm(i)+"?":"ObservableObject.key?",!1),this.pendingKeys_.set(i,r)),r.get()},n.make_=function(i,r){if(r===!0&&(r=this.defaultAnnotation_),r!==!1){if(Q0(this,r,i),!(i in this.target_)){var a;if((a=this.target_[dt])!=null&&a[i])return;G(1,r.annotationType_,this.name_+"."+i.toString())}for(var o=this.target_;o&&o!==Qo;){var s=zo(o,i);if(s){var u=r.make_(this,i,s,o);if(u===0)return;if(u===1)break}o=Object.getPrototypeOf(o)}$0(this,r,i)}},n.extend_=function(i,r,a,o){if(o===void 0&&(o=!1),a===!0&&(a=this.defaultAnnotation_),a===!1)return this.defineProperty_(i,r,o);Q0(this,a,i);var s=a.extend_(this,i,r,o);return s&&$0(this,a,i),s},n.defineProperty_=function(i,r,a){a===void 0&&(a=!1),$n(this.keysAtom_);try{hn();var o=this.delete_(i);if(!o)return o;if(fn(this)){var s=pn(this,{object:this.proxy_||this.target_,name:i,type:Pt,newValue:r.value});if(!s)return null;var u=s.newValue;r.value!==u&&(r=Mt({},r,{value:u}))}if(a){if(!Reflect.defineProperty(this.target_,i,r))return!1}else Qn(this.target_,i,r);this.notifyPropertyAddition_(i,r.value)}finally{gn()}return!0},n.defineObservableProperty_=function(i,r,a,o){o===void 0&&(o=!1),$n(this.keysAtom_);try{hn();var s=this.delete_(i);if(!s)return s;if(fn(this)){var u=pn(this,{object:this.proxy_||this.target_,name:i,type:Pt,newValue:r});if(!u)return null;r=u.newValue}var d=Z0(i),m={configurable:j.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:d.get,set:d.set};if(o){if(!Reflect.defineProperty(this.target_,i,m))return!1}else Qn(this.target_,i,m);var l=new Ti(r,a,process.env.NODE_ENV!=="production"?this.name_+"."+i.toString():"ObservableObject.key",!1);this.values_.set(i,l),this.notifyPropertyAddition_(i,l.value_)}finally{gn()}return!0},n.defineComputedProperty_=function(i,r,a){a===void 0&&(a=!1),$n(this.keysAtom_);try{hn();var o=this.delete_(i);if(!o)return o;if(fn(this)){var s=pn(this,{object:this.proxy_||this.target_,name:i,type:Pt,newValue:void 0});if(!s)return null}r.name||(r.name=process.env.NODE_ENV!=="production"?this.name_+"."+i.toString():"ObservableObject.key"),r.context=this.proxy_||this.target_;var u=Z0(i),d={configurable:j.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:u.get,set:u.set};if(a){if(!Reflect.defineProperty(this.target_,i,d))return!1}else Qn(this.target_,i,d);this.values_.set(i,new bn(r)),this.notifyPropertyAddition_(i,void 0)}finally{gn()}return!0},n.delete_=function(i,r){if(r===void 0&&(r=!1),$n(this.keysAtom_),!Mn(this.target_,i))return!0;if(fn(this)){var a=pn(this,{object:this.proxy_||this.target_,name:i,type:W0});if(!a)return null}try{var o;hn();var s=Cn(this),u=process.env.NODE_ENV!=="production"&&je(),d=this.values_.get(i),m=void 0;if(!d&&(s||u)){var l;m=(l=zo(this.target_,i))==null?void 0:l.value}if(r){if(!Reflect.deleteProperty(this.target_,i))return!1}else delete this.target_[i];if(process.env.NODE_ENV!=="production"&&delete this.appliedAnnotations_[i],d&&(this.values_.delete(i),d instanceof Ti&&(m=d.value_),_l(d)),this.keysAtom_.reportChanged(),(o=this.pendingKeys_)==null||(o=o.get(i))==null||o.set(i in this.target_),s||u){var c={type:W0,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:m,name:i};process.env.NODE_ENV!=="production"&&u&&on(c),s&&Dn(this,c),process.env.NODE_ENV!=="production"&&u&&sn()}}finally{gn()}return!0},n.observe_=function(i,r){return process.env.NODE_ENV!=="production"&&r===!0&&G("`observe` doesn't support the fire immediately property for observable objects."),Ga(this,i)},n.intercept_=function(i){return Ha(this,i)},n.notifyPropertyAddition_=function(i,r){var a,o=Cn(this),s=process.env.NODE_ENV!=="production"&&je();if(o||s){var u=o||s?{type:Pt,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:i,newValue:r}:null;process.env.NODE_ENV!=="production"&&s&&on(u),o&&Dn(this,u),process.env.NODE_ENV!=="production"&&s&&sn()}(a=this.pendingKeys_)==null||(a=a.get(i))==null||a.set(!0),this.keysAtom_.reportChanged()},n.ownKeys_=function(){return this.keysAtom_.reportObserved(),Om(this.target_)},n.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Za(e,n){var t;if(process.env.NODE_ENV!=="production"&&n&&Ir(e)&&G("Options can't be provided for already observable objects."),Mn(e,ie))return process.env.NODE_ENV!=="production"&&!(Fm(e)instanceof Em)&&G("Cannot convert '"+$o(e)+`' into observable object:
The target is already observable of different type.
Extending builtins is not supported.`),e;process.env.NODE_ENV!=="production"&&!Object.isExtensible(e)&&G("Cannot make the designated object observable; it is not extensible");var i=(t=n?.name)!=null?t:process.env.NODE_ENV!=="production"?(Jn(e)?"ObservableObject":e.constructor.name)+"@"+jn():"ObservableObject",r=new Em(e,new Map,String(i),ex(n));return Am(e,ie,r),e}var Qx=Ci("ObservableObjectAdministration",Em);function Z0(e){return G0[e]||(G0[e]={get:function(){return this[ie].getObservablePropValue_(e)},set:function(t){return this[ie].setObservablePropValue_(e,t)}})}function Ir(e){return Yo(e)?Qx(e[ie]):!1}function $0(e,n,t){var i;process.env.NODE_ENV!=="production"&&(e.appliedAnnotations_[t]=n),(i=e.target_[dt])==null||delete i[t]}function Q0(e,n,t){if(process.env.NODE_ENV!=="production"&&!Ll(n)&&G("Cannot annotate '"+e.name_+"."+t.toString()+"': Invalid annotation."),process.env.NODE_ENV!=="production"&&!Ko(n)&&Mn(e.appliedAnnotations_,t)){var i=e.name_+"."+t.toString(),r=e.appliedAnnotations_[t].annotationType_,a=n.annotationType_;G("Cannot apply '"+a+"' to '"+i+"':"+(`
The field is already annotated with '`+r+"'.")+`
Re-annotating fields is not allowed.
Use 'override' annotation for methods overridden by subclass.`)}}var Yx=Bl(0),Jx=function(){var e=!1,n={};return Object.defineProperty(n,"0",{set:function(){e=!0}}),Object.create(n)[0]=1,e===!1}(),ym=0,Fl=function(){};function Xx(e,n){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,n):e.prototype.__proto__!==void 0?e.prototype.__proto__=n:e.prototype=n}Xx(Fl,Array.prototype);var jm=function(e){function n(i,r,a,o){var s;return a===void 0&&(a=process.env.NODE_ENV!=="production"?"ObservableArray@"+jn():"ObservableArray"),o===void 0&&(o=!1),s=e.call(this)||this,Cr(function(){var u=new Dm(a,r,o,!0);u.proxy_=s,rl(s,ie,u),i&&i.length&&s.spliceWithArray(0,0,i),Jx&&Object.defineProperty(s,"0",Yx)}),s}sl(n,e);var t=n.prototype;return t.concat=function(){this[ie].atom_.reportObserved();for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return Array.prototype.concat.apply(this.slice(),a.map(function(s){return Wa(s)?s.slice():s}))},t[Symbol.iterator]=function(){var i=this,r=0;return qm({next:function(){return r<i.length?{value:i[r++],done:!1}:{done:!0,value:void 0}}})},Mr(n,[{key:"length",get:function(){return this[ie].getArrayLength_()},set:function(r){this[ie].setArrayLength_(r)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(Fl);Object.entries(Wo).forEach(function(e){var n=e[0],t=e[1];n!=="concat"&&Am(jm.prototype,n,t)});function Bl(e){return{enumerable:!1,configurable:!0,get:function(){return this[ie].get_(e)},set:function(t){this[ie].set_(e,t)}}}function ef(e){Qn(jm.prototype,""+e,Bl(e))}function ql(e){if(e>ym){for(var n=ym;n<e+100;n++)ef(n);ym=e}}ql(1e3);function nf(e,n,t){return new jm(e,n,t)}function Dt(e,n){if(typeof e=="object"&&e!==null){if(Wa(e))return n!==void 0&&G(23),e[ie].atom_;if(Zn(e))return e.atom_;if(ct(e)){if(n===void 0)return e.keysAtom_;var t=e.data_.get(n)||e.hasMap_.get(n);return t||G(25,n,$o(e)),t}if(Ir(e)){if(!n)return G(26);var i=e[ie].values_.get(n);return i||G(27,n,$o(e)),i}if(Tm(e)||ts(e)||Go(e))return e}else if(Ie(e)&&Go(e[ie]))return e[ie];G(28)}function Fm(e,n){if(e||G(29),n!==void 0)return Fm(Dt(e,n));if(Tm(e)||ts(e)||Go(e)||ct(e)||Zn(e))return e;if(e[ie])return e[ie];G(24,e)}function $o(e,n){var t;if(n!==void 0)t=Dt(e,n);else{if(Tr(e))return e.name;Ir(e)||ct(e)||Zn(e)?t=Fm(e):t=Dt(e)}return t.name_}function Cr(e){var n=Di(),t=Im(!0);hn();try{return e()}finally{gn(),Pm(t),lt(n)}}var Y0=Qo.toString;function Bm(e,n,t){return t===void 0&&(t=-1),_m(e,n,t)}function _m(e,n,t,i,r){if(e===n)return e!==0||1/e===1/n;if(e==null||n==null)return!1;if(e!==e)return n!==n;var a=typeof e;if(a!=="function"&&a!=="object"&&typeof n!="object")return!1;var o=Y0.call(e);if(o!==Y0.call(n))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:+e==0?1/+e===1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":t>=0&&t++;break}e=J0(e),n=J0(n);var s=o==="[object Array]";if(!s){if(typeof e!="object"||typeof n!="object")return!1;var u=e.constructor,d=n.constructor;if(u!==d&&!(Ie(u)&&u instanceof u&&Ie(d)&&d instanceof d)&&"constructor"in e&&"constructor"in n)return!1}if(t===0)return!1;t<0&&(t=-1),i=i||[],r=r||[];for(var m=i.length;m--;)if(i[m]===e)return r[m]===n;if(i.push(e),r.push(n),s){if(m=e.length,m!==n.length)return!1;for(;m--;)if(!_m(e[m],n[m],t-1,i,r))return!1}else{var l=Object.keys(e),c;if(m=l.length,Object.keys(n).length!==m)return!1;for(;m--;)if(c=l[m],!(Mn(n,c)&&_m(e[c],n[c],t-1,i,r)))return!1}return i.pop(),r.pop(),!0}function J0(e){return Wa(e)?e.slice():Pr(e)||ct(e)||ut(e)||Zn(e)?Array.from(e.entries()):e}var X0,tf=((X0=wm().Iterator)==null?void 0:X0.prototype)||{};function qm(e){return e[Symbol.iterator]=rf,Object.assign(Object.create(tf),e)}function rf(){return this}function Ll(e){return e instanceof Object&&typeof e.annotationType_=="string"&&Ie(e.make_)&&Ie(e.extend_)}["Symbol","Map","Set"].forEach(function(e){var n=wm();typeof n[e]>"u"&&G("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:kx,extras:{getDebugName:$o},$mobx:ie});var gM=jo(Rl(),1),_n=jo(ld(),1);function x3(){return(0,_n.pipe)((0,_n.filter)(e=>e!=null))}function vM(e){return{...e,[Symbol.iterator](){return this}}}function Y2(e,n){return vM({next(){let{done:t,value:i}=e.next();return{done:t,value:t?i:n(i)}}})}var OK=2**16-1,TK=2**15-1;function bM(e){if(e<2)throw new Error("Minimum size is 2");if(e>64)throw new Error("Maximum size is 64");let n=2**(e-1)-1,t=-n-1;return i=>{if(i=i<<0,i>n||i<t)throw console.log("value",i,n,t,i>n,i<t),new Error(`Int${e} overflow`);return i<0?2**e+i:i}}var NK=bM(32);var cd=jo(ld(),1),he=(e=>(e[e.Boolean=0]="Boolean",e[e.Number=1]="Number",e[e.OptionalNumber=2]="OptionalNumber",e[e.BigInt=3]="BigInt",e[e.OptionalBigInt=4]="OptionalBigInt",e[e.String=5]="String",e[e.OptionalString=6]="OptionalString",e[e.NumberArray=7]="NumberArray",e[e.OptionalNumberArray=8]="OptionalNumberArray",e[e.BigIntArray=9]="BigIntArray",e[e.OptionalBigIntArray=10]="OptionalBigIntArray",e[e.StringArray=11]="StringArray",e[e.OptionalStringArray=12]="OptionalStringArray",e[e.Entity=13]="Entity",e[e.OptionalEntity=14]="OptionalEntity",e[e.EntityArray=15]="EntityArray",e[e.OptionalEntityArray=16]="OptionalEntityArray",e[e.T=17]="T",e[e.OptionalT=18]="OptionalT",e[e.Schema=19]="Schema",e))(he||{}),f3=(e=>(e[e.Enter=0]="Enter",e[e.Exit=1]="Exit",e[e.Update=2]="Update",e[e.Noop=3]="Noop",e))(f3||{}),p3=[14,16,2,8,4,10,6,12,18];function Wi(e,n){return e.component===n}function h3(e,n){let t=_(n,e);return{entity:e,component:n,value:[t,void 0],type:t==null?3:0}}function g3(e){return(0,cd.pipe)((0,cd.map)(n=>h3(n,e)))}function v3(e){return"getEntitiesWithValue"in e}function b3(e,n){return Object.keys(e.schema).every(t=>t in n)}function kM(e){return e.metadata?.componentName??e.metadata?.tableName??e.metadata?.tableId??e.metadata?.contractId??e.id}function yd(e,n,t,i={}){let r=oi(n),a=_(e,n);for(let[o,s]of Object.entries(t))e.values[o]?e.values[o].set(r,s):e.metadata?.tableId&&/^\d+$/.test(o)||console.warn("Component definition for",kM(e),"is missing key",o,", ignoring value",s,"for entity",n,". Existing keys: ",Object.keys(e.values));i.skipUpdateStream||e.update$.next({entity:n,value:[t,a],component:e})}function k3(e,n,t={}){let i=oi(n),r=_(e,n);for(let a of Object.keys(e.values))e.values[a].delete(i);t.skipUpdateStream||e.update$.next({entity:n,value:[void 0,r],component:e})}function xd(e,n){let t=oi(n);return Object.values(e.values)[0].has(t)}function _(e,n){let t={},i=oi(n),r=Object.keys(e.schema);for(let a of r){let o=e.values[a].get(i);if(o===void 0&&!p3.includes(e.schema[a]))return;t[a]=o}return t}function fd(e,n){if(!e&&!n)return!0;if(!e||!n)return!1;let t=!0;for(let i of Object.keys(e))if(t=e[i]===n[i],!t)return!1;return t}function J2(e,n){if(v3(e)&&b3(e,n))return e.getEntitiesWithValue(n);let t=new Set;for(let i of X2(e)){let r=_(e,i);fd(n,r)&&t.add(i)}return t}function X2(e){return e.entities()}function oi(e){return Symbol.for(e)}function E3(e){return Symbol.keyFor(e)}var Ke=jo(ld(),1);var EM=(e=>(e[e.Has=0]="Has",e[e.HasValue=1]="HasValue",e[e.Not=2]="Not",e[e.NotValue=3]="NotValue",e[e.ProxyRead=4]="ProxyRead",e[e.ProxyExpand=5]="ProxyExpand",e))(EM||{});function $(e){return{type:0,component:e}}function n4(e){return{type:2,component:e}}function q(e,n){return{type:1,component:e,value:n}}function ht(e,n){return{type:3,component:e,value:n}}function lo(e,n){if(n.type===0)return xd(n.component,e);if(n.type===1)return fd(n.value,_(n.component,e));if(n.type===2)return!xd(n.component,e);if(n.type===3)return!fd(n.value,_(n.component,e));throw new Error("Unknown query fragment")}function _M(e){return e.type===0||e.type==1}function w3(e){return e.type===2||e.type==3}function wM(e){return e.type===5||e.type==4}function S3(e,n){return e&&_M(n)||!e&&w3(n)}function _3(e,n,t){let i=e,r=!1;for(let a=0;a<t.depth;a++){let o=_(t.component,i);if(!o)return null;let s=o.value;if(!s)return null;if(i=s,r=lo(i,n),S3(r,n))return r}return r}function e4(e,n,t){if(t===0)return new Set;let i=J2(n,{value:e});if(t===1)return i;let r=[...i].map(a=>[...e4(a,n,t-1)]).flat();return new Set([...i,...r])}function ee(e,n){let t=n?new Set([...n]):void 0,i,r;for(let a=0;a<e.length;a++){let o=e[a];if(wM(o))o.type===4&&(i=o),o.type===5&&(r=o);else if(t)for(let s of[...t]){let u=lo(s,o);if(i&&i.depth>0&&!S3(u,o)&&(u=_3(s,o,i)??u),u||t.delete(s),r&&r.depth>0){let d=e4(s,r.component,r.depth);for(let m of d)(lo(m,o)||i&&i.depth>0&&_3(m,o,i))&&t.add(m)}}else{if(w3(o))throw new Error("First EntityQueryFragment must be Has or HasValue");if(t=o.type===0?new Set([...X2(o.component)]):J2(o.component,o.value),r&&r.depth>0)for(let s of[...t])for(let u of e4(s,r.component,r.depth))t.add(u)}}return t??new Set}function A3(e,n){let t=n?.runOnInit||n?.initialSet?ee(e,n.initialSet):new Set,i=Ne(t),r=(0,Ke.from)(i).pipe(g3(e[0].component)),a=e.findIndex(s=>[5,4].includes(s.type))!==-1,o=(0,Ke.merge)(...e.map(s=>s.component.update$)).pipe(a?(0,Ke.concatMap)(s=>{let u=ee(e,n?.initialSet),d=[];for(let m of i)u.has(m)||(i.delete(m),d.push({entity:m,type:1,component:s.component,value:[void 0,void 0]}));for(let m of u)i.has(m)?d.push({entity:m,type:2,component:s.component,value:[_(s.component,m),void 0]}):(i.add(m),d.push({entity:m,type:0,component:s.component,value:[_(s.component,m),void 0]}));return(0,Ke.of)(...d)}):(0,Ke.map)(s=>{if(i.has(s.entity))return e.filter(u=>u.component.id===s.component.id).every(u=>lo(s.entity,u))?{...s,type:2}:(i.delete(s.entity),{...s,type:1});if(e.every(u=>lo(s.entity,u)))return i.add(s.entity),{...s,type:0}}),x3());return{matching:i,update$:(0,Ke.concat)(r,o).pipe((0,Ke.share)())}}function O3(){let e=new Set,n=[],t=[];function i({id:m,idSuffix:l}={}){let c=m||e.size+(l?"-"+l:""),h=oi(c);return e.add(h),c}function r(){return Y2(e.values(),E3)}function a(m){n.push(m)}function o(m){for(let[,l]of t.filter(c=>!m||c[0]===m))l();t=t.filter(l=>m&&l[0]!==m)}function s(m,l=""){t.push([l,m])}function u(m){let l=oi(m);return e.has(l)}function d(m){for(let l of n)xd(l,m)&&k3(l,m);e.delete(oi(m))}return{registerEntity:i,components:n,registerComponent:a,dispose:o,registerDisposer:s,hasEntity:u,getEntities:r,entitySymbols:e,deleteEntity:d}}function pd(e,n){return Object.keys(e).reduce((t,i)=>{let r=e[i],a=n[i];if(a==null)return t[i]=a,t;if(a.type==="enum")if(a.type_name&&a.type_name.includes("Option")){if(a.value.option==="None")return t[i]=null,t;r=SM(r),a=a.value.value}else return t[i]=a.value.option,t;switch(r){case he.StringArray:t[i]=AM(a);break;case he.String:t[i]=a.value;break;case he.BigInt:t[i]=OM(a.value);break;case he.Boolean:t[i]=a.value;break;case he.Number:t[i]=Number(a.value);break;default:t[i]=TM(r,a);break}return t},{})}function SM(e){switch(e){case he.OptionalNumber:return he.Number;case he.OptionalBigInt:return he.BigInt;case he.OptionalString:return he.String;case he.OptionalNumberArray:return he.NumberArray;case he.OptionalBigIntArray:return he.BigIntArray;case he.OptionalStringArray:return he.StringArray;case he.OptionalEntity:return he.Entity;case he.OptionalEntityArray:return he.EntityArray;case he.OptionalT:return he.T;default:return e}}function AM(e){return e.type==="array"&&e.value.length===0?[]:e.type==="array"&&e.value[0]?.type==="enum"?e.value.map(n=>n.value.option):e.value.map(n=>{try{return BigInt(n.value)}catch{return n.value}})}function OM(e){if(typeof e=="bigint")return e;try{return BigInt(e)}catch{console.warn(`Failed to convert ${e} to BigInt. Attempting hexadecimal conversion.`);try{return BigInt(`0x${e}`)}catch{return console.warn(`Failed to convert 0x${e} to BigInt. Using string value instead.`),e}}}function TM(e,n){if(typeof e=="object"&&n.type==="struct")if(n.value instanceof Map){let t=Object.fromEntries(n.value);return pd(e,t)}else return typeof n.value=="object"?pd(e,n.value):(console.warn(`Expected value.value to be a Map or object for struct type, got ${typeof n.value}.`),n.value);return Array.isArray(e)&&n.type==="array"?n.value.map(t=>pd(e[0],t)):n.value}var co=async(e,n,t,i=[],r=[],a=100,o=!1,{dbConnection:s,timestampCacheKey:u}={dbConnection:void 0,timestampCacheKey:""})=>{o&&console.log("Starting getEntities");let d=0,m=!0,l=s?IM(u):0;for(;m;){let c=await e.getEntities({limit:a,offset:d,clause:n,order_by:i,entity_models:r,dont_include_hashed_keys:!1,internal_updated_at:l});s&&await PM(s,c),o&&console.log("Fetched entities",c),hd(c,t,o),Object.keys(c).length<a?m=!1:d+=a}if(s){let c=Math.floor(Date.now()/1e3);NM(c,u)}},t4=async(e,n,t=[],i=[],r=100,a,o=!1,s=!1,u)=>{o&&console.log("Starting getEvents");let d=0,m=!0;for(;m;){let l=await e.getEventMessages({limit:r,offset:d,clause:a,order_by:t,entity_models:i,dont_include_hashed_keys:!1,internal_updated_at:0},s);o&&console.log("entities",l),hd(l,n,o),Object.keys(l).length===0?m=!1:d+=r}u&&u()};var hd=async(e,n,t=!1)=>{if(Object.keys(e).length===0||Object.keys(e).length===1&&e["0x0"]&&Object.keys(e["0x0"]).length===0){console.warn("No entities to set");return}t&&console.log("Entities to set:",e);for(let i in e)if(Object.hasOwn(e,i))for(let r in e[i]){if(!Object.hasOwn(e[i],r))continue;let a=Object.values(n).find(o=>o.metadata?.namespace+"-"+o.metadata?.name===r);if(a)try{let o=e[i][r];t&&console.log(`Raw value for ${r} on ${i}:`,o);let s=pd(a.schema,o);t&&console.log(`Converted value for ${r} on ${i}:`,s),s||console.error(`convertValues returned undefined or invalid for ${r} on ${i}`),yd(a,i,s),t&&console.log(`Set component ${a.metadata?.name} on ${i}`)}catch(o){console.warn(`Failed to set component ${a.metadata?.name} on ${i}`,o)}else t&&console.warn(`Component ${r} not found in provided components.`)}},NM=(e,n)=>{let t=Math.floor(e).toString();localStorage.setItem(n,t)},IM=e=>Number(localStorage.getItem(e)||0);async function PM(e,n){return new Promise((t,i)=>{let r=e.transaction(["entities"],"readwrite"),a=r.objectStore("entities"),o=0,s=null;r.oncomplete=()=>{s?i(s):t()},r.onerror=()=>{i(r.error)};for(let[u,d]of Object.entries(n)){let m={id:u,...d},l=a.put(m);o++,l.onerror=()=>{s=l.error}}})}import{debounce as uB}from"lodash";import{BUILDINGS_CENTER as T3,BuildingType as MM}from"@bibliothecadao/eternum";var N3=e=>({previewBuilding:null,setPreviewBuilding:n=>{e({previewBuilding:n})},existingBuildings:[{col:T3[0],row:T3[1],type:MM.Castle}],setExistingBuildings:n=>e({existingBuildings:n})});var I3=(e,n)=>({openedPopups:[],openPopup:t=>e(i=>({openedPopups:[...i.openedPopups,t]})),closePopup:t=>e(i=>({openedPopups:i.openedPopups.filter(r=>r!==t)})),closeAllPopups:()=>e({openedPopups:[]}),isPopupOpen:t=>n().openedPopups.includes(t),togglePopup:t=>{let i=n().isPopupOpen(t);e(i?r=>({openedPopups:r.openedPopups.filter(a=>a!==t)}):r=>({openedPopups:[...r.openedPopups,t]}))},openAllPopups:t=>{e({openedPopups:[...n().openedPopups,...t]})}});import{BuildingType as CM}from"@bibliothecadao/eternum";var P3=(e,n)=>({navigationTarget:null,setNavigationTarget:t=>e({navigationTarget:t}),armyActions:{hoveredHex:null,travelPaths:new Map,selectedEntityId:null},setArmyActions:t=>e({armyActions:t}),updateHoveredHex:t=>e(i=>({armyActions:{...i.armyActions,hoveredHex:t}})),updateTravelPaths:t=>e(i=>({armyActions:{...i.armyActions,travelPaths:t}})),updateSelectedEntityId:t=>e(i=>({armyActions:{...i.armyActions,selectedEntityId:t}})),selectedHex:{col:0,row:0},setSelectedHex:t=>e({selectedHex:t}),hoveredArmyEntityId:null,setHoveredArmyEntityId:t=>e({hoveredArmyEntityId:t}),hoveredStructure:null,setHoveredStructure:t=>e({hoveredStructure:t}),hoveredBattle:null,setHoveredBattle:t=>e({hoveredBattle:t}),selectedBuilding:CM.Farm,setSelectedBuilding:t=>e({selectedBuilding:t}),selectedBuildingEntityId:null,setSelectedBuildingEntityId:t=>e({selectedBuildingEntityId:t}),selectedBuildingHex:{outerCol:0,outerRow:0,innerCol:0,innerRow:0},setSelectedBuildingHex:({outerCol:t,outerRow:i,innerCol:r,innerRow:a})=>e({selectedBuildingHex:{outerCol:t,outerRow:i,innerCol:r,innerRow:a}})});var M3=e=>({nextBlockTimestamp:void 0,setNextBlockTimestamp:n=>e({nextBlockTimestamp:n}),currentDefaultTick:0,setCurrentDefaultTick:n=>e({currentDefaultTick:n}),currentArmiesTick:0,setCurrentArmiesTick:n=>e({currentArmiesTick:n})});var C3=e=>({structureEntityId:Fa,setStructureEntityId:n=>e({structureEntityId:n})});var i4=(c=>(c.SelectedStructure="selectedStructure",c.Market="market",c.PlayerStructuresOneKey="playerStructuresOneKey",c.PlayerStructuresTwoKey="playerStructuresTwoKey",c.DonkeysAndArmies="donkeysAndArmies",c.Map="map",c.Bank="bank",c.World="world",c.Hyperstructure="hyperstructure",c.SingleKey="singleKey",c.Config="config",c.Events="events",c))(i4||{}),D3=e=>({loadingStates:{selectedStructure:!1,market:!1,playerStructuresOneKey:!1,playerStructuresTwoKey:!1,donkeysAndArmies:!1,map:!1,bank:!1,world:!1,hyperstructure:!1,singleKey:!1,config:!1,events:!1},setLoading:(n,t)=>e(i=>({loadingStates:{...i.loadingStates,[n]:t}}))});import{configManager as j3,TickIds as F3}from"@bibliothecadao/eternum";import{useEffect as DM,useTransition as jM}from"react";var pV=()=>{let[e,n]=jM();DM(()=>{let t=j3.getTick(F3.Armies),i=j3.getTick(F3.Default),r=async()=>{let o=Math.floor(Date.now()/1e3);o&&n(()=>{z.setState({nextBlockTimestamp:o,currentDefaultTick:Math.floor(o/Number(i)),currentArmiesTick:Math.floor(o/Number(t))})})};r();let a=setInterval(r,1e4);return()=>{clearInterval(a)}},[])};import{create as q3}from"zustand";import{subscribeWithSelector as L3}from"zustand/middleware";import{FELT_CENTER as ga}from"@bibliothecadao/eternum";var gd=class{x;y;normalized;constructor({x:n,y:t}){this.x=n,this.y=t;let r=1e6/2;this.normalized=Math.abs(n-ga)>r||Math.abs(t-ga)>r}getContract(){return{x:this.normalized?this.x+ga:this.x,y:this.normalized?this.y+ga:this.y}}getNormalized(){return{x:this.normalized?this.x:this.x-ga,y:this.normalized?this.y:this.y-ga}}toMapLocationUrl(){let n=this.getNormalized();return`/map?col=${n.x}&row=${n.y}`}toHexLocationUrl(){let n=this.getNormalized();return`/hex?col=${n.x}&row=${n.y}`}};var Gn=(t=>(t[t.None=0]="None",t[t.ResourceTable=1]="ResourceTable",t))(Gn||{}),Wn=(s=>(s[s.None=0]="None",s[s.MilitaryView=1]="MilitaryView",s[s.EntityView=2]="EntityView",s[s.ConstructionView=3]="ConstructionView",s[s.WorldStructuresView=4]="WorldStructuresView",s[s.ResourceArrivals=5]="ResourceArrivals",s[s.ResourceTable=6]="ResourceTable",s))(Wn||{});import{useEffect as FM}from"react";import BM from"use-sound";var va=[{name:"Day Break",url:"/sound/music/DayBreak.mp3"},{name:"Morning Ember",url:"/sound/music/MorningEmber.mp3"},{name:"Beyond The Horizon",url:"/sound/music/BeyondTheHorizon.mp3"},{name:"Celestial Shores",url:"/sound/music/CelestialShores.mp3"},{name:"Frostfall",url:"/sound/music/Frostfall.mp3"},{name:"Nomads Ballad",url:"/sound/music/NomadsBallad.mp3"},{name:"Rain Pool",url:"/sound/music/RainPool.mp3"},{name:"Shadow Song",url:"/sound/music/ShadowSong.mp3"},{name:"Shining Realms",url:"/sound/music/ShiningRealms.mp3"},{name:"Strangers Arrival",url:"/sound/music/StrangersArrival.mp3"},{name:"Twilight Harvest",url:"/sound/music/TwilightHarvest.mp3"},{name:"Wanderers Chronicle",url:"/sound/music/WanderersChronicle.mp3"},{name:"Happy Realm",url:"/sound/music/happy_realm.mp3"}],jV=()=>{let e=z(c=>c.isPlaying),n=z(c=>c.setIsPlaying),t=z(c=>c.isSoundOn),i=z(c=>c.musicLevel),r=z(c=>c.trackIndex),a=z(c=>c.setTrackIndex),o=z(c=>c.trackName),s=z(c=>c.setTrackName),u=()=>{let c=(r+1)%va.length;a(c),s(va[c].name)},d=async()=>{l(),u()},[m,{stop:l}]=BM(va[r].url,{onplay:()=>n(!0),onstop:()=>n(!1),volume:i/100,onend:()=>{n(!1),u()}});return FM(()=>(t?m():l(),()=>l()),[r,m,l,t]),{play:m,stop:l,trackName:o,next:d,isPlaying:e}};var B3=Math.floor(Math.random()*va.length);console.log("Zustand create:",q3);console.log("Zustand subscribeWithSelector:",L3);var z=q3(L3((e,n)=>({theme:"light",setTheme:t=>e({theme:t}),showBlurOverlay:!1,setShowBlurOverlay:t=>e({showBlurOverlay:t}),showBlankOverlay:!0,setShowBlankOverlay:t=>e({showBlankOverlay:t}),isSideMenuOpened:!0,toggleSideMenu:()=>e(t=>({isSideMenuOpened:!t.isSideMenuOpened})),isSoundOn:localStorage.getItem("soundEnabled")?localStorage.getItem("soundEnabled")==="true":!0,trackName:va[B3].name,setTrackName:t=>e({trackName:t}),trackIndex:B3,setTrackIndex:t=>e({trackIndex:t}),toggleSound:()=>e(t=>(localStorage.setItem("soundEnabled",String(!t.isSoundOn)),{isSoundOn:!t.isSoundOn})),isPlaying:!1,setIsPlaying:t=>e({isPlaying:t}),musicLevel:localStorage.getItem("musicLevel")?parseInt(localStorage.getItem("musicLevel")):50,setMusicLevel:t=>{e({musicLevel:t}),localStorage.setItem("musicLevel",t.toString())},effectsLevel:localStorage.getItem("effectsLevel")?parseInt(localStorage.getItem("effectsLevel")):50,setEffectsLevel:t=>{e({effectsLevel:t}),localStorage.setItem("effectsLevel",t.toString())},compassDirection:0,setCompassDirection:t=>e({compassDirection:t}),tooltip:null,setTooltip:t=>e({tooltip:t}),showRealmsFlags:!0,setShowRealmsFlags:t=>e({showRealmsFlags:t}),isLoadingScreenEnabled:!0,setIsLoadingScreenEnabled:t=>e({isLoadingScreenEnabled:t}),modalContent:null,toggleModal:t=>e({modalContent:t,showModal:!n().showModal}),showModal:!1,battleView:null,setBattleView:t=>e({battleView:t}),leftNavigationView:0,setLeftNavigationView:t=>e({leftNavigationView:t}),rightNavigationView:0,setRightNavigationView:t=>e({rightNavigationView:t}),showMinimap:!1,setShowMinimap:t=>e({showMinimap:t}),selectedPlayer:null,setSelectedPlayer:t=>e({selectedPlayer:t}),isSpectatorMode:!1,setSpectatorMode:t=>e({isSpectatorMode:t}),hasAcceptedToS:localStorage.getItem("hasAcceptedToS")?localStorage.getItem("hasAcceptedToS")==="true":!1,setHasAcceptedToS:t=>{e({hasAcceptedToS:t}),localStorage.setItem("hasAcceptedToS",String(t))},showToS:!1,setShowToS:t=>e({showToS:t}),...I3(e,n),...P3(e,n),...N3(e),...C3(e),...M3(e),...D3(e)})));import{create as qM}from"zustand";var oH=qM(e=>({account:null,setAccount:n=>e({account:n}),connector:null,setConnector:n=>e({connector:n})}));import{create as LM}from"zustand";var dH=LM(e=>({loading:!1,addressName:void 0,setAddressName:n=>e({addressName:n}),setLoading:n=>e({loading:n})}));import{LeaderboardManager as eD}from"@bibliothecadao/eternum";import{useCallback as nD}from"react";import{create as tD}from"zustand";import{createContext as zM,useContext as RM}from"react";var UM=zM(null),L=()=>{let e=RM(UM);if(!e)throw new Error("The `useDojo` hook must be used within a `DojoProvider`");return{setup:e,account:e.account,network:e.network,masterAccount:e.masterAccount}};import{ContractAddress as ka,formatTime as v5,toHexString as $C}from"@bibliothecadao/eternum";import{useEntityQuery as qd}from"@dojoengine/react";function KM(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function VM(e,...n){if(!KM(e))throw new Error("Expected Uint8Array");if(n.length>0&&!n.includes(e.length))throw new Error(`Expected Uint8Array of length ${n}, not of length=${e.length}`)}function r4(e,n=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(n&&e.finished)throw new Error("Hash#digest() has already been called")}function z3(e,n){VM(e);let t=n.outputLen;if(e.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}function HM(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}var bd=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),zn=(e,n)=>e<<32-n|e>>>n,GM=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!GM)throw new Error("Non little-endian hardware is not supported");function a4(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function o4(e){if(typeof e=="string"&&(e=a4(e)),!HM(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}var vd=class{clone(){return this._cloneInto()}},pH={}.toString;function R3(e){let n=i=>e().update(o4(i)).digest(),t=e();return n.outputLen=t.outputLen,n.blockLen=t.blockLen,n.create=()=>e(),n}function WM(e,n,t,i){if(typeof e.setBigUint64=="function")return e.setBigUint64(n,t,i);let r=BigInt(32),a=BigInt(4294967295),o=Number(t>>r&a),s=Number(t&a),u=i?4:0,d=i?0:4;e.setUint32(n+u,o,i),e.setUint32(n+d,s,i)}var kd=class extends vd{constructor(n,t,i,r){super(),this.blockLen=n,this.outputLen=t,this.padOffset=i,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(n),this.view=bd(this.buffer)}update(n){r4(this);let{view:t,buffer:i,blockLen:r}=this;n=o4(n);let a=n.length;for(let o=0;o<a;){let s=Math.min(r-this.pos,a-o);if(s===r){let u=bd(n);for(;r<=a-o;o+=r)this.process(u,o);continue}i.set(n.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=n.length,this.roundClean(),this}digestInto(n){r4(this),z3(n,this),this.finished=!0;let{buffer:t,view:i,blockLen:r,isLE:a}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(i,0),o=0);for(let l=o;l<r;l++)t[l]=0;WM(i,r-8,BigInt(this.length*8),a),this.process(i,0);let s=bd(n),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=u/4,m=this.get();if(d>m.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<d;l++)s.setUint32(4*l,m[l],a)}digest(){let{buffer:n,outputLen:t}=this;this.digestInto(n);let i=n.slice(0,t);return this.destroy(),i}_cloneInto(n){n||(n=new this.constructor),n.set(...this.get());let{blockLen:t,buffer:i,length:r,finished:a,destroyed:o,pos:s}=this;return n.length=r,n.pos=s,n.finished=a,n.destroyed=o,r%t&&n.buffer.set(i),n}};var ZM=(e,n,t)=>e&n^~e&t,$M=(e,n,t)=>e&n^e&t^n&t,QM=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),si=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ui=new Uint32Array(64),s4=class extends kd{constructor(){super(64,32,8,!1),this.A=si[0]|0,this.B=si[1]|0,this.C=si[2]|0,this.D=si[3]|0,this.E=si[4]|0,this.F=si[5]|0,this.G=si[6]|0,this.H=si[7]|0}get(){let{A:n,B:t,C:i,D:r,E:a,F:o,G:s,H:u}=this;return[n,t,i,r,a,o,s,u]}set(n,t,i,r,a,o,s,u){this.A=n|0,this.B=t|0,this.C=i|0,this.D=r|0,this.E=a|0,this.F=o|0,this.G=s|0,this.H=u|0}process(n,t){for(let l=0;l<16;l++,t+=4)ui[l]=n.getUint32(t,!1);for(let l=16;l<64;l++){let c=ui[l-15],h=ui[l-2],p=zn(c,7)^zn(c,18)^c>>>3,f=zn(h,17)^zn(h,19)^h>>>10;ui[l]=f+ui[l-7]+p+ui[l-16]|0}let{A:i,B:r,C:a,D:o,E:s,F:u,G:d,H:m}=this;for(let l=0;l<64;l++){let c=zn(s,6)^zn(s,11)^zn(s,25),h=m+c+ZM(s,u,d)+QM[l]+ui[l]|0,f=(zn(i,2)^zn(i,13)^zn(i,22))+$M(i,r,a)|0;m=d,d=u,u=s,s=o+h|0,o=a,a=r,r=i,i=h+f|0}i=i+this.A|0,r=r+this.B|0,a=a+this.C|0,o=o+this.D|0,s=s+this.E|0,u=u+this.F|0,d=d+this.G|0,m=m+this.H|0,this.set(i,r,a,o,s,u,d,m)}roundClean(){ui.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var u4=R3(()=>new s4);var Ad={};A0(Ad,{bitGet:()=>tC,bitLen:()=>nC,bitMask:()=>$i,bitSet:()=>iC,bytesToHex:()=>di,bytesToNumberBE:()=>wn,bytesToNumberLE:()=>Sd,concatBytes:()=>Zi,createHmacDrbg:()=>l4,ensureBytes:()=>Ve,equalBytes:()=>XM,hexToBytes:()=>gt,hexToNumber:()=>wd,numberToBytesBE:()=>mi,numberToBytesLE:()=>m4,numberToHexUnpadded:()=>V3,numberToVarBytesBE:()=>H3,utf8ToBytes:()=>eC,validateObject:()=>li});var K3=BigInt(0),Ed=BigInt(1),YM=BigInt(2),_d=e=>e instanceof Uint8Array,JM=Array.from({length:256},(e,n)=>n.toString(16).padStart(2,"0"));function di(e){if(!_d(e))throw new Error("Uint8Array expected");let n="";for(let t=0;t<e.length;t++)n+=JM[e[t]];return n}function V3(e){let n=e.toString(16);return n.length&1?`0${n}`:n}function wd(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function gt(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(e.length%2)throw new Error("hex string is invalid: unpadded "+e.length);let n=new Uint8Array(e.length/2);for(let t=0;t<n.length;t++){let i=t*2,r=e.slice(i,i+2),a=Number.parseInt(r,16);if(Number.isNaN(a)||a<0)throw new Error("invalid byte sequence");n[t]=a}return n}function wn(e){return wd(di(e))}function Sd(e){if(!_d(e))throw new Error("Uint8Array expected");return wd(di(Uint8Array.from(e).reverse()))}var mi=(e,n)=>gt(e.toString(16).padStart(n*2,"0")),m4=(e,n)=>mi(e,n).reverse(),H3=e=>gt(V3(e));function Ve(e,n,t){let i;if(typeof n=="string")try{i=gt(n)}catch(a){throw new Error(`${e} must be valid hex string, got "${n}". Cause: ${a}`)}else if(_d(n))i=Uint8Array.from(n);else throw new Error(`${e} must be hex string or Uint8Array`);let r=i.length;if(typeof t=="number"&&r!==t)throw new Error(`${e} expected ${t} bytes, got ${r}`);return i}function Zi(...e){let n=new Uint8Array(e.reduce((i,r)=>i+r.length,0)),t=0;return e.forEach(i=>{if(!_d(i))throw new Error("Uint8Array expected");n.set(i,t),t+=i.length}),n}function XM(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t]!==n[t])return!1;return!0}function eC(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function nC(e){let n;for(n=0;e>K3;e>>=Ed,n+=1);return n}var tC=(e,n)=>e>>BigInt(n)&Ed,iC=(e,n,t)=>e|(t?Ed:K3)<<BigInt(n),$i=e=>(YM<<BigInt(e-1))-Ed,d4=e=>new Uint8Array(e),U3=e=>Uint8Array.from(e);function l4(e,n,t){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof n!="number"||n<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let i=d4(e),r=d4(e),a=0,o=()=>{i.fill(1),r.fill(0),a=0},s=(...l)=>t(r,i,...l),u=(l=d4())=>{r=s(U3([0]),l),i=s(),l.length!==0&&(r=s(U3([1]),l),i=s())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let l=0,c=[];for(;l<n;){i=s();let h=i.slice();c.push(h),l+=i.length}return Zi(...c)};return(l,c)=>{o(),u(l);let h;for(;!(h=c(d()));)u();return o(),h}}var rC={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,n)=>n.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function li(e,n,t={}){let i=(r,a,o)=>{let s=rC[a];if(typeof s!="function")throw new Error(`Invalid validator "${a}", expected function`);let u=e[r];if(!(o&&u===void 0)&&!s(u,e))throw new Error(`Invalid param ${String(r)}=${u} (${typeof u}), expected ${a}`)};for(let[r,a]of Object.entries(n))i(r,a,!1);for(let[r,a]of Object.entries(t))i(r,a,!0);return e}var Me=BigInt(0),Ae=BigInt(1),Qi=BigInt(2),aC=BigInt(3),c4=BigInt(4),G3=BigInt(5),W3=BigInt(8),oC=BigInt(9),sC=BigInt(16);function He(e,n){let t=e%n;return t>=Me?t:n+t}function uC(e,n,t){if(t<=Me||n<Me)throw new Error("Expected power/modulo > 0");if(t===Ae)return Me;let i=Ae;for(;n>Me;)n&Ae&&(i=i*e%t),e=e*e%t,n>>=Ae;return i}function Od(e,n){if(e===Me||n<=Me)throw new Error(`invert: expected positive integers, got n=${e} mod=${n}`);let t=He(e,n),i=n,r=Me,a=Ae,o=Ae,s=Me;for(;t!==Me;){let d=i/t,m=i%t,l=r-o*d,c=a-s*d;i=t,t=m,r=o,a=s,o=l,s=c}if(i!==Ae)throw new Error("invert: does not exist");return He(r,n)}function dC(e){let n=(e-Ae)/Qi,t,i,r;for(t=e-Ae,i=0;t%Qi===Me;t/=Qi,i++);for(r=Qi;r<e&&uC(r,n,e)!==e-Ae;r++);if(i===1){let o=(e+Ae)/c4;return function(u,d){let m=u.pow(d,o);if(!u.eql(u.sqr(m),d))throw new Error("Cannot find square root");return m}}let a=(t+Ae)/Qi;return function(s,u){if(s.pow(u,n)===s.neg(s.ONE))throw new Error("Cannot find square root");let d=i,m=s.pow(s.mul(s.ONE,r),t),l=s.pow(u,a),c=s.pow(u,t);for(;!s.eql(c,s.ONE);){if(s.eql(c,s.ZERO))return s.ZERO;let h=1;for(let f=s.sqr(c);h<d&&!s.eql(f,s.ONE);h++)f=s.sqr(f);let p=s.pow(m,Ae<<BigInt(d-h-1));m=s.sqr(p),l=s.mul(l,p),c=s.mul(c,m),d=h}return l}}function mC(e){if(e%c4===aC){let n=(e+Ae)/c4;return function(i,r){let a=i.pow(r,n);if(!i.eql(i.sqr(a),r))throw new Error("Cannot find square root");return a}}if(e%W3===G3){let n=(e-G3)/W3;return function(i,r){let a=i.mul(r,Qi),o=i.pow(a,n),s=i.mul(r,o),u=i.mul(i.mul(s,Qi),o),d=i.mul(s,i.sub(u,i.ONE));if(!i.eql(i.sqr(d),r))throw new Error("Cannot find square root");return d}}return e%sC,dC(e)}var lC=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Yi(e){let n={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=lC.reduce((i,r)=>(i[r]="function",i),n);return li(e,t)}function y4(e,n,t){if(t<Me)throw new Error("Expected power > 0");if(t===Me)return e.ONE;if(t===Ae)return n;let i=e.ONE,r=n;for(;t>Me;)t&Ae&&(i=e.mul(i,r)),r=e.sqr(r),t>>=Ae;return i}function cC(e,n){let t=new Array(n.length),i=n.reduce((a,o,s)=>e.is0(o)?a:(t[s]=a,e.mul(a,o)),e.ONE),r=e.inv(i);return n.reduceRight((a,o,s)=>e.is0(o)?a:(t[s]=e.mul(a,t[s]),e.mul(a,o)),r),t}function Td(e,n){let t=n!==void 0?n:e.toString(2).length,i=Math.ceil(t/8);return{nBitLength:t,nByteLength:i}}function Nd(e,n,t=!1,i={}){if(e<=Me)throw new Error(`Expected Fp ORDER > 0, got ${e}`);let{nBitLength:r,nByteLength:a}=Td(e,n);if(a>2048)throw new Error("Field lengths over 2048 bytes are not supported");let o=mC(e),s=Object.freeze({ORDER:e,BITS:r,BYTES:a,MASK:$i(r),ZERO:Me,ONE:Ae,create:u=>He(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return Me<=u&&u<e},is0:u=>u===Me,isOdd:u=>(u&Ae)===Ae,neg:u=>He(-u,e),eql:(u,d)=>u===d,sqr:u=>He(u*u,e),add:(u,d)=>He(u+d,e),sub:(u,d)=>He(u-d,e),mul:(u,d)=>He(u*d,e),pow:(u,d)=>y4(s,u,d),div:(u,d)=>He(u*Od(d,e),e),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>Od(u,e),sqrt:i.sqrt||(u=>o(s,u)),invertBatch:u=>cC(s,u),cmov:(u,d,m)=>m?d:u,toBytes:u=>t?m4(u,a):mi(u,a),fromBytes:u=>{if(u.length!==a)throw new Error(`Fp.fromBytes: expected ${a}, got ${u.length}`);return t?Sd(u):wn(u)}});return Object.freeze(s)}function Z3(e,n,t=!1){e=Ve("privateHash",e);let i=e.length,r=Td(n).nByteLength+8;if(r<24||i<r||i>1024)throw new Error(`hashToPrivateScalar: expected ${r}-1024 bytes of input, got ${i}`);let a=t?Sd(e):wn(e);return He(a,n-Ae)+Ae}function xC(e){let{Fp:n}=e;Yi(n);for(let u of["t","roundsFull","roundsPartial"])if(typeof e[u]!="number"||!Number.isSafeInteger(e[u]))throw new Error(`Poseidon: invalid param ${u}=${e[u]} (${typeof e[u]})`);if(e.reversePartialPowIdx!==void 0&&typeof e.reversePartialPowIdx!="boolean")throw new Error(`Poseidon: invalid param reversePartialPowIdx=${e.reversePartialPowIdx}`);let t=e.sboxPower;if(t===void 0&&(t=5),typeof t!="number"||!Number.isSafeInteger(t))throw new Error(`Poseidon wrong sboxPower=${t}`);let i=BigInt(t),r=u=>y4(n,u,i);if(t===3?r=u=>n.mul(n.sqrN(u),u):t===5&&(r=u=>n.mul(n.sqrN(n.sqrN(u)),u)),e.roundsFull%2!==0)throw new Error(`Poseidon roundsFull is not even: ${e.roundsFull}`);let a=e.roundsFull+e.roundsPartial;if(!Array.isArray(e.roundConstants)||e.roundConstants.length!==a)throw new Error("Poseidon: wrong round constants");let o=e.roundConstants.map(u=>{if(!Array.isArray(u)||u.length!==e.t)throw new Error(`Poseidon wrong round constants: ${u}`);return u.map(d=>{if(typeof d!="bigint"||!n.isValid(d))throw new Error(`Poseidon wrong round constant=${d}`);return n.create(d)})});if(!Array.isArray(e.mds)||e.mds.length!==e.t)throw new Error("Poseidon: wrong MDS matrix");let s=e.mds.map(u=>{if(!Array.isArray(u)||u.length!==e.t)throw new Error(`Poseidon MDS matrix row: ${u}`);return u.map(d=>{if(typeof d!="bigint")throw new Error(`Poseidon MDS matrix value=${d}`);return n.create(d)})});return Object.freeze({...e,rounds:a,sboxFn:r,roundConstants:o,mds:s})}function $3(e){let{t:n,Fp:t,rounds:i,sboxFn:r,reversePartialPowIdx:a}=xC(e),o=Math.floor(e.roundsFull/2),s=a?n-1:0,u=(m,l,c)=>(m=m.map((h,p)=>t.add(h,e.roundConstants[c][p])),l?m=m.map(h=>r(h)):m[s]=r(m[s]),m=e.mds.map(h=>h.reduce((p,f,y)=>t.add(p,t.mulN(f,m[y])),t.ZERO)),m),d=function(l){if(!Array.isArray(l)||l.length!==n)throw new Error(`Poseidon: wrong values (expected array of bigints with length ${n})`);l=l.map(h=>{if(typeof h!="bigint")throw new Error(`Poseidon: wrong value=${h} (${typeof h})`);return t.create(h)});let c=0;for(let h=0;h<o;h++)l=u(l,!0,c++);for(let h=0;h<e.roundsPartial;h++)l=u(l,!1,c++);for(let h=0;h<o;h++)l=u(l,!0,c++);if(c!==i)throw new Error(`Poseidon: wrong number of rounds: last round=${c}, total=${i}`);return l};return d.roundConstants=e.roundConstants,d}var fC=BigInt(0),x4=BigInt(1);function Q3(e,n){let t=(r,a)=>{let o=a.negate();return r?o:a},i=r=>{let a=Math.ceil(n/r)+1,o=2**(r-1);return{windows:a,windowSize:o}};return{constTimeNegate:t,unsafeLadder(r,a){let o=e.ZERO,s=r;for(;a>fC;)a&x4&&(o=o.add(s)),s=s.double(),a>>=x4;return o},precomputeWindow(r,a){let{windows:o,windowSize:s}=i(a),u=[],d=r,m=d;for(let l=0;l<o;l++){m=d,u.push(m);for(let c=1;c<s;c++)m=m.add(d),u.push(m);d=m.double()}return u},wNAF(r,a,o){let{windows:s,windowSize:u}=i(r),d=e.ZERO,m=e.BASE,l=BigInt(2**r-1),c=2**r,h=BigInt(r);for(let p=0;p<s;p++){let f=p*u,y=Number(o&l);o>>=h,y>u&&(y-=c,o+=x4);let g=f,k=f+Math.abs(y)-1,v=p%2!==0,E=y<0;y===0?m=m.add(t(v,a[g])):d=d.add(t(E,a[k]))}return{p:d,f:m}},wNAFCached(r,a,o,s){let u=r._WINDOW_SIZE||1,d=a.get(r);return d||(d=this.precomputeWindow(r,u),u!==1&&a.set(r,s(d))),this.wNAF(u,d,o)}}}function f4(e){return Yi(e.Fp),li(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Td(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function pC(e){let n=f4(e);li(n,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:t,Fp:i,a:r}=n;if(t){if(!i.eql(r,i.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...n})}var{bytesToNumberBE:hC,hexToBytes:gC}=Ad,Ji={Err:class extends Error{constructor(n=""){super(n)}},_parseInt(e){let{Err:n}=Ji;if(e.length<2||e[0]!==2)throw new n("Invalid signature integer tag");let t=e[1],i=e.subarray(2,t+2);if(!t||i.length!==t)throw new n("Invalid signature integer: wrong length");if(i[0]&128)throw new n("Invalid signature integer: negative");if(i[0]===0&&!(i[1]&128))throw new n("Invalid signature integer: unnecessary leading zero");return{d:hC(i),l:e.subarray(t+2)}},toSig(e){let{Err:n}=Ji,t=typeof e=="string"?gC(e):e;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let i=t.length;if(i<2||t[0]!=48)throw new n("Invalid signature tag");if(t[1]!==i-2)throw new n("Invalid signature: incorrect length");let{d:r,l:a}=Ji._parseInt(t.subarray(2)),{d:o,l:s}=Ji._parseInt(a);if(s.length)throw new n("Invalid signature: left bytes after parsing");return{r,s:o}},hexFromSig(e){let n=d=>Number.parseInt(d[0],16)&8?"00"+d:d,t=d=>{let m=d.toString(16);return m.length&1?`0${m}`:m},i=n(t(e.s)),r=n(t(e.r)),a=i.length/2,o=r.length/2,s=t(a),u=t(o);return`30${t(o+a+4)}02${u}${r}02${s}${i}`}},vt=BigInt(0),Sn=BigInt(1),CH=BigInt(2),Y3=BigInt(3),DH=BigInt(4);function vC(e){let n=pC(e),{Fp:t}=n,i=n.toBytes||((p,f,y)=>{let g=f.toAffine();return Zi(Uint8Array.from([4]),t.toBytes(g.x),t.toBytes(g.y))}),r=n.fromBytes||(p=>{let f=p.subarray(1),y=t.fromBytes(f.subarray(0,t.BYTES)),g=t.fromBytes(f.subarray(t.BYTES,2*t.BYTES));return{x:y,y:g}});function a(p){let{a:f,b:y}=n,g=t.sqr(p),k=t.mul(g,p);return t.add(t.add(k,t.mul(p,f)),y)}if(!t.eql(t.sqr(n.Gy),a(n.Gx)))throw new Error("bad generator point: equation left != right");function o(p){return typeof p=="bigint"&&vt<p&&p<n.n}function s(p){if(!o(p))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function u(p){let{allowedPrivateKeyLengths:f,nByteLength:y,wrapPrivateKey:g,n:k}=n;if(f&&typeof p!="bigint"){if(p instanceof Uint8Array&&(p=di(p)),typeof p!="string"||!f.includes(p.length))throw new Error("Invalid key");p=p.padStart(y*2,"0")}let v;try{v=typeof p=="bigint"?p:wn(Ve("private key",p,y))}catch{throw new Error(`private key must be ${y} bytes, hex or bigint, not ${typeof p}`)}return g&&(v=He(v,k)),s(v),v}let d=new Map;function m(p){if(!(p instanceof l))throw new Error("ProjectivePoint expected")}class l{constructor(f,y,g){if(this.px=f,this.py=y,this.pz=g,f==null||!t.isValid(f))throw new Error("x required");if(y==null||!t.isValid(y))throw new Error("y required");if(g==null||!t.isValid(g))throw new Error("z required")}static fromAffine(f){let{x:y,y:g}=f||{};if(!f||!t.isValid(y)||!t.isValid(g))throw new Error("invalid affine point");if(f instanceof l)throw new Error("projective point not allowed");let k=v=>t.eql(v,t.ZERO);return k(y)&&k(g)?l.ZERO:new l(y,g,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){let y=t.invertBatch(f.map(g=>g.pz));return f.map((g,k)=>g.toAffine(y[k])).map(l.fromAffine)}static fromHex(f){let y=l.fromAffine(r(Ve("pointHex",f)));return y.assertValidity(),y}static fromPrivateKey(f){return l.BASE.multiply(u(f))}_setWindowSize(f){this._WINDOW_SIZE=f,d.delete(this)}assertValidity(){if(this.is0()){if(n.allowInfinityPoint)return;throw new Error("bad point: ZERO")}let{x:f,y}=this.toAffine();if(!t.isValid(f)||!t.isValid(y))throw new Error("bad point: x or y not FE");let g=t.sqr(y),k=a(f);if(!t.eql(g,k))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:f}=this.toAffine();if(t.isOdd)return!t.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){m(f);let{px:y,py:g,pz:k}=this,{px:v,py:E,pz:S}=f,w=t.eql(t.mul(y,S),t.mul(v,k)),O=t.eql(t.mul(g,S),t.mul(E,k));return w&&O}negate(){return new l(this.px,t.neg(this.py),this.pz)}double(){let{a:f,b:y}=n,g=t.mul(y,Y3),{px:k,py:v,pz:E}=this,S=t.ZERO,w=t.ZERO,O=t.ZERO,I=t.mul(k,k),D=t.mul(v,v),W=t.mul(E,E),R=t.mul(k,v);return R=t.add(R,R),O=t.mul(k,E),O=t.add(O,O),S=t.mul(f,O),w=t.mul(g,W),w=t.add(S,w),S=t.sub(D,w),w=t.add(D,w),w=t.mul(S,w),S=t.mul(R,S),O=t.mul(g,O),W=t.mul(f,W),R=t.sub(I,W),R=t.mul(f,R),R=t.add(R,O),O=t.add(I,I),I=t.add(O,I),I=t.add(I,W),I=t.mul(I,R),w=t.add(w,I),W=t.mul(v,E),W=t.add(W,W),I=t.mul(W,R),S=t.sub(S,I),O=t.mul(W,D),O=t.add(O,O),O=t.add(O,O),new l(S,w,O)}add(f){m(f);let{px:y,py:g,pz:k}=this,{px:v,py:E,pz:S}=f,w=t.ZERO,O=t.ZERO,I=t.ZERO,D=n.a,W=t.mul(n.b,Y3),R=t.mul(y,v),Q=t.mul(g,E),se=t.mul(k,S),F=t.add(y,g),A=t.add(v,E);F=t.mul(F,A),A=t.add(R,Q),F=t.sub(F,A),A=t.add(y,k);let T=t.add(v,S);return A=t.mul(A,T),T=t.add(R,se),A=t.sub(A,T),T=t.add(g,k),w=t.add(E,S),T=t.mul(T,w),w=t.add(Q,se),T=t.sub(T,w),I=t.mul(D,A),w=t.mul(W,se),I=t.add(w,I),w=t.sub(Q,I),I=t.add(Q,I),O=t.mul(w,I),Q=t.add(R,R),Q=t.add(Q,R),se=t.mul(D,se),A=t.mul(W,A),Q=t.add(Q,se),se=t.sub(R,se),se=t.mul(D,se),A=t.add(A,se),R=t.mul(Q,A),O=t.add(O,R),R=t.mul(T,A),w=t.mul(F,w),w=t.sub(w,R),R=t.mul(F,Q),I=t.mul(T,I),I=t.add(I,R),new l(w,O,I)}subtract(f){return this.add(f.negate())}is0(){return this.equals(l.ZERO)}wNAF(f){return h.wNAFCached(this,d,f,y=>{let g=t.invertBatch(y.map(k=>k.pz));return y.map((k,v)=>k.toAffine(g[v])).map(l.fromAffine)})}multiplyUnsafe(f){let y=l.ZERO;if(f===vt)return y;if(s(f),f===Sn)return this;let{endo:g}=n;if(!g)return h.unsafeLadder(this,f);let{k1neg:k,k1:v,k2neg:E,k2:S}=g.splitScalar(f),w=y,O=y,I=this;for(;v>vt||S>vt;)v&Sn&&(w=w.add(I)),S&Sn&&(O=O.add(I)),I=I.double(),v>>=Sn,S>>=Sn;return k&&(w=w.negate()),E&&(O=O.negate()),O=new l(t.mul(O.px,g.beta),O.py,O.pz),w.add(O)}multiply(f){s(f);let y=f,g,k,{endo:v}=n;if(v){let{k1neg:E,k1:S,k2neg:w,k2:O}=v.splitScalar(y),{p:I,f:D}=this.wNAF(S),{p:W,f:R}=this.wNAF(O);I=h.constTimeNegate(E,I),W=h.constTimeNegate(w,W),W=new l(t.mul(W.px,v.beta),W.py,W.pz),g=I.add(W),k=D.add(R)}else{let{p:E,f:S}=this.wNAF(y);g=E,k=S}return l.normalizeZ([g,k])[0]}multiplyAndAddUnsafe(f,y,g){let k=l.BASE,v=(S,w)=>w===vt||w===Sn||!S.equals(k)?S.multiplyUnsafe(w):S.multiply(w),E=v(this,y).add(v(f,g));return E.is0()?void 0:E}toAffine(f){let{px:y,py:g,pz:k}=this,v=this.is0();f==null&&(f=v?t.ONE:t.inv(k));let E=t.mul(y,f),S=t.mul(g,f),w=t.mul(k,f);if(v)return{x:t.ZERO,y:t.ZERO};if(!t.eql(w,t.ONE))throw new Error("invZ was invalid");return{x:E,y:S}}isTorsionFree(){let{h:f,isTorsionFree:y}=n;if(f===Sn)return!0;if(y)return y(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:f,clearCofactor:y}=n;return f===Sn?this:y?y(l,this):this.multiplyUnsafe(n.h)}toRawBytes(f=!0){return this.assertValidity(),i(l,this,f)}toHex(f=!0){return di(this.toRawBytes(f))}}l.BASE=new l(n.Gx,n.Gy,t.ONE),l.ZERO=new l(t.ZERO,t.ONE,t.ZERO);let c=n.nBitLength,h=Q3(l,n.endo?Math.ceil(c/2):c);return{CURVE:n,ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:a,isWithinCurveOrder:o}}function bC(e){let n=f4(e);return li(n,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...n})}function p4(e){let n=bC(e),{Fp:t,n:i}=n,r=t.BYTES+1,a=2*t.BYTES+1;function o(A){return vt<A&&A<t.ORDER}function s(A){return He(A,i)}function u(A){return Od(A,i)}let{ProjectivePoint:d,normPrivateKeyToScalar:m,weierstrassEquation:l,isWithinCurveOrder:c}=vC({...n,toBytes(A,T,B){let Z=T.toAffine(),X=t.toBytes(Z.x),ue=Zi;return B?ue(Uint8Array.from([T.hasEvenY()?2:3]),X):ue(Uint8Array.from([4]),X,t.toBytes(Z.y))},fromBytes(A){let T=A.length,B=A[0],Z=A.subarray(1);if(T===r&&(B===2||B===3)){let X=wn(Z);if(!o(X))throw new Error("Point is not on curve");let ue=l(X),me=t.sqrt(ue),ge=(me&Sn)===Sn;return(B&1)===1!==ge&&(me=t.neg(me)),{x:X,y:me}}else if(T===a&&B===4){let X=t.fromBytes(Z.subarray(0,t.BYTES)),ue=t.fromBytes(Z.subarray(t.BYTES,2*t.BYTES));return{x:X,y:ue}}else throw new Error(`Point of length ${T} was invalid. Expected ${r} compressed bytes or ${a} uncompressed bytes`)}}),h=A=>di(mi(A,n.nByteLength));function p(A){let T=i>>Sn;return A>T}function f(A){return p(A)?s(-A):A}let y=(A,T,B)=>wn(A.slice(T,B));class g{constructor(T,B,Z){this.r=T,this.s=B,this.recovery=Z,this.assertValidity()}static fromCompact(T){let B=n.nByteLength;return T=Ve("compactSignature",T,B*2),new g(y(T,0,B),y(T,B,2*B))}static fromDER(T){let{r:B,s:Z}=Ji.toSig(Ve("DER",T));return new g(B,Z)}assertValidity(){if(!c(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!c(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(T){return new g(this.r,this.s,T)}recoverPublicKey(T){let{r:B,s:Z,recovery:X}=this,ue=O(Ve("msgHash",T));if(X==null||![0,1,2,3].includes(X))throw new Error("recovery id invalid");let me=X===2||X===3?B+n.n:B;if(me>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");let ge=X&1?"03":"02",Se=d.fromHex(ge+h(me)),ve=u(me),We=s(-ue*ve),Re=s(Z*ve),nn=d.BASE.multiplyAndAddUnsafe(Se,We,Re);if(!nn)throw new Error("point at infinify");return nn.assertValidity(),nn}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return gt(this.toDERHex())}toDERHex(){return Ji.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return gt(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}let k={isValidPrivateKey(A){try{return m(A),!0}catch{return!1}},normPrivateKeyToScalar:m,randomPrivateKey:()=>{let A=n.randomBytes(t.BYTES+8),T=Z3(A,i);return mi(T,n.nByteLength)},precompute(A=8,T=d.BASE){return T._setWindowSize(A),T.multiply(BigInt(3)),T}};function v(A,T=!0){return d.fromPrivateKey(A).toRawBytes(T)}function E(A){let T=A instanceof Uint8Array,B=typeof A=="string",Z=(T||B)&&A.length;return T?Z===r||Z===a:B?Z===2*r||Z===2*a:A instanceof d}function S(A,T,B=!0){if(E(A))throw new Error("first arg must be private key");if(!E(T))throw new Error("second arg must be public key");return d.fromHex(T).multiply(m(A)).toRawBytes(B)}let w=n.bits2int||function(A){let T=wn(A),B=A.length*8-n.nBitLength;return B>0?T>>BigInt(B):T},O=n.bits2int_modN||function(A){return s(w(A))},I=$i(n.nBitLength);function D(A){if(typeof A!="bigint")throw new Error("bigint expected");if(!(vt<=A&&A<I))throw new Error(`bigint expected < 2^${n.nBitLength}`);return mi(A,n.nByteLength)}function W(A,T,B=R){if(["recovered","canonical"].some(Ue=>Ue in B))throw new Error("sign() legacy options not supported");let{hash:Z,randomBytes:X}=n,{lowS:ue,prehash:me,extraEntropy:ge}=B;ue==null&&(ue=!0),A=Ve("msgHash",A),me&&(A=Ve("prehashed msgHash",Z(A)));let Se=O(A),ve=m(T),We=[D(ve),D(Se)];if(ge!=null){let Ue=ge===!0?X(t.BYTES):ge;We.push(Ve("extraEntropy",Ue,t.BYTES))}let Re=Zi(...We),nn=Se;function yn(Ue){let In=w(Ue);if(!c(In))return;let st=u(In),Te=d.BASE.multiply(In).toAffine(),tn=s(Te.x);if(tn===vt)return;let xn=s(st*s(nn+tn*ve));if(xn===vt)return;let wr=(Te.x===tn?0:2)|Number(Te.y&Sn),um=xn;return ue&&p(xn)&&(um=f(xn),wr^=1),new g(tn,um,wr)}return{seed:Re,k2sig:yn}}let R={lowS:n.lowS,prehash:!1},Q={lowS:n.lowS,prehash:!1};function se(A,T,B=R){let{seed:Z,k2sig:X}=W(A,T,B);return l4(n.hash.outputLen,n.nByteLength,n.hmac)(Z,X)}d.BASE._setWindowSize(8);function F(A,T,B,Z=Q){let X=A;if(T=Ve("msgHash",T),B=Ve("publicKey",B),"strict"in Z)throw new Error("options.strict was renamed to lowS");let{lowS:ue,prehash:me}=Z,ge,Se;try{if(typeof X=="string"||X instanceof Uint8Array)try{ge=g.fromDER(X)}catch(Te){if(!(Te instanceof Ji.Err))throw Te;ge=g.fromCompact(X)}else if(typeof X=="object"&&typeof X.r=="bigint"&&typeof X.s=="bigint"){let{r:Te,s:tn}=X;ge=new g(Te,tn)}else throw new Error("PARSE");Se=d.fromHex(B)}catch(Te){if(Te.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ue&&ge.hasHighS())return!1;me&&(T=n.hash(T));let{r:ve,s:We}=ge,Re=O(T),nn=u(We),yn=s(Re*nn),Ue=s(ve*nn),In=d.BASE.multiplyAndAddUnsafe(Se,yn,Ue)?.toAffine();return In?s(In.x)===ve:!1}return{CURVE:n,getPublicKey:v,getSharedSecret:S,sign:se,verify:F,ProjectivePoint:d,Signature:g,utils:k}}function h4(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function kC(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function J3(e,...n){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(n.length>0&&!n.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${n}, not of length=${e.length}`)}function EC(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");h4(e.outputLen),h4(e.blockLen)}function _C(e,n=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(n&&e.finished)throw new Error("Hash#digest() has already been called")}function wC(e,n){J3(e);let t=n.outputLen;if(e.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}var SC={number:h4,bool:kC,bytes:J3,hash:EC,exists:_C,output:wC},yo=SC;import*as xo from"node:crypto";var Id=xo&&typeof xo=="object"&&"webcrypto"in xo?xo.webcrypto:void 0;var AC=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!AC)throw new Error("Non little-endian hardware is not supported");var LH=Array.from({length:256},(e,n)=>n.toString(16).padStart(2,"0"));function OC(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function X3(e){if(typeof e=="string"&&(e=OC(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}function e5(...e){if(!e.every(i=>i instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];let n=e.reduce((i,r)=>i+r.length,0),t=new Uint8Array(n);for(let i=0,r=0;i<e.length;i++){let a=e[i];t.set(a,r),r+=a.length}return t}var Pd=class{clone(){return this._cloneInto()}};function n5(e=32){if(Id&&typeof Id.getRandomValues=="function")return Id.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}var Md=class extends Pd{constructor(n,t){super(),this.finished=!1,this.destroyed=!1,yo.hash(n);let i=X3(t);if(this.iHash=n.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let r=this.blockLen,a=new Uint8Array(r);a.set(i.length>r?n.create().update(i).digest():i);for(let o=0;o<a.length;o++)a[o]^=54;this.iHash.update(a),this.oHash=n.create();for(let o=0;o<a.length;o++)a[o]^=106;this.oHash.update(a),a.fill(0)}update(n){return yo.exists(this),this.iHash.update(n),this}digestInto(n){yo.exists(this),yo.bytes(n,this.outputLen),this.finished=!0,this.iHash.digestInto(n),this.oHash.update(n),this.oHash.digestInto(n),this.destroy()}digest(){let n=new Uint8Array(this.oHash.outputLen);return this.digestInto(n),n}_cloneInto(n){n||(n=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:i,finished:r,destroyed:a,blockLen:o,outputLen:s}=this;return n=n,n.finished=r,n.destroyed=a,n.blockLen=o,n.outputLen=s,n.oHash=t._cloneInto(n.oHash),n.iHash=i._cloneInto(n.iHash),n}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},g4=(e,n,t)=>new Md(e,n).update(t).digest();g4.create=(e,n)=>new Md(e,n);function t5(e){return{hash:e,hmac:(n,...t)=>g4(e,n,e5(...t)),randomBytes:n5}}var i5=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583"),a5=252;function r5(e){for(;e[0]===0;)e=e.subarray(1);let n=e.length*8-a5,t=wn(e);return n>0?t>>BigInt(n):t}function TC(e){return typeof e=="string"&&(e=IC(e),e.length&1&&(e="0"+e)),gt(e)}var NC=p4({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:Nd(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:i5,nBitLength:a5,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1,...t5(u4),bits2int:r5,bits2int_modN:e=>{let n=wn(e).toString(16);return n.length===63&&(e=TC(n+"0")),He(r5(e),i5)}});var{CURVE:eG,ProjectivePoint:fo,Signature:nG,utils:tG}=NC;function IC(e){return e.replace(/^0x/i,"")}var iG=2n**31n-1n;var Cd=[new fo(2089986280348253421170679821480865132823066470938446095505822317253594081284n,1713931329540660377023406109199410414810705867260802078187082345529207694986n,1n),new fo(996781205833008774514500082376783249102396023663454813447423147977397232763n,1668503676786377725805489344771023921079126552019160156920634619255970485781n,1n),new fo(2251563274489750535117886426533222435294046428347329203627021249169616184184n,1798716007562728905295480679789526322175868328062420237419143593021674992973n,1n),new fo(2138414695194151160943305727036575959195309218611738193261179310511854807447n,113410276730064486255102093846540133784865286929052426931474106396135072156n,1n),new fo(2379962749567351885752724891227938183011949129833673362440656643086021394946n,776496453633298175483985398648758586525933812536653089401905292063708816422n,1n)];function o5(e,n){let t=[],i=e;for(let r=0;r<248;r++)t.push(i),i=i.double();i=n;for(let r=0;r<4;r++)t.push(i),i=i.double();return t}var rG=o5(Cd[1],Cd[2]),aG=o5(Cd[3],Cd[4]);var oG=$i(250);var sG=Nd(BigInt("14474011154664525231415395255581126252639794253786371766033694892385558855681")),PC=Nd(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481"));function MC(e,n,t){let i=e.fromBytes(u4(a4(`${n}${t}`)));return e.create(i)}var CC=[[3,1,1],[1,-1,1],[1,1,-2]].map(e=>e.map(BigInt));function DC(e,n){if(Yi(e.Fp),!Number.isSafeInteger(e.rate)||!Number.isSafeInteger(e.capacity))throw new Error(`Wrong poseidon opts: ${e}`);let t=e.rate+e.capacity,i=e.roundsFull+e.roundsPartial,r=[];for(let o=0;o<i;o++){let s=[];for(let u=0;u<t;u++)s.push(MC(e.Fp,"Hades",t*o+u));r.push(s)}let a=$3({...e,t,sboxPower:3,reversePartialPowIdx:!0,mds:n,roundConstants:r});return a.m=t,a.rate=e.rate,a.capacity=e.capacity,a}var jC=DC({Fp:PC,rate:2,capacity:1,roundsFull:8,roundsPartial:83},CC);function s5(e,n=jC){let{m:t,rate:i}=n;if(!Array.isArray(e))throw new Error("bigint array expected in values");let r=Array.from(e);for(r.push(1n);r.length%i!==0;)r.push(0n);let a=new Array(t).fill(0n);for(let o=0;o<r.length;o+=i){for(let s=0;s<i;s++)a[s]+=r[o+s];a=n(a)}return a[0]}import{byteArray as cG}from"starknet";function M(e){return"0x"+s5(e).toString(16)}import{useCallback as A4}from"react";import{shortString as QC}from"starknet";import{CAPACITY_CONFIG_CATEGORY_STRING_MAP as RC,ContractAddress as Fd,EntityType as y5,StructureType as An,divideByPrecision as UC,getRealmName as f5,getRealmNameById as KC}from"@bibliothecadao/eternum";import{useEntityQuery as x5}from"@dojoengine/react";import{useMemo as jd}from"react";import{shortString as E4}from"starknet";import{CapacityConfigCategory as m5,ResourceManager as bt,ResourcesIds as Dd,configManager as qC,resources as l5}from"@bibliothecadao/eternum";import{useComponentValue as b4}from"@dojoengine/react";import{useEffect as LC,useMemo as k4,useState as zC}from"react";import{configManager as u5,TickIds as d5}from"@bibliothecadao/eternum";import{startTransition as FC,useEffect as BC,useState as v4}from"react";var Rn=()=>{let[e,n]=v4(Math.floor(Date.now()/1e3)),[t,i]=v4(0),[r,a]=v4(0);return BC(()=>{let o=u5.getTick(d5.Armies),s=u5.getTick(d5.Default),u=()=>{let m=Math.floor(Date.now()/1e3),l=Math.floor(m/Number(s)),c=Math.floor(m/Number(o));FC(()=>{n(m),i(l),a(c)})};u();let d=setInterval(u,1e4);return()=>{clearInterval(d)}},[]),{nextBlockTimestamp:e,currentDefaultTick:t,currentArmiesTick:r}};function c5(){let{setup:e}=L(),{components:{Weight:n,Resource:t,ResourceCost:i,Realm:r,CapacityCategory:a}}=e,o=k4(()=>qC.getWeightLessResources(),[]);return{getRealmsWithSpecificResource:(l,c)=>{let h=Array.from(ee([$(r)])),p=z.getState().currentDefaultTick;return h.map(y=>{let g=_(r,y),k=g?new bt(e.components,g.entity_id,l):void 0,v=k?{balance:k.balance(p)}:void 0;if(v&&v.balance>c)return{realmEntityId:g?.entity_id,realmId:g?.realm_id,amount:Number(v.balance)}}).filter(Boolean)},getResourcesFromBalance:l=>{let c=z.getState().currentDefaultTick,h=_(n,M([BigInt(l)])),p=o.some(y=>(_(t,M([BigInt(l),BigInt(y)]))?.balance??0n)>0n);return!h?.value&&!p?[]:l5.map(y=>y.id).map(y=>{let k=new bt(e.components,l,y).balance(c);return{resourceId:y,amount:k}}).filter(y=>y.amount>0)},getResourceCosts:(l,c)=>{let h=[];for(let p=0;p<c;p++){let f=_(i,M([l,BigInt(p)]));f&&h.push({resourceId:f.resource_type,amount:Number(f.amount)})}return h},useResourcesFromBalance:l=>{let{currentDefaultTick:c}=Rn(),h=b4(n,M([BigInt(l)])),p=b4(a,M([BigInt(l)]));return k4(()=>!h?.value&&p?.category!==m5[m5.Structure]?[]:l5.map(({id:f})=>{let g=new bt(e.components,l,f).balance(c);return{resourceId:f,amount:g}}).filter(({amount:f})=>f>0),[h,l,c])}}}function AG(){let e=L();return{getFoodResources:o=>{let s=z.getState().currentDefaultTick,u=new bt(e.setup.components,o,Dd.Wheat).balance(s),d=new bt(e.setup.components,o,Dd.Fish).balance(s);return[{resourceId:Dd.Wheat,amount:u},{resourceId:Dd.Fish,amount:d}]},getBalance:(o,s)=>{let u=z.getState().currentDefaultTick;return{balance:new bt(e.setup.components,o,s).balance(u),resourceId:s}},useBalance:(o,s)=>{let u=z.getState().currentDefaultTick,[d,m]=zC({amount:0,resourceId:s});return LC(()=>{let l=new bt(e.setup.components,o,s);m({amount:l.balance(u),resourceId:s})},[]),d},getResourcesBalance:o=>{let s=ee([q(e.setup.components.DetachedResource,{entity_id:o})]);return Array.from(s).map(u=>_(e.setup.components.DetachedResource,u))},getResourceProductionInfo:(o,s)=>new bt(e.setup.components,o,s).getProduction()}}var OG=(e,n)=>{let t=L(),i=b4(t.setup.components.Production,M([BigInt(e),BigInt(n)]));return k4(()=>new bt(t.setup.components,e,n),[t.setup,e,n,i])};var ba=()=>{let{account:{account:e},setup:{components:{Realm:n,Owner:t,Position:i,Structure:r}}}=L(),o=z(p=>p.isSpectatorMode)?Fd("0x0"):Fd(e.address),{getEntityName:s}=Je(),u=x5([$(n),q(t,{address:o})]),d=x5([$(r),$(i),$(t),q(t,{address:o})]),m=jd(()=>u.map(p=>{let f=_(n,p);return{...f,position:_(i,p),name:KC(f.realm_id),owner:_(t,p)}}),[u]),l=jd(()=>d.map(p=>{let f=_(r,p);if(!f)return;let y=_(n,p),g=_(i,p),k=s(f.entity_id),v=y?f5(y):k||f.category||"";return{...f,position:g,name:v,owner:_(t,p)}}).filter(p=>p!==void 0).sort((p,f)=>p.category===An[An.Realm]?-1:f.category===An[An.Realm]?1:p.category.localeCompare(f.category)),[d]);return{playerRealms:p=>jd(()=>(p?m.filter(p):m).sort((y,g)=>y.name.localeCompare(g.name)),[m,p]),playerStructures:p=>jd(()=>(p?l.filter(p):l).sort((y,g)=>y.name.localeCompare(g.name)),[l,p])}},Je=()=>{let{account:{account:e},setup:{components:{Army:n,EntityName:t,ArrivalTime:i,EntityOwner:r,Movable:a,CapacityCategory:o,CapacityConfig:s,Position:u,AddressName:d,Owner:m,Realm:l,Structure:c}}}=L(),{getResourcesFromBalance:h}=c5(),p=v=>{let E=BigInt(v),S=_(i,M([E])),w=_(a,M([E])),O=_(o,M([E]))?.category,I=RC[O]||0n,D=_(s,M([BigInt(I)])),W=_(r,M([E])),R=_(m,M([BigInt(W?.entity_owner_id||0)])),Q=f(v),se=_(c,M([E])),F=h(v),A=_(n,M([E])),T=w?{x:w.intermediate_coord_x,y:w.intermediate_coord_y}:void 0,B=T?{x:T.x,y:T.y}:void 0,Z=_(u,M([E])),X=W?_(u,M([BigInt(W?.entity_owner_id||0)])):void 0;return{entityId:v,arrivalTime:S?.arrives_at,blocked:!!w?.blocked,capacity:UC(Number(D?.weight_gram)||0),intermediateDestination:B,position:Z?{x:Z.x,y:Z.y}:void 0,homePosition:X?{x:X.x,y:X.y}:void 0,owner:R?.address,isMine:Fd(R?.address||0n)===Fd(e.address),isRoundTrip:w?.round_trip||!1,resources:F,entityType:A?y5.TROOP:y5.DONKEY,structureCategory:se?.category,structure:se,name:Q}},f=(v,E=!1)=>{let S=_(t,M([BigInt(v)])),w=_(l,M([BigInt(v)])),O=_(c,M([BigInt(v)]));if(O?.category===An[An.Realm]&&w)return f5(w);if(S)return E4.decodeShortString(S.name.toString());if(E&&O){let D={[An[An.FragmentMine]]:"FM",[An[An.Hyperstructure]]:"HS",[An[An.Bank]]:"BK"}[O.category];if(D)return`${D} ${O.entity_id}`}return`${O?.category} ${O?.entity_id}`},y=v=>{let E=_(d,M([BigInt(v)]));return E?E4.decodeShortString(E.name.toString()):void 0},g=v=>{let E=k(v);if(!E)return;let S=_(d,M([BigInt(E)]));return S?E4.decodeShortString(S.name.toString()):void 0},k=v=>{let E=_(r,M([BigInt(v)]));return E?.entity_owner_id?_(m,M([BigInt(E.entity_owner_id)]))?.address:void 0};return{getEntityName:f,getEntityInfo:p,getAddressName:y,getAddressNameFromEntity:g,getPlayerAddressFromEntity:k}};var _4={Giants:[1,20,65,71,74,90,92,94,119,127,147,161,204,221,223,237,238,245,270,289,301,302,305,313,340,354,359,365,380,387,415,465,501,503,521,530,535,544,568,585,605,629,706,712,721,731,740,748,760,787,789,802,821,837,839,869,892,909,920,923,924,940,942,943,959,961,969,983,993,1e3,1036,1039,1044,1062,1067,1074,1084,1085,1088,1114,1165,1175,1185,1219,1241,1257,1274,1295,1303,1319,1354,1389,1397,1426,1428,1434,1448,1461,1467,1470,1504,1520,1524,1532,1557,1563,1574,1575,1579,1626,1636,1648,1654,1655,1683,1702,1708,1746,1769,1788,1805,1807,1809,1831,1833,1852,1854,1858,1862,1868,1878,1903,1939,1965,1971,1974,1981,1988,2024,2046,2071,2083,2112,2120,2152,2160,2174,2176,2181,2183,2196,2286,2287,2289,2330,2342,2350,2353,2367,2373,2410,2436,2451,2489,2492,2512,2526,2601,2605,2620,2628,2637,2644,2676,2684,2703,2720,2754,2755,2774,2776,2785,2821,2844,2862,2872,2879,2882,2896,2906,2909,2951,2975,2976,2978,2987,2988,3003,3054,3106,3113,3144,3147,3162,3168,3173,3194,3217,3276,3311,3312,3323,3346,3358,3378,3393,3412,3416,3424,3447,3448,3453,3454,3469,3479,3482,3502,3503,3523,3555,3557,3598,3600,3626,3629,3634,3663,3681,3689,3699,3707,3716,3734,3781,3794,3795,3823,3837,3845,3857,3899,3904,3969,3970,3987,4011,4013,4018,4048,4106,4120,4123,4136,4138,4148,4155,4156,4164,4172,4185,4187,4214,4252,4261,4272,4285,4324,4347,4375,4386,4388,4398,4401,4423,4426,4454,4463,4492,4497,4525,4527,4528,4540,4544,4548,4554,4567,4569,4571,4576,4587,4593,4606,4614,4621,4639,4660,4662,4700,4714,4716,4727,4734,4784,4816,4834,4854,4858,4872,4873,4876,4900,4903,4909,4931,4939,4975,4976,4994,5003,5005,5007,5051,5086,5117,5119,5124,5131,5132,5155,5170,5174,5187,5191,5203,5210,5217,5286,5313,5321,5344,5354,5359,5361,5401,5414,5419,5439,5460,5473,5515,5531,5544,5552,5558,5597,5622,5677,5692,5697,5703,5714,5715,5726,5747,5764,5802,5832,5860,5891,5908,5923,5951,5969,5984,6016,6060,6063,6073,6086,6106,6111,6134,6149,6155,6156,6197,6203,6207,6237,6253,6271,6291,6305,6322,6359,6400,6426,6449,6465,6487,6498,6511,6530,6570,6582,6603,6618,6633,6642,6662,6667,6712,6733,6737,6755,6780,6785,6787,6797,6809,6833,6841,6851,6887,6920,6933,6936,6946,6957,6967,6976,6994,7104,7153,7162,7166,7186,7218,7234,7268,7269,7297,7299,7308,7309,7323,7328,7331,7344,7348,7387,7409,7410,7431,7446,7460,7506,7509,7510,7519,7529,7561,7565,7600,7602,7626,7637,7642,7681,7707,7721,7730,7734,7751,7786,7796,7830,7845,7895,7905,7910,7918,7925,7941,7953,7958,7961,7963,7995],Perfection:[2,10,14,24,27,35,39,42,47,81,99,116,120,140,145,156,172,214,219,258,259,263,268,298,311,317,327,362,369,379,384,385,390,409,412,416,417,457,471,473,484,497,513,516,525,545,558,570,581,621,634,636,644,660,682,690,692,709,714,719,720,724,735,753,777,794,805,813,825,844,886,901,925,948,964,977,988,1024,1096,1119,1120,1121,1152,1200,1208,1230,1231,1249,1255,1279,1280,1284,1306,1348,1351,1358,1418,1433,1437,1457,1469,1531,1533,1548,1559,1568,1570,1572,1578,1586,1601,1637,1692,1719,1752,1770,1773,1784,1811,1816,1845,1859,1869,1883,1893,1901,1934,1955,1960,1972,1980,1987,2010,2015,2017,2036,2039,2040,2041,2045,2063,2064,2069,2088,2156,2170,2171,2179,2203,2235,2238,2239,2240,2246,2249,2251,2291,2333,2341,2378,2399,2425,2430,2454,2460,2475,2476,2481,2521,2546,2558,2568,2584,2585,2600,2609,2625,2633,2642,2648,2665,2696,2709,2712,2730,2740,2741,2743,2791,2827,2839,2852,2870,2878,2881,2901,2910,3002,3006,3010,3045,3051,3071,3096,3099,3118,3140,3163,3169,3170,3195,3203,3209,3244,3252,3259,3260,3265,3330,3336,3342,3369,3396,3409,3414,3420,3425,3428,3478,3496,3508,3517,3520,3546,3567,3584,3617,3624,3643,3653,3669,3688,3700,3703,3712,3724,3755,3759,3873,3891,3895,3905,3950,3965,4023,4032,4034,4058,4121,4168,4207,4225,4232,4241,4266,4289,4292,4293,4306,4308,4311,4328,4331,4341,4367,4378,4394,4404,4407,4410,4450,4451,4473,4482,4483,4516,4542,4564,4573,4574,4575,4577,4650,4707,4796,4893,4905,4924,4943,4990,4997,5002,5017,5023,5026,5052,5078,5094,5106,5107,5109,5221,5234,5235,5240,5255,5261,5279,5325,5332,5343,5348,5355,5356,5377,5381,5398,5411,5413,5432,5435,5458,5476,5484,5490,5522,5547,5569,5578,5588,5662,5664,5696,5730,5739,5743,5744,5746,5769,5787,5810,5816,5821,5859,5911,5914,5915,5918,5930,5936,5938,5954,5968,5979,5982,5995,6052,6058,6065,6096,6116,6150,6166,6186,6202,6204,6205,6215,6220,6243,6250,6256,6278,6286,6290,6296,6306,6330,6334,6370,6375,6384,6396,6416,6447,6452,6489,6506,6528,6529,6532,6543,6545,6583,6599,6626,6627,6628,6630,6631,6637,6649,6656,6676,6688,6700,6711,6727,6731,6752,6765,6802,6811,6815,6819,6834,6849,6867,6889,6899,6906,6919,6945,7004,7027,7031,7032,7039,7040,7134,7137,7140,7171,7174,7196,7202,7211,7251,7277,7281,7289,7303,7311,7324,7360,7386,7389,7395,7403,7405,7429,7441,7447,7454,7475,7482,7490,7499,7520,7523,7541,7557,7571,7586,7603,7616,7650,7653,7666,7670,7688,7712,7723,7743,7795,7801,7838,7847,7872,7883,7890,7912,7919,7927,7939,7949,7950,7964,7970,7992],Rage:[3,107,159,186,197,203,226,240,241,265,266,273,299,335,346,347,355,360,371,377,378,426,442,460,470,472,483,512,534,546,582,584,595,596,635,640,650,664,673,681,726,727,730,739,758,765,778,788,790,804,819,827,838,840,853,858,868,894,911,933,954,960,966,992,1010,1015,1031,1066,1075,1087,1097,1158,1161,1178,1197,1220,1232,1245,1259,1271,1277,1313,1322,1341,1344,1355,1430,1438,1439,1444,1445,1459,1477,1478,1498,1512,1522,1546,1584,1590,1605,1612,1621,1624,1627,1651,1660,1669,1678,1682,1709,1712,1720,1737,1817,1884,1896,1930,1938,1954,2e3,2002,2085,2094,2097,2111,2126,2153,2180,2223,2225,2230,2255,2267,2268,2309,2317,2325,2347,2351,2358,2362,2364,2384,2401,2411,2415,2423,2431,2438,2448,2472,2487,2502,2509,2556,2566,2599,2631,2660,2667,2680,2681,2686,2688,2690,2698,2701,2704,2729,2738,2752,2767,2779,2858,2860,2875,2887,2891,2895,2897,2914,2921,2924,2936,2981,2995,3033,3105,3107,3122,3153,3157,3177,3182,3187,3192,3225,3228,3229,3266,3286,3287,3295,3299,3308,3314,3329,3338,3356,3419,3440,3457,3501,3518,3525,3539,3545,3561,3564,3582,3583,3591,3603,3612,3619,3622,3658,3692,3718,3745,3772,3775,3782,3788,3804,3859,3874,3932,3962,3983,3991,3996,4026,4040,4044,4076,4081,4083,4085,4092,4094,4095,4175,4193,4203,4276,4278,4280,4315,4319,4329,4358,4364,4382,4390,4400,4416,4429,4458,4500,4524,4590,4594,4613,4617,4625,4657,4658,4663,4664,4667,4675,4694,4709,4712,4731,4749,4766,4769,4778,4787,4801,4803,4805,4839,4846,4863,4901,4926,4933,4958,4973,4982,4991,5027,5035,5040,5045,5073,5084,5092,5130,5167,5198,5218,5226,5232,5253,5277,5316,5320,5327,5340,5368,5372,5384,5409,5415,5420,5456,5461,5477,5505,5540,5551,5572,5573,5581,5583,5602,5605,5616,5641,5653,5688,5718,5777,5782,5793,5799,5814,5826,5828,5829,5833,5840,5844,5847,5849,5876,5905,5909,5935,5939,5942,5947,5958,5972,5986,5990,6008,6025,6044,6053,6057,6067,6081,6082,6118,6122,6130,6140,6165,6219,6246,6251,6263,6276,6308,6338,6339,6356,6361,6378,6381,6389,6398,6433,6435,6436,6463,6466,6478,6483,6496,6510,6525,6535,6540,6556,6619,6659,6664,6666,6681,6683,6684,6685,6698,6715,6758,6771,6775,6776,6777,6778,6796,6804,6806,6810,6828,6836,6850,6853,6857,6861,6882,6912,6932,6955,6980,6983,6992,6995,7033,7042,7043,7053,7085,7109,7114,7142,7164,7176,7177,7191,7195,7197,7200,7203,7214,7220,7282,7329,7365,7398,7402,7411,7436,7451,7453,7462,7474,7503,7531,7533,7545,7562,7569,7574,7585,7590,7608,7620,7668,7692,7718,7798,7799,7817,7834,7836,7844,7863,7888,7906,7923,7965,7973],Fox:[4,29,32,45,48,78,79,80,84,111,118,126,163,177,188,189,211,234,242,253,255,256,279,283,286,294,307,328,386,405,419,438,439,441,446,448,456,475,477,494,498,543,616,648,655,674,695,698,713,732,744,799,811,832,835,875,884,889,907,910,952,978,1019,1023,1045,1094,1105,1106,1123,1139,1183,1248,1269,1291,1302,1316,1370,1371,1373,1380,1407,1416,1417,1425,1429,1451,1492,1495,1534,1540,1543,1554,1622,1662,1688,1698,1726,1753,1755,1761,1763,1765,1778,1792,1796,1797,1801,1820,1821,1836,1839,1855,1876,1886,1906,1908,1916,1923,1947,1957,1963,1964,1979,2032,2049,2058,2089,2103,2128,2132,2142,2145,2151,2206,2210,2216,2232,2241,2242,2259,2296,2312,2340,2348,2355,2360,2380,2382,2395,2397,2453,2490,2519,2520,2524,2525,2530,2544,2549,2581,2630,2640,2641,2651,2653,2664,2717,2742,2761,2766,2770,2802,2817,2855,2885,2893,2920,2930,2949,2953,2962,2966,2992,3007,3008,3022,3026,3029,3035,3048,3060,3065,3066,3067,3074,3084,3085,3100,3121,3146,3154,3206,3216,3220,3222,3248,3270,3275,3289,3331,3349,3355,3364,3370,3380,3411,3427,3439,3451,3455,3475,3494,3531,3540,3551,3556,3562,3585,3589,3595,3630,3631,3638,3640,3683,3698,3701,3706,3720,3731,3757,3774,3785,3805,3828,3838,3856,3860,3868,3878,3909,3966,3967,4008,4021,4022,4038,4069,4080,4086,4104,4111,4132,4198,4212,4237,4253,4318,4320,4346,4349,4351,4365,4368,4371,4389,4405,4411,4419,4438,4460,4469,4476,4486,4511,4531,4538,4546,4549,4560,4562,4581,4586,4588,4638,4641,4642,4651,4656,4677,4692,4705,4711,4736,4785,4808,4811,4815,4835,4850,4878,4898,4922,4952,4963,4967,4978,4985,4989,5038,5042,5056,5061,5088,5091,5115,5147,5181,5194,5239,5249,5252,5254,5264,5284,5298,5304,5306,5319,5328,5337,5346,5363,5364,5424,5427,5428,5431,5462,5463,5485,5487,5489,5495,5497,5503,5532,5575,5577,5617,5636,5658,5673,5710,5725,5729,5742,5756,5781,5789,5800,5809,5846,5865,5880,5889,5896,5907,5961,5971,6029,6030,6031,6037,6066,6093,6108,6114,6131,6137,6151,6162,6225,6235,6252,6292,6328,6365,6401,6427,6444,6448,6455,6484,6490,6492,6493,6504,6505,6550,6563,6579,6589,6602,6610,6617,6647,6648,6650,6663,6713,6716,6720,6722,6764,6795,6822,6835,6854,6863,6865,6935,6948,6965,6966,6970,6978,6990,7008,7061,7066,7110,7129,7133,7141,7144,7160,7181,7250,7261,7266,7267,7278,7304,7325,7333,7339,7349,7352,7354,7355,7376,7379,7388,7390,7414,7428,7430,7433,7448,7456,7493,7508,7516,7547,7548,7559,7578,7592,7636,7638,7677,7724,7749,7770,7777,7781,7794,7825,7856,7862,7869,7870,7881,7892,7946,7955,7984,7985,7997],Twins:[5,18,87,128,130,136,138,160,174,202,208,212,239,287,296,345,352,363,370,388,393,454,468,478,479,508,518,542,547,552,554,555,575,606,610,611,614,632,638,653,675,700,711,729,733,743,766,783,806,808,828,872,895,896,913,926,927,967,979,1032,1048,1052,1056,1065,1073,1124,1143,1148,1160,1162,1168,1179,1198,1213,1225,1244,1258,1262,1273,1276,1293,1326,1342,1443,1454,1480,1481,1525,1542,1544,1597,1611,1628,1643,1650,1652,1661,1673,1740,1750,1808,1815,1827,1841,1842,1856,1887,1915,1918,1933,1967,1975,1983,2018,2043,2052,2075,2082,2091,2169,2178,2192,2221,2254,2257,2285,2311,2324,2343,2346,2368,2398,2416,2447,2470,2529,2561,2591,2598,2608,2658,2661,2668,2678,2683,2711,2736,2737,2763,2775,2787,2793,2794,2811,2837,2842,2847,2904,2918,2948,2963,2967,2979,2986,3001,3012,3049,3061,3093,3103,3114,3129,3139,3151,3152,3164,3200,3201,3213,3226,3231,3241,3246,3250,3253,3255,3298,3302,3305,3310,3319,3332,3345,3359,3398,3410,3437,3477,3490,3498,3509,3515,3524,3528,3535,3544,3549,3593,3597,3614,3618,3651,3652,3719,3723,3727,3748,3770,3792,3800,3810,3824,3831,3852,3876,3882,3885,3889,3894,3902,3917,3925,3926,3936,3958,3961,3975,3995,4001,4003,4039,4114,4119,4145,4149,4177,4196,4200,4202,4210,4217,4221,4243,4255,4260,4288,4299,4305,4325,4355,4356,4357,4366,4379,4397,4408,4424,4428,4445,4453,4455,4479,4502,4505,4510,4514,4541,4559,4572,4582,4585,4595,4620,4643,4655,4665,4673,4702,4730,4733,4737,4781,4794,4800,4814,4841,4877,4887,4892,4902,4908,4921,4956,4957,4983,4996,5011,5024,5025,5049,5053,5097,5112,5128,5136,5157,5173,5224,5237,5266,5267,5270,5275,5295,5311,5341,5357,5374,5403,5417,5422,5434,5444,5445,5453,5455,5471,5509,5535,5538,5545,5560,5565,5613,5628,5630,5632,5638,5645,5650,5682,5683,5689,5741,5750,5753,5772,5792,5795,5831,5836,5842,5848,5854,5861,5862,5863,5886,5944,5988,6046,6071,6074,6080,6110,6113,6115,6119,6136,6146,6157,6167,6168,6182,6190,6191,6210,6221,6224,6240,6259,6261,6295,6315,6327,6329,6333,6347,6363,6368,6379,6382,6388,6415,6417,6428,6458,6469,6475,6500,6518,6559,6584,6595,6644,6657,6686,6706,6732,6745,6753,6825,6829,6840,6842,6937,6953,6956,6961,6993,7003,7010,7035,7045,7063,7068,7073,7079,7084,7088,7103,7113,7132,7157,7193,7206,7264,7283,7291,7319,7327,7335,7368,7393,7396,7472,7480,7504,7525,7528,7536,7549,7552,7560,7563,7575,7580,7581,7591,7618,7619,7648,7696,7711,7744,7745,7755,7788,7793,7810,7832,7842,7843,7848,7849,7850,7852,7866,7879,7884,7893,7901,7911,7922,7924,7948,7967,7975,7978,7982],Fury:[6,9,11,12,28,46,54,75,102,114,132,142,168,180,205,206,207,220,224,249,280,306,315,381,399,401,429,502,505,548,572,598,599,604,609,612,623,626,646,647,705,717,742,755,779,807,815,822,829,833,865,893,908,914,929,945,956,958,973,976,994,1005,1013,1014,1016,1021,1091,1092,1129,1163,1166,1195,1203,1205,1217,1227,1256,1294,1297,1299,1318,1320,1374,1399,1406,1415,1431,1446,1472,1490,1549,1569,1591,1593,1614,1623,1649,1663,1689,1696,1700,1701,1710,1715,1718,1721,1729,1735,1744,1751,1813,1823,1832,1846,1849,1885,1888,1905,1910,1912,1924,1928,1932,1935,1952,1958,1998,2001,2013,2014,2054,2055,2057,2093,2098,2137,2209,2227,2231,2275,2281,2284,2300,2302,2308,2323,2334,2366,2406,2413,2419,2429,2435,2468,2491,2500,2503,2517,2523,2539,2555,2574,2576,2594,2607,2621,2649,2654,2693,2728,2735,2753,2782,2783,2789,2820,2856,2857,2867,2884,2899,2911,2931,2937,2964,2972,3014,3027,3039,3063,3072,3109,3128,3135,3143,3172,3183,3188,3196,3198,3199,3285,3297,3307,3341,3360,3379,3382,3386,3395,3407,3434,3446,3467,3506,3529,3572,3573,3581,3587,3592,3610,3615,3641,3661,3677,3695,3742,3752,3754,3768,3780,3807,3832,3836,3862,3864,3870,3879,3916,3918,3924,3971,3972,3990,4025,4054,4068,4077,4100,4134,4157,4160,4173,4179,4180,4223,4226,4248,4287,4330,4336,4406,4442,4443,4474,4477,4494,4495,4499,4513,4521,4533,4547,4552,4557,4583,4597,4599,4605,4616,4626,4637,4669,4682,4690,4691,4696,4818,4830,4838,4840,4843,4844,4847,4882,4884,4886,4890,4896,4920,4959,4966,4972,5004,5020,5021,5039,5103,5152,5158,5177,5184,5190,5199,5215,5244,5251,5256,5260,5263,5269,5274,5278,5329,5373,5392,5412,5457,5474,5486,5488,5533,5554,5556,5557,5559,5580,5600,5609,5627,5647,5648,5663,5666,5698,5704,5724,5765,5776,5801,5823,5827,5830,5835,5857,5866,5873,5913,5924,5928,5929,5934,5946,5950,5960,5962,5975,5991,6023,6026,6033,6043,6056,6059,6144,6163,6169,6198,6199,6201,6209,6222,6228,6273,6294,6297,6307,6317,6321,6323,6353,6357,6387,6394,6411,6443,6470,6482,6501,6503,6512,6521,6531,6536,6548,6551,6562,6590,6593,6665,6670,6671,6680,6736,6744,6747,6773,6784,6803,6812,6816,6832,6875,6885,6890,6917,6947,6958,6985,6988,7009,7016,7030,7046,7082,7083,7089,7095,7100,7147,7152,7161,7163,7167,7170,7184,7205,7223,7236,7249,7254,7287,7292,7293,7294,7300,7310,7321,7336,7380,7399,7418,7419,7420,7445,7468,7476,7494,7507,7512,7539,7540,7566,7570,7577,7598,7605,7651,7657,7658,7664,7667,7682,7714,7731,7759,7772,7800,7804,7815,7819,7821,7861,7864,7873,7880,7907,7956,7996],Reflection:[7,15,19,34,36,82,89,155,233,235,250,272,285,291,308,310,316,392,404,407,408,432,434,436,445,493,511,537,539,643,658,671,701,703,738,746,798,800,845,873,882,885,905,915,918,921,922,971,982,996,1004,1012,1033,1051,1054,1058,1063,1068,1078,1081,1090,1118,1127,1136,1146,1177,1188,1189,1206,1242,1275,1298,1317,1333,1361,1394,1410,1440,1473,1479,1536,1550,1561,1604,1629,1640,1644,1645,1653,1674,1681,1725,1734,1754,1772,1783,1790,1798,1840,1864,1890,1895,1926,1953,1961,1962,1969,1992,1995,2019,2023,2059,2061,2062,2066,2081,2084,2087,2105,2114,2129,2149,2164,2168,2172,2185,2194,2204,2211,2244,2248,2250,2273,2316,2327,2328,2329,2335,2356,2381,2388,2396,2407,2437,2459,2463,2497,2499,2514,2552,2565,2589,2604,2657,2682,2706,2708,2722,2749,2757,2759,2769,2772,2777,2778,2792,2797,2810,2812,2816,2822,2828,2841,2845,2864,2866,2876,2883,2894,2912,2956,2984,2997,3046,3083,3111,3119,3125,3127,3136,3145,3161,3184,3186,3240,3254,3269,3296,3335,3343,3385,3389,3392,3400,3415,3442,3456,3476,3499,3516,3522,3552,3558,3609,3616,3676,3704,3711,3789,3815,3820,3839,3841,3887,3908,3912,3919,3928,3930,3942,3943,3951,3964,4e3,4010,4030,4047,4059,4060,4071,4078,4090,4096,4097,4102,4110,4128,4133,4154,4163,4165,4174,4176,4181,4197,4201,4220,4258,4262,4279,4295,4300,4303,4304,4314,4352,4372,4387,4402,4421,4440,4447,4489,4566,4570,4592,4666,4678,4704,4710,4726,4735,4747,4755,4763,4773,4792,4827,4828,4894,4914,4915,4916,4917,4944,4969,4987,5015,5022,5029,5034,5058,5060,5081,5087,5095,5096,5116,5133,5137,5138,5143,5144,5154,5162,5164,5183,5196,5206,5214,5238,5281,5282,5303,5307,5323,5347,5353,5358,5378,5382,5391,5407,5438,5440,5442,5491,5492,5516,5521,5563,5566,5568,5587,5592,5595,5599,5624,5631,5646,5649,5659,5676,5678,5694,5700,5709,5719,5733,5740,5749,5775,5779,5845,5864,5871,5883,5917,5920,5937,5956,6020,6050,6061,6062,6069,6075,6120,6126,6178,6184,6200,6217,6233,6234,6254,6262,6272,6289,6331,6336,6341,6343,6366,6453,6454,6464,6494,6499,6509,6569,6594,6596,6623,6668,6669,6679,6690,6723,6750,6774,6783,6814,6818,6837,6858,6898,6901,6908,6915,6922,6942,6950,6951,6952,6974,6987,7021,7029,7065,7078,7086,7098,7099,7117,7119,7128,7149,7154,7187,7201,7222,7233,7238,7240,7241,7243,7253,7284,7306,7322,7340,7347,7364,7370,7406,7427,7439,7442,7449,7457,7481,7484,7501,7538,7543,7599,7601,7607,7614,7627,7630,7639,7644,7672,7697,7704,7710,7737,7740,7741,7753,7768,7769,7773,7787,7805,7851,7858,7871,7876,7894,7896,7909,7936,7945,7957,7959,7969,7979],Detection:[8,16,21,23,25,49,50,72,83,86,117,124,133,153,164,170,187,193,209,210,254,257,278,281,290,300,318,321,338,400,403,418,430,453,467,485,499,536,571,619,627,663,683,747,762,770,774,846,848,854,859,874,903,919,930,974,985,1003,1006,1007,1022,1027,1035,1038,1064,1069,1076,1093,1126,1156,1159,1173,1196,1201,1218,1222,1229,1237,1240,1263,1272,1282,1323,1332,1338,1353,1357,1365,1366,1368,1385,1414,1421,1435,1456,1462,1511,1518,1521,1526,1541,1556,1577,1600,1609,1615,1617,1625,1631,1632,1657,1658,1659,1664,1665,1675,1703,1724,1727,1742,1749,1775,1785,1787,1806,1830,1838,1847,1853,1860,1889,1940,1978,2044,2050,2101,2106,2140,2155,2165,2212,2233,2236,2292,2301,2306,2315,2332,2363,2372,2387,2400,2428,2446,2483,2505,2515,2518,2531,2534,2569,2582,2586,2587,2590,2593,2602,2627,2635,2645,2652,2656,2669,2691,2713,2724,2773,2780,2804,2805,2809,2835,2848,2865,2873,2890,2902,2915,2926,2927,2950,2957,2990,2996,3005,3044,3069,3087,3097,3110,3116,3130,3142,3180,3181,3197,3202,3211,3283,3293,3309,3315,3318,3322,3367,3387,3388,3413,3435,3438,3462,3474,3481,3486,3487,3536,3543,3553,3577,3580,3594,3607,3644,3659,3660,3666,3674,3684,3702,3746,3765,3773,3787,3808,3829,3844,3871,3897,3933,3952,3956,3978,3998,4009,4028,4061,4063,4070,4099,4142,4144,4152,4166,4182,4244,4256,4257,4264,4284,4290,4291,4297,4338,4339,4343,4344,4374,4376,4380,4436,4452,4459,4468,4478,4488,4490,4530,4534,4580,4649,4670,4676,4680,4697,4708,4723,4740,4742,4752,4760,4788,4789,4793,4797,4807,4819,4829,4837,4853,4866,4881,4883,4897,4929,4960,4961,4988,4998,5009,5019,5037,5054,5071,5079,5085,5098,5102,5120,5129,5153,5156,5175,5201,5227,5233,5276,5299,5300,5301,5333,5339,5349,5352,5367,5380,5385,5390,5426,5448,5493,5508,5519,5542,5567,5586,5601,5610,5618,5635,5667,5716,5721,5723,5768,5771,5784,5790,5794,5798,5808,5812,5820,5843,5869,5874,5884,5902,5921,5932,5940,5952,5953,5981,5994,6004,6009,6072,6103,6112,6123,6161,6174,6227,6231,6260,6267,6284,6319,6325,6360,6369,6374,6390,6404,6440,6481,6541,6542,6547,6549,6552,6553,6561,6565,6571,6580,6585,6592,6605,6620,6645,6678,6699,6707,6708,6709,6724,6730,6756,6757,6790,6792,6805,6823,6877,6891,6895,6903,6996,7e3,7006,7014,7044,7047,7054,7055,7077,7094,7108,7123,7139,7145,7182,7189,7212,7246,7273,7274,7318,7326,7332,7366,7372,7375,7401,7444,7464,7488,7489,7530,7534,7555,7583,7595,7604,7623,7640,7652,7656,7673,7684,7702,7715,7732,7742,7774,7808,7816,7820,7824,7860,7887,7915,7932,7951,7977,7981,7983,7987,7998],Skill:[13,38,40,55,56,59,62,103,104,105,121,123,227,230,236,248,267,282,288,304,320,334,343,358,398,410,431,459,524,556,566,590,593,602,603,617,622,624,662,684,716,728,772,784,817,849,860,864,941,944,970,1009,1017,1025,1028,1034,1037,1049,1089,1109,1140,1144,1184,1187,1212,1216,1260,1267,1268,1270,1287,1288,1339,1363,1372,1381,1382,1402,1403,1419,1423,1468,1471,1489,1502,1505,1515,1519,1528,1530,1562,1567,1573,1576,1582,1583,1592,1598,1607,1610,1642,1685,1690,1714,1716,1732,1757,1759,1760,1825,1826,1828,1843,1861,1870,1873,1875,1897,1898,1900,1914,1942,1943,1948,1949,1982,1985,1991,1993,2008,2022,2025,2027,2030,2042,2060,2070,2079,2086,2099,2117,2130,2138,2139,2143,2173,2182,2190,2191,2199,2201,2205,2207,2219,2222,2228,2229,2234,2265,2271,2314,2365,2385,2386,2393,2412,2417,2432,2494,2508,2540,2572,2579,2626,2638,2663,2673,2695,2699,2702,2748,2750,2751,2798,2800,2818,2836,2843,2898,2905,2913,2923,2952,2955,2971,2982,2991,3004,3038,3042,3047,3055,3077,3078,3239,3284,3290,3291,3317,3327,3352,3354,3366,3371,3384,3399,3431,3441,3445,3450,3461,3492,3495,3570,3575,3605,3608,3648,3649,3686,3693,3713,3721,3750,3756,3761,3786,3791,3793,3799,3817,3818,3850,3854,3866,3888,3892,3901,3906,3922,3940,3959,3979,3980,3988,4020,4033,4041,4055,4084,4098,4103,4113,4118,4124,4125,4143,4150,4151,4159,4167,4186,4218,4228,4247,4250,4254,4296,4298,4327,4348,4373,4464,4485,4491,4503,4509,4519,4520,4522,4553,4609,4618,4623,4659,4674,4688,4758,4761,4770,4779,4823,4826,4859,4868,4880,4934,4941,4946,4954,4999,5016,5033,5059,5067,5083,5089,5100,5101,5104,5122,5123,5140,5148,5178,5180,5204,5289,5293,5330,5334,5336,5338,5345,5365,5369,5370,5405,5433,5437,5443,5450,5466,5475,5498,5504,5534,5604,5608,5620,5621,5623,5625,5651,5655,5672,5681,5734,5748,5751,5760,5767,5796,5804,5805,5813,5906,5916,5931,5945,5949,5955,5963,5964,5965,5967,5989,5997,6002,6012,6041,6064,6083,6088,6089,6101,6107,6109,6117,6132,6145,6152,6164,6173,6176,6245,6248,6264,6266,6279,6287,6300,6309,6311,6313,6318,6332,6337,6346,6358,6393,6418,6459,6460,6516,6523,6526,6560,6574,6591,6624,6636,6643,6653,6672,6677,6701,6766,6789,6798,6820,6866,6883,6884,6886,6928,6930,6968,6982,6998,7017,7024,7064,7071,7101,7111,7118,7120,7138,7156,7207,7209,7225,7228,7235,7263,7279,7280,7301,7315,7343,7356,7373,7383,7394,7397,7421,7469,7515,7518,7522,7524,7554,7558,7655,7675,7689,7698,7708,7709,7727,7729,7733,7736,7746,7756,7757,7778,7802,7813,7865,7874,7875,7904,7930,7940,7943,7944,7952,7989],Brilliance:[17,33,41,58,76,97,110,115,144,169,173,196,201,229,231,244,247,251,269,292,330,372,421,433,451,476,491,495,529,541,553,559,562,569,588,600,601,608,666,670,676,677,696,763,771,775,782,793,834,841,877,878,879,928,939,963,975,981,986,991,998,1047,1077,1125,1141,1147,1155,1226,1247,1253,1281,1292,1308,1325,1331,1349,1364,1377,1401,1442,1447,1486,1503,1508,1509,1545,1565,1571,1585,1602,1639,1679,1693,1733,1741,1780,1782,1803,1804,1818,1837,1844,1850,1857,1865,1881,1907,1909,1911,1922,1925,1936,1966,1970,1977,1994,1996,2011,2029,2033,2047,2067,2068,2077,2078,2100,2102,2115,2136,2144,2148,2162,2166,2214,2253,2260,2261,2263,2274,2283,2294,2297,2326,2352,2370,2376,2383,2391,2404,2457,2461,2473,2485,2496,2506,2527,2533,2535,2553,2557,2570,2573,2575,2610,2614,2623,2634,2670,2685,2694,2697,2716,2721,2731,2739,2756,2760,2762,2771,2824,2829,2830,2888,2892,2900,2922,2933,2945,2958,2961,3019,3025,3058,3082,3088,3092,3124,3134,3176,3208,3224,3232,3233,3238,3251,3281,3288,3301,3347,3351,3391,3417,3421,3470,3472,3485,3530,3533,3565,3569,3574,3596,3602,3611,3623,3637,3646,3654,3685,3697,3710,3735,3737,3739,3744,3796,3801,3825,3842,3851,3858,3861,3867,3872,3896,3921,3923,3929,3935,3954,3982,3984,3997,4002,4017,4042,4052,4073,4089,4117,4126,4131,4137,4189,4190,4199,4233,4239,4242,4246,4265,4268,4269,4286,4312,4313,4323,4409,4431,4435,4457,4465,4504,4508,4518,4561,4603,4604,4624,4636,4640,4645,4652,4683,4698,4713,4741,4743,4748,4765,4767,4786,4804,4806,4824,4825,4845,4855,4857,4911,4950,4951,4955,4965,5001,5047,5055,5064,5065,5074,5105,5121,5146,5169,5185,5189,5211,5228,5250,5283,5290,5308,5310,5312,5351,5386,5387,5406,5410,5447,5470,5481,5500,5514,5524,5528,5574,5585,5634,5661,5668,5669,5670,5690,5693,5754,5763,5791,5818,5850,5853,5875,5877,5893,5899,5904,5922,5927,5943,5996,6014,6028,6038,6039,6040,6045,6047,6068,6070,6098,6133,6142,6158,6160,6196,6211,6214,6223,6229,6257,6258,6265,6268,6269,6274,6282,6304,6352,6376,6377,6385,6386,6395,6402,6410,6422,6438,6441,6488,6507,6514,6527,6564,6576,6586,6588,6612,6615,6616,6640,6673,6729,6734,6748,6759,6779,6786,6791,6846,6848,6855,6880,6881,6902,6904,6921,6929,6934,6963,6997,6999,7007,7028,7091,7115,7124,7148,7151,7158,7192,7208,7210,7213,7221,7245,7290,7295,7337,7350,7362,7377,7381,7422,7432,7440,7458,7478,7479,7495,7498,7502,7517,7544,7567,7612,7641,7678,7679,7693,7725,7739,7747,7760,7765,7766,7780,7784,7789,7791,7797,7803,7823,7839,7841,7846,7878,7908,7914,7926,7976],Protection:[22,37,95,100,101,137,146,149,151,152,171,185,190,194,195,199,217,252,261,275,284,314,351,357,375,395,425,435,452,500,517,526,540,563,592,594,607,645,649,651,678,686,697,752,792,795,797,809,818,831,843,852,857,862,876,880,887,890,900,987,1042,1043,1050,1080,1083,1086,1102,1117,1134,1137,1170,1181,1182,1192,1194,1207,1211,1224,1234,1246,1264,1266,1283,1304,1305,1329,1330,1340,1345,1362,1378,1383,1398,1404,1427,1432,1436,1452,1466,1474,1483,1488,1491,1523,1547,1553,1564,1589,1608,1613,1616,1618,1684,1711,1747,1795,1834,1835,1848,1871,1880,1891,1892,1902,1917,1927,1956,1989,1997,2016,2020,2072,2074,2090,2092,2107,2108,2110,2119,2135,2157,2197,2202,2272,2320,2321,2331,2336,2338,2349,2354,2377,2390,2464,2465,2482,2486,2547,2596,2597,2606,2616,2619,2643,2687,2692,2714,2733,2747,2758,2796,2813,2823,2832,2840,2846,2853,2854,2861,2874,2919,2925,2929,2946,2947,2960,2965,2969,2983,2985,3017,3028,3034,3037,3117,3149,3174,3189,3191,3204,3207,3210,3214,3218,3234,3245,3249,3263,3273,3320,3321,3340,3376,3381,3390,3394,3397,3403,3422,3444,3468,3473,3493,3497,3521,3568,3586,3635,3656,3664,3672,3673,3729,3741,3747,3758,3763,3769,3771,3776,3783,3803,3830,3847,3900,3903,3947,3974,3994,4029,4035,4037,4043,4045,4051,4066,4130,4147,4161,4178,4194,4204,4209,4215,4219,4259,4277,4309,4310,4361,4362,4370,4391,4392,4403,4414,4418,4420,4422,4437,4439,4448,4470,4480,4484,4501,4512,4532,4607,4615,4628,4653,4672,4679,4685,4686,4706,4715,4717,4718,4728,4745,4782,4783,4799,4817,4831,4851,4860,4889,4899,4913,4925,4930,4945,4947,4968,4980,4986,5012,5030,5032,5076,5080,5108,5141,5150,5163,5171,5176,5193,5197,5220,5247,5268,5272,5287,5314,5315,5317,5342,5362,5366,5441,5464,5465,5468,5479,5482,5510,5523,5526,5546,5548,5550,5598,5626,5640,5665,5671,5684,5691,5713,5728,5738,5745,5783,5803,5806,5811,5825,5839,5885,5894,5895,5926,5959,5978,5992,6007,6011,6015,6017,6022,6027,6048,6054,6091,6097,6100,6121,6135,6171,6177,6187,6232,6241,6288,6320,6355,6412,6420,6429,6432,6451,6461,6473,6476,6497,6520,6524,6557,6566,6598,6601,6607,6621,6634,6675,6691,6705,6738,6741,6743,6767,6768,6830,6831,6860,6872,6905,6924,6949,6969,6984,6986,7005,7023,7041,7050,7060,7075,7081,7106,7112,7121,7130,7131,7190,7204,7219,7247,7260,7262,7270,7275,7307,7314,7320,7334,7341,7345,7357,7358,7367,7371,7382,7391,7407,7415,7455,7463,7485,7486,7511,7514,7546,7551,7556,7579,7582,7587,7597,7606,7621,7635,7646,7654,7700,7809,7811,7812,7831,7833,7857,7898,7920,7931,7935,8e3],Power:[26,43,52,53,57,106,125,135,141,157,166,184,215,222,246,309,324,326,349,353,376,383,411,422,437,469,482,487,507,509,515,519,522,550,551,580,587,637,641,656,667,679,694,723,725,734,736,761,812,820,866,871,897,904,916,946,955,965,968,972,1020,1053,1104,1132,1133,1157,1190,1191,1199,1209,1250,1251,1300,1324,1346,1360,1395,1408,1409,1449,1450,1455,1460,1464,1465,1487,1500,1501,1507,1513,1551,1555,1630,1634,1635,1646,1668,1672,1687,1694,1697,1704,1738,1739,1743,1745,1766,1776,1789,1800,1824,1867,1872,1899,1913,1929,1931,1945,1946,1984,1986,2005,2056,2096,2127,2134,2147,2159,2186,2188,2195,2215,2217,2220,2256,2264,2288,2295,2344,2361,2379,2402,2450,2452,2458,2474,2484,2488,2510,2516,2532,2538,2548,2551,2592,2611,2636,2646,2647,2650,2655,2659,2671,2672,2677,2689,2700,2705,2725,2744,2781,2784,2838,2859,2863,2869,2877,2916,2917,2928,2939,2942,2943,2980,2993,2999,3e3,3011,3040,3050,3052,3059,3091,3133,3137,3150,3175,3212,3215,3221,3261,3277,3303,3313,3316,3328,3333,3375,3377,3423,3429,3432,3436,3458,3465,3480,3491,3505,3537,3541,3548,3578,3588,3601,3613,3642,3647,3650,3655,3662,3667,3682,3696,3743,3762,3766,3777,3790,3797,3802,3822,3827,3833,3834,3846,3849,3865,3877,3883,3884,3910,3913,3915,3944,3953,3977,3981,4004,4016,4027,4057,4064,4075,4091,4093,4105,4122,4135,4139,4192,4206,4216,4224,4263,4270,4307,4335,4354,4363,4381,4384,4396,4399,4430,4432,4434,4461,4466,4498,4506,4545,4550,4563,4596,4611,4612,4630,4644,4647,4668,4699,4719,4720,4724,4732,4744,4750,4751,4757,4790,4820,4822,4842,4852,4904,4912,4932,4935,4940,4948,4995,5e3,5006,5057,5066,5072,5093,5110,5111,5125,5139,5142,5159,5161,5172,5230,5231,5309,5324,5326,5383,5397,5400,5402,5418,5430,5459,5499,5502,5512,5518,5520,5529,5530,5553,5562,5570,5606,5611,5615,5656,5679,5686,5687,5705,5722,5727,5752,5757,5759,5786,5788,5817,5822,5824,5838,5841,5852,5897,5910,5966,5976,5980,6005,6034,6036,6049,6079,6085,6087,6104,6125,6127,6147,6159,6170,6172,6180,6189,6275,6280,6303,6310,6314,6335,6354,6364,6371,6380,6383,6405,6414,6425,6431,6456,6495,6513,6534,6537,6572,6573,6575,6614,6635,6638,6639,6661,6682,6703,6793,6799,6801,6808,6824,6838,6843,6844,6852,6869,6874,6888,6939,6944,6971,6977,6991,7025,7034,7052,7059,7080,7122,7169,7183,7194,7216,7230,7286,7305,7312,7351,7359,7361,7369,7374,7378,7385,7423,7443,7466,7467,7471,7500,7535,7564,7617,7622,7625,7628,7629,7633,7643,7645,7680,7728,7735,7738,7754,7853,7877,7900,7903,7916,7938,7942,7971,7980,7988,7990,7991],Titans:[30,31,51,77,98,112,129,148,150,158,175,178,182,216,218,228,264,303,319,323,341,367,374,397,424,427,444,455,458,462,466,489,492,523,531,557,561,565,579,583,591,613,618,652,661,672,680,685,687,693,707,708,710,756,776,781,791,814,836,847,850,856,861,863,870,881,891,931,936,949,951,957,989,990,1008,1011,1029,1030,1046,1055,1059,1071,1072,1100,1101,1103,1115,1130,1149,1153,1169,1176,1210,1265,1296,1309,1310,1327,1336,1337,1379,1388,1413,1424,1441,1453,1463,1496,1510,1516,1517,1535,1558,1560,1566,1587,1599,1603,1606,1619,1641,1666,1667,1670,1686,1699,1717,1731,1748,1756,1762,1764,1767,1774,1777,1781,1822,1882,1944,2012,2031,2034,2038,2051,2053,2109,2113,2116,2121,2125,2184,2189,2226,2276,2277,2278,2322,2337,2339,2375,2394,2403,2405,2409,2420,2422,2439,2440,2443,2456,2478,2513,2541,2545,2554,2562,2563,2578,2580,2588,2618,2674,2746,2803,2849,2850,2851,2903,2989,3016,3023,3036,3053,3075,3095,3101,3112,3131,3158,3171,3178,3179,3190,3223,3257,3267,3280,3294,3324,3350,3362,3368,3372,3373,3401,3402,3404,3406,3426,3460,3466,3484,3504,3507,3510,3512,3547,3550,3563,3566,3606,3633,3645,3665,3670,3671,3717,3725,3728,3753,3813,3819,3855,3886,3898,3911,3938,3957,3985,4006,4019,4031,4036,4067,4107,4115,4127,4141,4169,4184,4188,4191,4231,4235,4236,4273,4274,4275,4282,4332,4353,4377,4383,4393,4413,4417,4425,4441,4446,4462,4472,4493,4551,4565,4568,4591,4600,4601,4627,4632,4633,4687,4729,4754,4774,4776,4795,4802,4810,4813,4848,4861,4864,4869,4875,4879,4979,4993,5010,5013,5069,5070,5082,5090,5099,5113,5126,5127,5165,5166,5212,5213,5236,5242,5246,5259,5265,5280,5285,5292,5294,5331,5388,5394,5395,5416,5429,5436,5446,5467,5469,5511,5513,5527,5537,5555,5594,5612,5675,5680,5699,5702,5717,5720,5735,5736,5755,5797,5837,5867,5878,5879,5887,5892,5898,5919,5925,5933,5974,5977,5985,6003,6010,6013,6018,6019,6084,6092,6095,6139,6181,6195,6216,6239,6255,6285,6293,6301,6316,6326,6344,6349,6367,6372,6373,6399,6421,6439,6445,6467,6479,6519,6533,6555,6568,6578,6606,6655,6693,6695,6704,6710,6717,6718,6719,6728,6739,6749,6751,6754,6788,6794,6826,6827,6845,6871,6876,6893,6910,6914,6925,6938,6941,6962,6975,7001,7011,7058,7069,7076,7087,7092,7093,7125,7126,7179,7224,7239,7256,7258,7288,7298,7317,7338,7363,7404,7408,7412,7425,7426,7435,7438,7470,7483,7487,7491,7505,7537,7573,7588,7594,7610,7611,7632,7662,7663,7665,7671,7674,7685,7686,7687,7690,7691,7694,7695,7703,7716,7720,7752,7783,7806,7822,7828,7867,7899,7913,7929,7934,7974],Vitriol:[44,60,67,131,139,143,179,181,191,192,225,232,260,262,271,276,297,331,333,337,344,348,391,406,414,440,443,486,490,496,506,514,520,527,533,549,573,576,597,620,642,659,668,688,699,702,704,715,718,741,769,773,785,786,796,816,823,826,888,899,912,947,953,962,995,999,1001,1002,1060,1082,1098,1099,1108,1111,1112,1113,1122,1131,1142,1151,1167,1171,1174,1223,1233,1239,1243,1252,1261,1285,1286,1301,1307,1312,1315,1352,1356,1359,1369,1376,1384,1396,1420,1482,1499,1581,1588,1595,1596,1620,1633,1638,1647,1676,1680,1722,1728,1730,1736,1758,1768,1771,1779,1786,1791,1794,1812,1814,1877,1919,1920,1921,1973,2004,2009,2021,2028,2037,2065,2073,2095,2118,2122,2141,2146,2154,2158,2161,2175,2193,2237,2243,2245,2262,2270,2279,2305,2310,2313,2359,2369,2374,2408,2445,2455,2462,2467,2479,2511,2522,2542,2559,2560,2595,2613,2617,2622,2639,2679,2710,2734,2745,2764,2768,2786,2788,2795,2801,2807,2819,2880,2889,2938,2944,2970,2977,2998,3020,3043,3056,3064,3068,3070,3079,3081,3090,3094,3102,3108,3126,3132,3141,3155,3160,3166,3167,3219,3235,3242,3262,3264,3268,3271,3278,3292,3325,3334,3408,3418,3443,3463,3471,3483,3513,3519,3534,3554,3559,3571,3604,3620,3625,3628,3679,3680,3687,3690,3691,3705,3708,3722,3730,3732,3779,3809,3812,3814,3816,3835,3840,3843,3848,3893,3914,3920,3927,3931,3941,3955,3960,3993,4007,4014,4015,4049,4065,4087,4088,4146,4162,4170,4171,4251,4267,4271,4283,4340,4350,4507,4523,4539,4579,4589,4598,4602,4619,4631,4646,4648,4661,4689,4703,4721,4725,4739,4746,4762,4771,4775,4780,4798,4821,4833,4862,4871,4885,4906,4907,4918,4923,4927,4936,4949,4953,4964,4970,4981,4984,5031,5041,5046,5075,5114,5135,5149,5160,5182,5188,5202,5205,5207,5209,5216,5219,5222,5225,5229,5241,5243,5258,5291,5296,5302,5305,5322,5335,5375,5376,5408,5472,5507,5517,5549,5582,5603,5642,5654,5657,5685,5695,5712,5732,5761,5770,5773,5774,5780,5882,5900,5903,5912,5941,5970,5993,6e3,6024,6076,6102,6138,6141,6154,6175,6179,6183,6188,6194,6226,6236,6238,6270,6281,6283,6403,6408,6409,6423,6424,6437,6471,6491,6508,6515,6600,6608,6613,6625,6629,6632,6658,6674,6692,6694,6696,6702,6735,6740,6760,6761,6762,6763,6800,6807,6856,6859,6862,6868,6873,6894,6896,6897,6911,6913,6916,6923,6931,6943,6960,6973,6981,7019,7048,7074,7096,7143,7146,7155,7168,7172,7175,7198,7199,7226,7244,7252,7271,7272,7342,7353,7461,7465,7477,7492,7497,7521,7532,7542,7550,7572,7576,7596,7647,7669,7699,7701,7717,7719,7726,7748,7758,7762,7764,7776,7779,7835,7859,7889,7891,7933,7972,7999],Anger:[61,63,64,66,69,85,93,113,167,183,198,200,213,274,295,312,322,356,364,389,402,420,423,428,449,481,528,532,538,560,564,577,586,589,630,657,669,749,750,751,754,757,759,764,767,768,842,855,883,917,934,935,938,950,997,1026,1040,1041,1070,1095,1107,1110,1116,1128,1150,1164,1172,1180,1214,1215,1228,1235,1238,1289,1290,1314,1334,1335,1347,1350,1367,1375,1387,1390,1393,1400,1412,1422,1475,1476,1484,1485,1494,1497,1506,1514,1527,1537,1580,1594,1671,1691,1695,1705,1713,1723,1799,1810,1819,1829,1866,1894,1904,1950,1968,1990,2007,2123,2167,2177,2187,2208,2218,2224,2247,2280,2282,2293,2299,2307,2319,2345,2421,2424,2427,2433,2442,2469,2471,2480,2504,2507,2537,2543,2550,2567,2603,2612,2615,2624,2675,2707,2715,2718,2726,2732,2790,2806,2815,2825,2826,2833,2834,2886,2907,2908,2940,2974,3013,3021,3024,3030,3031,3032,3041,3062,3073,3080,3089,3098,3138,3148,3156,3159,3185,3227,3230,3237,3258,3272,3274,3306,3326,3337,3339,3344,3348,3353,3357,3363,3405,3430,3449,3488,3489,3511,3526,3532,3542,3621,3627,3632,3636,3639,3668,3675,3678,3694,3709,3714,3715,3736,3738,3749,3751,3760,3764,3767,3778,3784,3798,3806,3811,3853,3863,3869,3880,3934,3949,3963,3973,3986,3992,3999,4012,4074,4101,4108,4116,4140,4153,4158,4205,4208,4211,4213,4245,4281,4294,4301,4302,4317,4321,4334,4337,4342,4359,4385,4395,4412,4415,4427,4433,4444,4449,4467,4475,4481,4515,4517,4535,4537,4543,4558,4578,4584,4608,4622,4654,4671,4681,4684,4695,4722,4738,4759,4809,4832,4865,4870,4874,4888,4891,4928,4962,4971,4977,5014,5028,5036,5044,5077,5145,5168,5179,5186,5192,5248,5257,5273,5350,5360,5371,5396,5404,5423,5425,5449,5451,5452,5454,5478,5480,5483,5494,5501,5506,5536,5541,5543,5564,5576,5579,5584,5589,5593,5619,5639,5643,5652,5701,5707,5758,5766,5778,5819,5851,5856,5858,5868,5870,5881,5948,5973,5983,5998,5999,6021,6035,6042,6055,6099,6105,6124,6129,6143,6153,6192,6193,6208,6218,6230,6242,6277,6298,6312,6324,6345,6348,6350,6351,6391,6406,6413,6419,6434,6446,6450,6462,6468,6472,6474,6480,6485,6517,6538,6544,6554,6581,6597,6652,6654,6660,6687,6697,6714,6721,6726,6742,6746,6772,6781,6813,6839,6870,6878,6900,6907,6909,6918,6927,6954,6959,6972,6989,7013,7018,7020,7022,7026,7038,7049,7056,7097,7102,7105,7107,7116,7135,7136,7150,7159,7178,7185,7188,7229,7237,7255,7257,7259,7265,7276,7296,7302,7313,7316,7384,7392,7400,7424,7434,7450,7513,7526,7568,7584,7589,7593,7631,7634,7660,7676,7706,7713,7722,7761,7767,7771,7775,7782,7827,7837,7882,7885,7921,7937,7954,7960,7968,7994],Enlightenment:[68,70,73,88,91,96,108,109,122,134,154,162,165,176,243,277,293,325,329,332,336,339,342,350,361,366,368,373,382,394,396,413,447,450,461,463,464,474,480,488,504,510,567,574,578,615,625,628,631,633,639,654,665,689,691,722,737,745,780,801,803,810,824,830,851,867,898,902,906,932,937,980,984,1018,1057,1061,1079,1135,1138,1145,1154,1186,1193,1202,1204,1221,1236,1254,1278,1311,1321,1328,1343,1386,1391,1392,1405,1411,1458,1493,1529,1538,1539,1552,1656,1677,1706,1707,1793,1802,1851,1863,1874,1879,1937,1941,1951,1959,1976,1999,2003,2006,2026,2035,2048,2076,2080,2104,2124,2131,2133,2150,2163,2198,2200,2213,2252,2258,2266,2269,2290,2298,2303,2304,2318,2357,2371,2389,2392,2414,2418,2426,2434,2441,2444,2449,2466,2477,2493,2495,2498,2501,2528,2536,2564,2571,2577,2583,2629,2632,2662,2666,2719,2723,2727,2765,2799,2808,2814,2831,2868,2871,2932,2934,2935,2941,2954,2959,2968,2973,2994,3009,3015,3018,3057,3076,3086,3104,3115,3120,3123,3165,3193,3205,3236,3243,3247,3256,3279,3282,3300,3304,3361,3365,3374,3383,3433,3452,3459,3464,3500,3514,3527,3538,3560,3576,3579,3590,3599,3657,3726,3733,3740,3821,3826,3875,3881,3890,3907,3937,3939,3945,3946,3948,3968,3976,3989,4005,4024,4046,4050,4053,4056,4062,4072,4079,4082,4109,4112,4129,4183,4195,4222,4227,4229,4230,4234,4238,4240,4249,4316,4322,4326,4333,4345,4360,4369,4456,4471,4487,4496,4526,4529,4536,4555,4556,4610,4629,4634,4635,4693,4701,4753,4756,4764,4768,4772,4777,4791,4812,4836,4849,4856,4867,4895,4910,4919,4937,4938,4942,4974,4992,5008,5018,5043,5048,5050,5062,5063,5068,5118,5134,5151,5195,5200,5208,5223,5245,5262,5271,5288,5297,5318,5379,5389,5393,5399,5421,5496,5525,5539,5561,5571,5590,5591,5596,5607,5614,5629,5633,5637,5644,5660,5674,5706,5708,5711,5731,5737,5762,5785,5807,5815,5834,5855,5872,5888,5890,5901,5957,5987,6001,6006,6032,6051,6077,6078,6090,6094,6128,6148,6185,6206,6212,6213,6244,6247,6249,6299,6302,6340,6342,6362,6392,6397,6407,6430,6442,6457,6477,6486,6502,6522,6539,6546,6558,6567,6577,6587,6604,6609,6611,6622,6641,6646,6651,6689,6725,6769,6770,6782,6817,6821,6847,6864,6879,6892,6926,6940,6964,6979,7002,7012,7015,7036,7037,7051,7057,7062,7067,7070,7072,7090,7127,7165,7173,7180,7215,7217,7227,7231,7232,7242,7248,7285,7330,7346,7413,7416,7417,7437,7452,7459,7473,7496,7527,7553,7609,7613,7615,7624,7649,7659,7661,7683,7705,7750,7763,7785,7790,7792,7807,7814,7818,7826,7829,7840,7854,7855,7868,7886,7897,7902,7917,7928,7947,7962,7966,7986,7993]};import{ContractAddress as VC,configManager as w4,getOrderName as p5,getRealmNameById as S4,getQuestResources as HC,unpackResources as GC}from"@bibliothecadao/eternum";import{useEntityQuery as WC}from"@dojoengine/react";import{useMemo as ZC}from"react";import{shortString as Bd}from"starknet";function h5(){let{setup:{components:{Realm:e,AddressName:n,Owner:t,EntityOwner:i,Position:r}}}=L(),a=z(v=>v.structureEntityId);return{getQuestResources:()=>{let v=_(e,M([BigInt(a)])),E=v?GC(v.produced_resources):[];return HC(E)},getEntityOwner:v=>_(i,M([BigInt(v)]))?.entity_owner_id,isRealmIdSettled:v=>ee([q(e,{realm_id:v})]).size>0,getNextRealmIdForOrder:v=>{let E=p5(v),w=Array.from(ee([q(e,{order:v})])).map(R=>_(e,R).entity_id),O=0;if(w.length>0){let R=w.sort((se,F)=>Number(F)-Number(se))[0],Q=_(e,M([BigInt(R)]));Q&&(O=Number(Q.realm_id))}let I=_4[E],D=0,W=I.length;for(let R=0;R<W;R++){let Q=I.indexOf(O);return Q===-1||Q===I.length-1?D=I[0]:D=I[Q+1],D}throw new Error(`Could not find an unoccupied realm ID for order ${E} after ${W} attempts`)},getAddressName:v=>{let E=_(n,M([v]));return E?Bd.decodeShortString(E.name.toString()):void 0},getAddressOrder:v=>{let E=ee([$(e),q(t,{address:v})]);if(E.size>0)return _(e,E.values().next().value||"")?.order},getRealmAddressName:v=>{let E=_(t,M([BigInt(v)])),S=E?_(n,M([E.address])):void 0;return S?Bd.decodeShortString(String(S.name)):""},getRealmIdForOrderAfter:(v,E)=>{let S=p5(v),w=_4[S],O=w.indexOf(E);return O===-1||O===w.length-1?w[0]:w[O+1]},getRealmIdFromRealmEntityId:v=>_(e,M([BigInt(v)]))?.realm_id,getRealmEntityIdFromRealmId:v=>{let E=ee([q(e,{realm_id:v})]);if(E.size>0)return _(e,E.values().next().value||"").entity_id},isEntityIdRealm:v=>!!_(e,M([BigInt(v)])),getRealmEntityIdsOnPosition:(v,E)=>{let S=ee([$(e),q(r,{x:v,y:E})]),w=Array.from(S).map(O=>_(e,O).entity_id);return w.length===1?w[0]:void 0},getRandomUnsettledRealmId:()=>{let v=Array.from(ee([$(e)])),E=new Set;v.forEach(D=>{let W=_(e,M([BigInt(D)]));W&&E.add(Number(W.realm_id))});let O=Array.from({length:8e3},(D,W)=>W+1).filter(D=>!E.has(D));if(O.length===0)throw new Error("No unsettled realms available.");let I=Math.floor(Math.random()*O.length);return O[I]}}}function $G(e){let{setup:{components:{Realm:n,Position:t,Owner:i,Population:r}}}=L();return{realm:(()=>{if(e!==void 0){let o=M([BigInt(e)]),s=_(n,o),u=_(i,o),d=_(t,o),m=_(r,o);if(s&&u&&d){let{realm_id:l,entity_id:c,produced_resources:h,order:p,level:f}=s,y=S4(l),{address:g}=u;return{realmId:l,entityId:c,name:y,level:f,resourceTypesPacked:h,order:p,position:d,...m,hasCapacity:!m||m.capacity+w4.getBasePopulationCapacity()>m.population,owner:g,hasWonder:s.has_wonder}}}})()}}function QG(){let{setup:{components:{Realm:e,Position:n,Owner:t,Population:i,AddressName:r}}}=L(),a=ee([$(e)]);return Array.from(a).map(o=>{let s=_(e,o),u=_(t,o),d=_(n,o),m=_(i,o);if(!s||!u||!d)return null;let{realm_id:l,entity_id:c,produced_resources:h,order:p}=s,f=S4(l),{address:y}=u,g=_(r,M([y])),k=Bd.decodeShortString(g?.name.toString()??"0x0");return{realmId:l,entityId:c,name:f,resourceTypesPacked:h,order:p,position:d,...m,hasCapacity:!m||m.capacity+w4.getBasePopulationCapacity()>m.population,owner:y,ownerName:k,hasWonder:s.has_wonder}}).filter(o=>o!==null)}function YG(){let{account:{account:e},setup:{components:{Realm:n,Position:t,Owner:i,Population:r,AddressName:a}}}=L(),o=WC([$(n),q(i,{address:VC(e.address)})]);return ZC(()=>Array.from(o).map(u=>{let d=_(n,u),m=_(i,u),l=_(t,u),c=_(r,u);if(!d||!m||!l)return null;let{realm_id:h,entity_id:p,produced_resources:f,order:y}=d,g=S4(h),{address:k}=m,v=_(a,M([k])),E=Bd.decodeShortString(v?.name.toString()??"0x0");return{realmId:h,entityId:p,name:g,resourceTypesPacked:f,order:y,position:l,...c,hasCapacity:!c||c.capacity+w4.getBasePopulationCapacity()>c.population,owner:k,ownerName:E,hasWonder:d.has_wonder}}).filter(u=>u!==null),[o])}var g5=(e,n,t,i,r,a,o,s,u)=>{let d=_(s,M([ka(i)]));return n.map(m=>{let l=_(a,m);if(!l)return;let c=_(o,M([BigInt(l.entity_id)])),h=r(l.entity_id),p=_(u,M([BigInt(l.entity_id)])),f="";if(p){let k=p?.timestamp??0;f=v5((t||0)-k,void 0,!0)}let y=e.findIndex(([k,v])=>k===l.entity_id),g=y!==-1;return{entityId:l.entity_id,name:h,isOwner:c?.address===ka(i),memberCount:l.member_count,rank:g?y+1:Number.MAX_SAFE_INTEGER,points:g?e[y][1]:0,isPublic:l.is_public,age:f,isMember:l.entity_id===d?.guild_entity_id}}).filter(m=>m!==void 0).sort((m,l)=>m.rank-l.rank).map((m,l)=>({...m,rank:m.rank===Number.MAX_SAFE_INTEGER?l+1:m.rank}))},YC=(e,n,t,i,r,a,o,s)=>e.map(u=>{let d=_(a,u);if(!d)return;let m=_(s,M([BigInt(d.guild_entity_id),ka(d.address)])),l=_(o,M([BigInt(d.guild_entity_id)])),c=r(d.address),h=n.findIndex(f=>f.address===d.address);if(h===-1)return;let p="";if(m){let f=m?.timestamp??0;p=v5((t||0)-f,void 0,!0)}return{address:d.address,guildEntityId:d.guild_entity_id,age:p,name:c||"Unknown",rank:n[h].rank,points:n[h].points,isUser:d.address===ka(i),isGuildMaster:l?.address===d.address}}).filter(u=>u!==void 0),JC=(e,n,t,i,r)=>e.map(a=>{let o=_(t,a);if(!o)return;let s=i(o.address),u=r(o.guild_entity_id),d=n.findIndex(m=>m.address===o.address);return{guildEntityId:o.guild_entity_id,name:s??"Unknown",guildName:u,rank:n[d].rank,points:n[d].points,address:o.address}}).filter(a=>a!==void 0),XC=(e,n,t)=>e.map(i=>{let r=_(n,i);if(!r)return;let a=t(r.guild_entity_id);return{guildEntityId:r.guild_entity_id,guildName:a}}).filter(i=>i!==void 0),b5=()=>{let e=L(),{setup:{components:{Guild:n,GuildMember:t,GuildWhitelist:i,Owner:r,AddressName:a,events:{CreateGuild:o,JoinGuild:s}},account:{account:u}}}=e,{getEntityName:d}=Je(),{getAddressName:m}=h5(),l=z.getState().nextBlockTimestamp,c=()=>{let E=Xi.getState().guildsByRank,S=qd([$(n),ht(n,{member_count:0})]);return{guilds:g5(E,S,l,u.address,w=>d(w)||"Unknown",n,r,t,o)}},h=A4((E,S)=>{let w=Xi.getState().guildsByRank,O=g5(w,[M([BigInt(E)])],l,u.address,D=>d(D)||"Unknown",n,r,t,o)[0];if(!O)return;let I=_(r,M([BigInt(O.entityId)]));return{guild:O,isOwner:I?.address===ka(S),name:O.name}},[]),p=A4(E=>{let S=_(t,M([E]));if(!S)return;let w=_(n,M([BigInt(S.guild_entity_id)])),O=_(r,M([BigInt(S.guild_entity_id)])),I=S.guild_entity_id&&d(S.guild_entity_id)||"Unknown";return{entityId:S?.guild_entity_id,name:I,isOwner:O?.address===ka(E),memberCount:w?.member_count||0}},[]),f=(E,S)=>{let w=qd([q(t,{guild_entity_id:E})]);return{guildMembers:YC(w,S,l,u.address,m,t,r,s)}},y=(E,S)=>{let w=qd([q(i,{guild_entity_id:E,is_whitelisted:!0})]);return JC(w,S,i,m,O=>d(O)||"Unknown")},g=E=>{let S=qd([q(i,{address:E,is_whitelisted:!0})]);return XC(S,i,w=>d(w)||"Unknown")},k=A4(E=>{let S=p(E);if(!S)return[];let w=S.entityId;return typeof w!="number"?[]:v(w)},[]),v=E=>Array.from(ee([$(a),$(t),q(n,{entity_id:E})])).map(w=>{let O=_(a,w),I=O?QC.decodeShortString(O.name.toString()):"Unknown",D=$C(O?.address||0n);return{name:I,address:D}});return{useGuildQuery:c,getGuildFromPlayerAddress:p,useGuildMembers:f,useGuildWhitelist:y,usePlayerWhitelist:g,getGuildFromEntityId:h,getPlayersInPlayersGuild:k,getPlayerListInGuild:v}};var Xi=tD(e=>({playersByRank:[],setPlayersByRank:n=>e({playersByRank:n}),guildsByRank:[],setGuildsByRank:n=>e({guildsByRank:n})})),OW=()=>{let e=L(),{getGuildFromPlayerAddress:n}=b5(),{nextBlockTimestamp:t}=Rn(),i=Xi(o=>o.setPlayersByRank),r=Xi(o=>o.setGuildsByRank);return nD(()=>{let o=eD.instance(e.setup.components),s=o.getPlayersByRank(t||0),u=o.getGuildsByRank(t||0,n);i(s),r(u)},[e,t,n,i,r])};import{create as iD}from"zustand";var IW=iD((e,n)=>({loading:!1,setLoading:t=>e({loading:t}),selectedResource:1,setSelectedResource:t=>{e({selectedResource:t})}}));var CW=()=>{let e=z(i=>i.showModal),n=z(i=>i.modalContent),t=z(i=>i.toggleModal);return{showModal:e,modalContent:n,toggleModal:t}};function k5({provider:e}){return{send_resources:async N=>{await e.send_resources(N)},send_resources_multiple:async N=>{await e.send_resources_multiple(N)},pickup_resources:async N=>{await e.pickup_resources(N)},remove_liquidity:async N=>{await e.remove_liquidity(N)},add_liquidity:async N=>{await e.add_liquidity(N)},sell_resources:async N=>{await e.sell_resources(N)},buy_resources:async N=>{await e.buy_resources(N)},change_bank_owner_fee:async N=>{await e.change_bank_owner_fee(N)},open_account:async N=>{await e.open_account(N)},create_bank:async N=>{await e.create_bank(N)},explore:async N=>{await e.explore(N)},set_address_name:async N=>{await e.set_address_name(N)},set_entity_name:async N=>{await e.set_entity_name(N)},isLive:async()=>{try{return await e.uuid(),!0}catch{return!1}},create_order:async N=>{await e.create_order(N)},accept_order:async N=>{await e.accept_order(N)},cancel_order:async N=>{await e.cancel_order(N)},accept_partial_order:async N=>{await e.accept_partial_order(N)},upgrade_realm:async N=>{await e.upgrade_realm(N)},create_multiple_realms:async N=>{await e.create_multiple_realms(N)},create_multiple_realms_dev:async N=>{await e.create_multiple_realms_dev(N)},transfer_resources:async N=>{await e.transfer_resources(N)},travel_hex:async N=>{await e.travel_hex(N)},destroy_building:async N=>{await e.destroy_building(N)},pause_production:async N=>{await e.pause_production(N)},resume_production:async N=>{await e.resume_production(N)},create_building:async N=>{await e.create_building(N)},create_army:async N=>{await e.create_army(N)},delete_army:async N=>{await e.delete_army(N)},uuid:async()=>await e.uuid(),create_hyperstructure:async N=>{await e.create_hyperstructure(N)},contribute_to_construction:async N=>{await e.contribute_to_construction(N)},set_access:async N=>{await e.set_access(N)},set_co_owners:async N=>{await e.set_co_owners(N)},get_points:async N=>await e.get_points(N),end_game:async N=>{await e.end_game(N)},register_to_leaderboard:async N=>{await e.register_to_leaderboard(N)},claim_leaderboard_rewards:async N=>{await e.claim_leaderboard_rewards(N)},claim_quest:async N=>{await e.claim_quest(N)},mint_resources:async N=>{await e.mint_resources(N)},army_buy_troops:async N=>{await e.army_buy_troops(N)},army_merge_troops:async N=>{await e.army_merge_troops(N)},create_guild:async N=>{await e.create_guild(N)},join_guild:async N=>{await e.join_guild(N)},whitelist_player:async N=>{await e.whitelist_player(N)},transfer_guild_ownership:async N=>{await e.transfer_guild_ownership(N)},remove_guild_member:async N=>{await e.remove_guild_member(N)},disband_guild:async N=>{await e.disband_guild(N)},remove_player_from_whitelist:async N=>{await e.remove_player_from_whitelist(N)},battle_start:async N=>{await e.battle_start(N)},battle_force_start:async N=>{await e.battle_force_start(N)},battle_resolve:async N=>{await e.battle_resolve(N)},battle_leave:async N=>{await e.battle_leave(N)},battle_join:async N=>{await e.battle_join(N)},battle_claim:async N=>{await e.battle_claim(N)},battle_pillage:async N=>{await e.battle_pillage(N)},battle_leave_and_claim:async N=>{await e.battle_claim_and_leave(N)},battle_leave_and_pillage:async N=>{await e.battle_leave_and_pillage(N)}}}import{defineContractComponents as nB,EternumProvider as tB}from"@bibliothecadao/eternum";import{Connector as XZ}from"@starknet-react/core";import{shortString as n$}from"starknet";import{createContext as LF}from"react";import{jsx as r$}from"react/jsx-runtime";import{useCallback as s$,useContext as u$,useEffect as d$,useMemo as m$,useState as l$}from"react";import{Contract as HW,RpcProvider as GW,shortString as WW}from"starknet";import{CallData as $W}from"starknet";var de;(function(e){e.assertEqual=r=>r;function n(r){}e.assertIs=n;function t(r){throw new Error}e.assertNever=t,e.arrayToEnum=r=>{let a={};for(let o of r)a[o]=o;return a},e.getValidEnumValues=r=>{let a=e.objectKeys(r).filter(s=>typeof r[r[s]]!="number"),o={};for(let s of a)o[s]=r[s];return e.objectValues(o)},e.objectValues=r=>e.objectKeys(r).map(function(a){return r[a]}),e.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{let a=[];for(let o in r)Object.prototype.hasOwnProperty.call(r,o)&&a.push(o);return a},e.find=(r,a)=>{for(let o of r)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&isFinite(r)&&Math.floor(r)===r;function i(r,a=" | "){return r.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=i,e.jsonStringifyReplacer=(r,a)=>typeof a=="bigint"?a.toString():a})(de||(de={}));var T4;(function(e){e.mergeShapes=(n,t)=>({...n,...t})})(T4||(T4={}));var H=de.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Et=e=>{switch(typeof e){case"undefined":return H.undefined;case"string":return H.string;case"number":return isNaN(e)?H.nan:H.number;case"boolean":return H.boolean;case"function":return H.function;case"bigint":return H.bigint;case"symbol":return H.symbol;case"object":return Array.isArray(e)?H.array:e===null?H.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?H.promise:typeof Map<"u"&&e instanceof Map?H.map:typeof Set<"u"&&e instanceof Set?H.set:typeof Date<"u"&&e instanceof Date?H.date:H.object;default:return H.unknown}},P=de.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),rD=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),dn=class e extends Error{get errors(){return this.issues}constructor(n){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=n}format(n){let t=n||function(a){return a.message},i={_errors:[]},r=a=>{for(let o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(r);else if(o.code==="invalid_return_type")r(o.returnTypeError);else if(o.code==="invalid_arguments")r(o.argumentsError);else if(o.path.length===0)i._errors.push(t(o));else{let s=i,u=0;for(;u<o.path.length;){let d=o.path[u];u===o.path.length-1?(s[d]=s[d]||{_errors:[]},s[d]._errors.push(t(o))):s[d]=s[d]||{_errors:[]},s=s[d],u++}}};return r(this),i}static assert(n){if(!(n instanceof e))throw new Error(`Not a ZodError: ${n}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,de.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(n=t=>t.message){let t={},i=[];for(let r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(n(r))):i.push(n(r));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}};dn.create=e=>new dn(e);var wa=(e,n)=>{let t;switch(e.code){case P.invalid_type:e.received===H.undefined?t="Required":t=`Expected ${e.expected}, received ${e.received}`;break;case P.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(e.expected,de.jsonStringifyReplacer)}`;break;case P.unrecognized_keys:t=`Unrecognized key(s) in object: ${de.joinValues(e.keys,", ")}`;break;case P.invalid_union:t="Invalid input";break;case P.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${de.joinValues(e.options)}`;break;case P.invalid_enum_value:t=`Invalid enum value. Expected ${de.joinValues(e.options)}, received '${e.received}'`;break;case P.invalid_arguments:t="Invalid function arguments";break;case P.invalid_return_type:t="Invalid function return type";break;case P.invalid_date:t="Invalid date";break;case P.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(t=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?t=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?t=`Invalid input: must end with "${e.validation.endsWith}"`:de.assertNever(e.validation):e.validation!=="regex"?t=`Invalid ${e.validation}`:t="Invalid";break;case P.too_small:e.type==="array"?t=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?t=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?t=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?t=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:t="Invalid input";break;case P.too_big:e.type==="array"?t=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?t=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?t=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?t=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?t=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:t="Invalid input";break;case P.custom:t="Invalid input";break;case P.invalid_intersection_types:t="Intersection results could not be merged";break;case P.not_multiple_of:t=`Number must be a multiple of ${e.multipleOf}`;break;case P.not_finite:t="Number must be finite";break;default:t=n.defaultError,de.assertNever(e)}return{message:t}},w5=wa;function aD(e){w5=e}function Ld(){return w5}var zd=e=>{let{data:n,path:t,errorMaps:i,issueData:r}=e,a=[...t,...r.path||[]],o={...r,path:a};if(r.message!==void 0)return{...r,path:a,message:r.message};let s="",u=i.filter(d=>!!d).slice().reverse();for(let d of u)s=d(o,{data:n,defaultError:s}).message;return{...r,path:a,message:s}},oD=[];function U(e,n){let t=Ld(),i=zd({issueData:n,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,t,t===wa?void 0:wa].filter(r=>!!r)});e.common.issues.push(i)}var ze=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(n,t){let i=[];for(let r of t){if(r.status==="aborted")return te;r.status==="dirty"&&n.dirty(),i.push(r.value)}return{status:n.value,value:i}}static async mergeObjectAsync(n,t){let i=[];for(let r of t){let a=await r.key,o=await r.value;i.push({key:a,value:o})}return e.mergeObjectSync(n,i)}static mergeObjectSync(n,t){let i={};for(let r of t){let{key:a,value:o}=r;if(a.status==="aborted"||o.status==="aborted")return te;a.status==="dirty"&&n.dirty(),o.status==="dirty"&&n.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||r.alwaysSet)&&(i[a.value]=o.value)}return{status:n.value,value:i}}},te=Object.freeze({status:"aborted"}),_a=e=>({status:"dirty",value:e}),Ge=e=>({status:"valid",value:e}),N4=e=>e.status==="aborted",I4=e=>e.status==="dirty",er=e=>e.status==="valid",go=e=>typeof Promise<"u"&&e instanceof Promise;function Rd(e,n,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?e!==n||!i:!n.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(e):i?i.value:n.get(e)}function S5(e,n,t,i,r){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?e!==n||!r:!n.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?r.call(e,t):r?r.value=t:n.set(e,t),t}var J;(function(e){e.errToObj=n=>typeof n=="string"?{message:n}:n||{},e.toString=n=>typeof n=="string"?n:n?.message})(J||(J={}));var po,ho,Tn=class{constructor(n,t,i,r){this._cachedPath=[],this.parent=n,this.data=t,this._path=i,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},E5=(e,n)=>{if(er(n))return{success:!0,data:n.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new dn(e.common.issues);return this._error=t,this._error}}};function re(e){if(!e)return{};let{errorMap:n,invalid_type_error:t,required_error:i,description:r}=e;if(n&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return n?{errorMap:n,description:r}:{errorMap:(o,s)=>{var u,d;let{message:m}=e;return o.code==="invalid_enum_value"?{message:m??s.defaultError}:typeof s.data>"u"?{message:(u=m??i)!==null&&u!==void 0?u:s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:(d=m??t)!==null&&d!==void 0?d:s.defaultError}},description:r}}var ae=class{get description(){return this._def.description}_getType(n){return Et(n.data)}_getOrReturnCtx(n,t){return t||{common:n.parent.common,data:n.data,parsedType:Et(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}_processInputParams(n){return{status:new ze,ctx:{common:n.parent.common,data:n.data,parsedType:Et(n.data),schemaErrorMap:this._def.errorMap,path:n.path,parent:n.parent}}}_parseSync(n){let t=this._parse(n);if(go(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(n){let t=this._parse(n);return Promise.resolve(t)}parse(n,t){let i=this.safeParse(n,t);if(i.success)return i.data;throw i.error}safeParse(n,t){var i;let r={common:{issues:[],async:(i=t?.async)!==null&&i!==void 0?i:!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:Et(n)},a=this._parseSync({data:n,path:r.path,parent:r});return E5(r,a)}"~validate"(n){var t,i;let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:Et(n)};if(!this["~standard"].async)try{let a=this._parseSync({data:n,path:[],parent:r});return er(a)?{value:a.value}:{issues:r.common.issues}}catch(a){!((i=(t=a?.message)===null||t===void 0?void 0:t.toLowerCase())===null||i===void 0)&&i.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:n,path:[],parent:r}).then(a=>er(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(n,t){let i=await this.safeParseAsync(n,t);if(i.success)return i.data;throw i.error}async safeParseAsync(n,t){let i={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:n,parsedType:Et(n)},r=this._parse({data:n,path:i.path,parent:i}),a=await(go(r)?r:Promise.resolve(r));return E5(i,a)}refine(n,t){let i=r=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(r):t;return this._refinement((r,a)=>{let o=n(r),s=()=>a.addIssue({code:P.custom,...i(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(s(),!1)):o?!0:(s(),!1)})}refinement(n,t){return this._refinement((i,r)=>n(i)?!0:(r.addIssue(typeof t=="function"?t(i,r):t),!1))}_refinement(n){return new mn({schema:this,typeName:ne.ZodEffects,effect:{type:"refinement",refinement:n}})}superRefine(n){return this._refinement(n)}constructor(n){this.spa=this.safeParseAsync,this._def=n,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return On.create(this,this._def)}nullable(){return at.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return wt.create(this)}promise(){return xi.create(this,this._def)}or(n){return sr.create([this,n],this._def)}and(n){return ur.create(this,n,this._def)}transform(n){return new mn({...re(this._def),schema:this,typeName:ne.ZodEffects,effect:{type:"transform",transform:n}})}default(n){let t=typeof n=="function"?n:()=>n;return new yr({...re(this._def),innerType:this,defaultValue:t,typeName:ne.ZodDefault})}brand(){return new vo({typeName:ne.ZodBranded,type:this,...re(this._def)})}catch(n){let t=typeof n=="function"?n:()=>n;return new xr({...re(this._def),innerType:this,catchValue:t,typeName:ne.ZodCatch})}describe(n){let t=this.constructor;return new t({...this._def,description:n})}pipe(n){return bo.create(this,n)}readonly(){return fr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},sD=/^c[^\s-]{8,}$/i,uD=/^[0-9a-z]+$/,dD=/^[0-9A-HJKMNP-TV-Z]{26}$/i,mD=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,lD=/^[a-z0-9_-]{21}$/i,cD=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,yD=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,xD=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,fD="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",O4,pD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,gD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,vD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,bD=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,kD=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,A5="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ED=new RegExp(`^${A5}$`);function O5(e){let n="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?n=`${n}\\.\\d{${e.precision}}`:e.precision==null&&(n=`${n}(\\.\\d+)?`),n}function _D(e){return new RegExp(`^${O5(e)}$`)}function T5(e){let n=`${A5}T${O5(e)}`,t=[];return t.push(e.local?"Z?":"Z"),e.offset&&t.push("([+-]\\d{2}:?\\d{2})"),n=`${n}(${t.join("|")})`,new RegExp(`^${n}$`)}function wD(e,n){return!!((n==="v4"||!n)&&pD.test(e)||(n==="v6"||!n)&&gD.test(e))}function SD(e,n){if(!cD.test(e))return!1;try{let[t]=e.split("."),i=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),r=JSON.parse(atob(i));return!(typeof r!="object"||r===null||!r.typ||!r.alg||n&&r.alg!==n)}catch{return!1}}function AD(e,n){return!!((n==="v4"||!n)&&hD.test(e)||(n==="v6"||!n)&&vD.test(e))}var ci=class e extends ae{_parse(n){if(this._def.coerce&&(n.data=String(n.data)),this._getType(n)!==H.string){let a=this._getOrReturnCtx(n);return U(a,{code:P.invalid_type,expected:H.string,received:a.parsedType}),te}let i=new ze,r;for(let a of this._def.checks)if(a.kind==="min")n.data.length<a.value&&(r=this._getOrReturnCtx(n,r),U(r,{code:P.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="max")n.data.length>a.value&&(r=this._getOrReturnCtx(n,r),U(r,{code:P.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),i.dirty());else if(a.kind==="length"){let o=n.data.length>a.value,s=n.data.length<a.value;(o||s)&&(r=this._getOrReturnCtx(n,r),o?U(r,{code:P.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):s&&U(r,{code:P.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),i.dirty())}else if(a.kind==="email")xD.test(n.data)||(r=this._getOrReturnCtx(n,r),U(r,{validation:"email",code:P.invalid_string,message:a.message}),i.dirty());else if(a.kind==="emoji")O4||(O4=new RegExp(fD,"u")),O4.test(n.data)||(r=this._getOrReturnCtx(n,r),U(r,{validation:"emoji",code:P.invalid_string,message:a.message}),i.dirty());else if(a.kind==="uuid")mD.test(n.data)||(r=this._getOrReturnCtx(n,r),U(r,{validation:"uuid",code:P.invalid_string,message:a.message}),i.dirty());else if(a.kind==="nanoid")lD.test(n.data)||(r=this._getOrReturnCtx(n,r),U(r,{validation:"nanoid",code:P.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid")sD.test(n.data)||(r=this._getOrReturnCtx(n,r),U(r,{validation:"cuid",code:P.invalid_string,message:a.message}),i.dirty());else if(a.kind==="cuid2")uD.test(n.data)||(r=this._getOrReturnCtx(n,r),U(r,{validation:"cuid2",code:P.invalid_string,message:a.message}),i.dirty());else if(a.kind==="ulid")dD.test(n.data)||(r=this._getOrReturnCtx(n,r),U(r,{validation:"ulid",code:P.invalid_string,message:a.message}),i.dirty());else if(a.kind==="url")try{new URL(n.data)}catch{r=this._getOrReturnCtx(n,r),U(r,{validation:"url",code:P.invalid_string,message:a.message}),i.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(n.data)||(r=this._getOrReturnCtx(n,r),U(r,{validation:"regex",code:P.invalid_string,message:a.message}),i.dirty())):a.kind==="trim"?n.data=n.data.trim():a.kind==="includes"?n.data.includes(a.value,a.position)||(r=this._getOrReturnCtx(n,r),U(r,{code:P.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),i.dirty()):a.kind==="toLowerCase"?n.data=n.data.toLowerCase():a.kind==="toUpperCase"?n.data=n.data.toUpperCase():a.kind==="startsWith"?n.data.startsWith(a.value)||(r=this._getOrReturnCtx(n,r),U(r,{code:P.invalid_string,validation:{startsWith:a.value},message:a.message}),i.dirty()):a.kind==="endsWith"?n.data.endsWith(a.value)||(r=this._getOrReturnCtx(n,r),U(r,{code:P.invalid_string,validation:{endsWith:a.value},message:a.message}),i.dirty()):a.kind==="datetime"?T5(a).test(n.data)||(r=this._getOrReturnCtx(n,r),U(r,{code:P.invalid_string,validation:"datetime",message:a.message}),i.dirty()):a.kind==="date"?ED.test(n.data)||(r=this._getOrReturnCtx(n,r),U(r,{code:P.invalid_string,validation:"date",message:a.message}),i.dirty()):a.kind==="time"?_D(a).test(n.data)||(r=this._getOrReturnCtx(n,r),U(r,{code:P.invalid_string,validation:"time",message:a.message}),i.dirty()):a.kind==="duration"?yD.test(n.data)||(r=this._getOrReturnCtx(n,r),U(r,{validation:"duration",code:P.invalid_string,message:a.message}),i.dirty()):a.kind==="ip"?wD(n.data,a.version)||(r=this._getOrReturnCtx(n,r),U(r,{validation:"ip",code:P.invalid_string,message:a.message}),i.dirty()):a.kind==="jwt"?SD(n.data,a.alg)||(r=this._getOrReturnCtx(n,r),U(r,{validation:"jwt",code:P.invalid_string,message:a.message}),i.dirty()):a.kind==="cidr"?AD(n.data,a.version)||(r=this._getOrReturnCtx(n,r),U(r,{validation:"cidr",code:P.invalid_string,message:a.message}),i.dirty()):a.kind==="base64"?bD.test(n.data)||(r=this._getOrReturnCtx(n,r),U(r,{validation:"base64",code:P.invalid_string,message:a.message}),i.dirty()):a.kind==="base64url"?kD.test(n.data)||(r=this._getOrReturnCtx(n,r),U(r,{validation:"base64url",code:P.invalid_string,message:a.message}),i.dirty()):de.assertNever(a);return{status:i.value,value:n.data}}_regex(n,t,i){return this.refinement(r=>n.test(r),{validation:t,code:P.invalid_string,...J.errToObj(i)})}_addCheck(n){return new e({...this._def,checks:[...this._def.checks,n]})}email(n){return this._addCheck({kind:"email",...J.errToObj(n)})}url(n){return this._addCheck({kind:"url",...J.errToObj(n)})}emoji(n){return this._addCheck({kind:"emoji",...J.errToObj(n)})}uuid(n){return this._addCheck({kind:"uuid",...J.errToObj(n)})}nanoid(n){return this._addCheck({kind:"nanoid",...J.errToObj(n)})}cuid(n){return this._addCheck({kind:"cuid",...J.errToObj(n)})}cuid2(n){return this._addCheck({kind:"cuid2",...J.errToObj(n)})}ulid(n){return this._addCheck({kind:"ulid",...J.errToObj(n)})}base64(n){return this._addCheck({kind:"base64",...J.errToObj(n)})}base64url(n){return this._addCheck({kind:"base64url",...J.errToObj(n)})}jwt(n){return this._addCheck({kind:"jwt",...J.errToObj(n)})}ip(n){return this._addCheck({kind:"ip",...J.errToObj(n)})}cidr(n){return this._addCheck({kind:"cidr",...J.errToObj(n)})}datetime(n){var t,i;return typeof n=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:n}):this._addCheck({kind:"datetime",precision:typeof n?.precision>"u"?null:n?.precision,offset:(t=n?.offset)!==null&&t!==void 0?t:!1,local:(i=n?.local)!==null&&i!==void 0?i:!1,...J.errToObj(n?.message)})}date(n){return this._addCheck({kind:"date",message:n})}time(n){return typeof n=="string"?this._addCheck({kind:"time",precision:null,message:n}):this._addCheck({kind:"time",precision:typeof n?.precision>"u"?null:n?.precision,...J.errToObj(n?.message)})}duration(n){return this._addCheck({kind:"duration",...J.errToObj(n)})}regex(n,t){return this._addCheck({kind:"regex",regex:n,...J.errToObj(t)})}includes(n,t){return this._addCheck({kind:"includes",value:n,position:t?.position,...J.errToObj(t?.message)})}startsWith(n,t){return this._addCheck({kind:"startsWith",value:n,...J.errToObj(t)})}endsWith(n,t){return this._addCheck({kind:"endsWith",value:n,...J.errToObj(t)})}min(n,t){return this._addCheck({kind:"min",value:n,...J.errToObj(t)})}max(n,t){return this._addCheck({kind:"max",value:n,...J.errToObj(t)})}length(n,t){return this._addCheck({kind:"length",value:n,...J.errToObj(t)})}nonempty(n){return this.min(1,J.errToObj(n))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(n=>n.kind==="datetime")}get isDate(){return!!this._def.checks.find(n=>n.kind==="date")}get isTime(){return!!this._def.checks.find(n=>n.kind==="time")}get isDuration(){return!!this._def.checks.find(n=>n.kind==="duration")}get isEmail(){return!!this._def.checks.find(n=>n.kind==="email")}get isURL(){return!!this._def.checks.find(n=>n.kind==="url")}get isEmoji(){return!!this._def.checks.find(n=>n.kind==="emoji")}get isUUID(){return!!this._def.checks.find(n=>n.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(n=>n.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(n=>n.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(n=>n.kind==="cuid2")}get isULID(){return!!this._def.checks.find(n=>n.kind==="ulid")}get isIP(){return!!this._def.checks.find(n=>n.kind==="ip")}get isCIDR(){return!!this._def.checks.find(n=>n.kind==="cidr")}get isBase64(){return!!this._def.checks.find(n=>n.kind==="base64")}get isBase64url(){return!!this._def.checks.find(n=>n.kind==="base64url")}get minLength(){let n=null;for(let t of this._def.checks)t.kind==="min"&&(n===null||t.value>n)&&(n=t.value);return n}get maxLength(){let n=null;for(let t of this._def.checks)t.kind==="max"&&(n===null||t.value<n)&&(n=t.value);return n}};ci.create=e=>{var n;return new ci({checks:[],typeName:ne.ZodString,coerce:(n=e?.coerce)!==null&&n!==void 0?n:!1,...re(e)})};function OD(e,n){let t=(e.toString().split(".")[1]||"").length,i=(n.toString().split(".")[1]||"").length,r=t>i?t:i,a=parseInt(e.toFixed(r).replace(".","")),o=parseInt(n.toFixed(r).replace(".",""));return a%o/Math.pow(10,r)}var nr=class e extends ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(n){if(this._def.coerce&&(n.data=Number(n.data)),this._getType(n)!==H.number){let a=this._getOrReturnCtx(n);return U(a,{code:P.invalid_type,expected:H.number,received:a.parsedType}),te}let i,r=new ze;for(let a of this._def.checks)a.kind==="int"?de.isInteger(n.data)||(i=this._getOrReturnCtx(n,i),U(i,{code:P.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty()):a.kind==="min"?(a.inclusive?n.data<a.value:n.data<=a.value)&&(i=this._getOrReturnCtx(n,i),U(i,{code:P.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?n.data>a.value:n.data>=a.value)&&(i=this._getOrReturnCtx(n,i),U(i,{code:P.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):a.kind==="multipleOf"?OD(n.data,a.value)!==0&&(i=this._getOrReturnCtx(n,i),U(i,{code:P.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):a.kind==="finite"?Number.isFinite(n.data)||(i=this._getOrReturnCtx(n,i),U(i,{code:P.not_finite,message:a.message}),r.dirty()):de.assertNever(a);return{status:r.value,value:n.data}}gte(n,t){return this.setLimit("min",n,!0,J.toString(t))}gt(n,t){return this.setLimit("min",n,!1,J.toString(t))}lte(n,t){return this.setLimit("max",n,!0,J.toString(t))}lt(n,t){return this.setLimit("max",n,!1,J.toString(t))}setLimit(n,t,i,r){return new e({...this._def,checks:[...this._def.checks,{kind:n,value:t,inclusive:i,message:J.toString(r)}]})}_addCheck(n){return new e({...this._def,checks:[...this._def.checks,n]})}int(n){return this._addCheck({kind:"int",message:J.toString(n)})}positive(n){return this._addCheck({kind:"min",value:0,inclusive:!1,message:J.toString(n)})}negative(n){return this._addCheck({kind:"max",value:0,inclusive:!1,message:J.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:0,inclusive:!0,message:J.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:0,inclusive:!0,message:J.toString(n)})}multipleOf(n,t){return this._addCheck({kind:"multipleOf",value:n,message:J.toString(t)})}finite(n){return this._addCheck({kind:"finite",message:J.toString(n)})}safe(n){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:J.toString(n)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:J.toString(n)})}get minValue(){let n=null;for(let t of this._def.checks)t.kind==="min"&&(n===null||t.value>n)&&(n=t.value);return n}get maxValue(){let n=null;for(let t of this._def.checks)t.kind==="max"&&(n===null||t.value<n)&&(n=t.value);return n}get isInt(){return!!this._def.checks.find(n=>n.kind==="int"||n.kind==="multipleOf"&&de.isInteger(n.value))}get isFinite(){let n=null,t=null;for(let i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(n===null||i.value<n)&&(n=i.value)}return Number.isFinite(t)&&Number.isFinite(n)}};nr.create=e=>new nr({checks:[],typeName:ne.ZodNumber,coerce:e?.coerce||!1,...re(e)});var tr=class e extends ae{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(n){if(this._def.coerce)try{n.data=BigInt(n.data)}catch{return this._getInvalidInput(n)}if(this._getType(n)!==H.bigint)return this._getInvalidInput(n);let i,r=new ze;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?n.data<a.value:n.data<=a.value)&&(i=this._getOrReturnCtx(n,i),U(i,{code:P.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="max"?(a.inclusive?n.data>a.value:n.data>=a.value)&&(i=this._getOrReturnCtx(n,i),U(i,{code:P.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):a.kind==="multipleOf"?n.data%a.value!==BigInt(0)&&(i=this._getOrReturnCtx(n,i),U(i,{code:P.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):de.assertNever(a);return{status:r.value,value:n.data}}_getInvalidInput(n){let t=this._getOrReturnCtx(n);return U(t,{code:P.invalid_type,expected:H.bigint,received:t.parsedType}),te}gte(n,t){return this.setLimit("min",n,!0,J.toString(t))}gt(n,t){return this.setLimit("min",n,!1,J.toString(t))}lte(n,t){return this.setLimit("max",n,!0,J.toString(t))}lt(n,t){return this.setLimit("max",n,!1,J.toString(t))}setLimit(n,t,i,r){return new e({...this._def,checks:[...this._def.checks,{kind:n,value:t,inclusive:i,message:J.toString(r)}]})}_addCheck(n){return new e({...this._def,checks:[...this._def.checks,n]})}positive(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:J.toString(n)})}negative(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:J.toString(n)})}nonpositive(n){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:J.toString(n)})}nonnegative(n){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:J.toString(n)})}multipleOf(n,t){return this._addCheck({kind:"multipleOf",value:n,message:J.toString(t)})}get minValue(){let n=null;for(let t of this._def.checks)t.kind==="min"&&(n===null||t.value>n)&&(n=t.value);return n}get maxValue(){let n=null;for(let t of this._def.checks)t.kind==="max"&&(n===null||t.value<n)&&(n=t.value);return n}};tr.create=e=>{var n;return new tr({checks:[],typeName:ne.ZodBigInt,coerce:(n=e?.coerce)!==null&&n!==void 0?n:!1,...re(e)})};var ir=class extends ae{_parse(n){if(this._def.coerce&&(n.data=!!n.data),this._getType(n)!==H.boolean){let i=this._getOrReturnCtx(n);return U(i,{code:P.invalid_type,expected:H.boolean,received:i.parsedType}),te}return Ge(n.data)}};ir.create=e=>new ir({typeName:ne.ZodBoolean,coerce:e?.coerce||!1,...re(e)});var rr=class e extends ae{_parse(n){if(this._def.coerce&&(n.data=new Date(n.data)),this._getType(n)!==H.date){let a=this._getOrReturnCtx(n);return U(a,{code:P.invalid_type,expected:H.date,received:a.parsedType}),te}if(isNaN(n.data.getTime())){let a=this._getOrReturnCtx(n);return U(a,{code:P.invalid_date}),te}let i=new ze,r;for(let a of this._def.checks)a.kind==="min"?n.data.getTime()<a.value&&(r=this._getOrReturnCtx(n,r),U(r,{code:P.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),i.dirty()):a.kind==="max"?n.data.getTime()>a.value&&(r=this._getOrReturnCtx(n,r),U(r,{code:P.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),i.dirty()):de.assertNever(a);return{status:i.value,value:new Date(n.data.getTime())}}_addCheck(n){return new e({...this._def,checks:[...this._def.checks,n]})}min(n,t){return this._addCheck({kind:"min",value:n.getTime(),message:J.toString(t)})}max(n,t){return this._addCheck({kind:"max",value:n.getTime(),message:J.toString(t)})}get minDate(){let n=null;for(let t of this._def.checks)t.kind==="min"&&(n===null||t.value>n)&&(n=t.value);return n!=null?new Date(n):null}get maxDate(){let n=null;for(let t of this._def.checks)t.kind==="max"&&(n===null||t.value<n)&&(n=t.value);return n!=null?new Date(n):null}};rr.create=e=>new rr({checks:[],coerce:e?.coerce||!1,typeName:ne.ZodDate,...re(e)});var Sa=class extends ae{_parse(n){if(this._getType(n)!==H.symbol){let i=this._getOrReturnCtx(n);return U(i,{code:P.invalid_type,expected:H.symbol,received:i.parsedType}),te}return Ge(n.data)}};Sa.create=e=>new Sa({typeName:ne.ZodSymbol,...re(e)});var ar=class extends ae{_parse(n){if(this._getType(n)!==H.undefined){let i=this._getOrReturnCtx(n);return U(i,{code:P.invalid_type,expected:H.undefined,received:i.parsedType}),te}return Ge(n.data)}};ar.create=e=>new ar({typeName:ne.ZodUndefined,...re(e)});var or=class extends ae{_parse(n){if(this._getType(n)!==H.null){let i=this._getOrReturnCtx(n);return U(i,{code:P.invalid_type,expected:H.null,received:i.parsedType}),te}return Ge(n.data)}};or.create=e=>new or({typeName:ne.ZodNull,...re(e)});var yi=class extends ae{constructor(){super(...arguments),this._any=!0}_parse(n){return Ge(n.data)}};yi.create=e=>new yi({typeName:ne.ZodAny,...re(e)});var _t=class extends ae{constructor(){super(...arguments),this._unknown=!0}_parse(n){return Ge(n.data)}};_t.create=e=>new _t({typeName:ne.ZodUnknown,...re(e)});var Un=class extends ae{_parse(n){let t=this._getOrReturnCtx(n);return U(t,{code:P.invalid_type,expected:H.never,received:t.parsedType}),te}};Un.create=e=>new Un({typeName:ne.ZodNever,...re(e)});var Aa=class extends ae{_parse(n){if(this._getType(n)!==H.undefined){let i=this._getOrReturnCtx(n);return U(i,{code:P.invalid_type,expected:H.void,received:i.parsedType}),te}return Ge(n.data)}};Aa.create=e=>new Aa({typeName:ne.ZodVoid,...re(e)});var wt=class e extends ae{_parse(n){let{ctx:t,status:i}=this._processInputParams(n),r=this._def;if(t.parsedType!==H.array)return U(t,{code:P.invalid_type,expected:H.array,received:t.parsedType}),te;if(r.exactLength!==null){let o=t.data.length>r.exactLength.value,s=t.data.length<r.exactLength.value;(o||s)&&(U(t,{code:o?P.too_big:P.too_small,minimum:s?r.exactLength.value:void 0,maximum:o?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),i.dirty())}if(r.minLength!==null&&t.data.length<r.minLength.value&&(U(t,{code:P.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),i.dirty()),r.maxLength!==null&&t.data.length>r.maxLength.value&&(U(t,{code:P.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((o,s)=>r.type._parseAsync(new Tn(t,o,t.path,s)))).then(o=>ze.mergeArray(i,o));let a=[...t.data].map((o,s)=>r.type._parseSync(new Tn(t,o,t.path,s)));return ze.mergeArray(i,a)}get element(){return this._def.type}min(n,t){return new e({...this._def,minLength:{value:n,message:J.toString(t)}})}max(n,t){return new e({...this._def,maxLength:{value:n,message:J.toString(t)}})}length(n,t){return new e({...this._def,exactLength:{value:n,message:J.toString(t)}})}nonempty(n){return this.min(1,n)}};wt.create=(e,n)=>new wt({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ne.ZodArray,...re(n)});function Ea(e){if(e instanceof Xe){let n={};for(let t in e.shape){let i=e.shape[t];n[t]=On.create(Ea(i))}return new Xe({...e._def,shape:()=>n})}else return e instanceof wt?new wt({...e._def,type:Ea(e.element)}):e instanceof On?On.create(Ea(e.unwrap())):e instanceof at?at.create(Ea(e.unwrap())):e instanceof rt?rt.create(e.items.map(n=>Ea(n))):e}var Xe=class e extends ae{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let n=this._def.shape(),t=de.objectKeys(n);return this._cached={shape:n,keys:t}}_parse(n){if(this._getType(n)!==H.object){let d=this._getOrReturnCtx(n);return U(d,{code:P.invalid_type,expected:H.object,received:d.parsedType}),te}let{status:i,ctx:r}=this._processInputParams(n),{shape:a,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof Un&&this._def.unknownKeys==="strip"))for(let d in r.data)o.includes(d)||s.push(d);let u=[];for(let d of o){let m=a[d],l=r.data[d];u.push({key:{status:"valid",value:d},value:m._parse(new Tn(r,l,r.path,d)),alwaysSet:d in r.data})}if(this._def.catchall instanceof Un){let d=this._def.unknownKeys;if(d==="passthrough")for(let m of s)u.push({key:{status:"valid",value:m},value:{status:"valid",value:r.data[m]}});else if(d==="strict")s.length>0&&(U(r,{code:P.unrecognized_keys,keys:s}),i.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let d=this._def.catchall;for(let m of s){let l=r.data[m];u.push({key:{status:"valid",value:m},value:d._parse(new Tn(r,l,r.path,m)),alwaysSet:m in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let d=[];for(let m of u){let l=await m.key,c=await m.value;d.push({key:l,value:c,alwaysSet:m.alwaysSet})}return d}).then(d=>ze.mergeObjectSync(i,d)):ze.mergeObjectSync(i,u)}get shape(){return this._def.shape()}strict(n){return J.errToObj,new e({...this._def,unknownKeys:"strict",...n!==void 0?{errorMap:(t,i)=>{var r,a,o,s;let u=(o=(a=(r=this._def).errorMap)===null||a===void 0?void 0:a.call(r,t,i).message)!==null&&o!==void 0?o:i.defaultError;return t.code==="unrecognized_keys"?{message:(s=J.errToObj(n).message)!==null&&s!==void 0?s:u}:{message:u}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(n){return new e({...this._def,shape:()=>({...this._def.shape(),...n})})}merge(n){return new e({unknownKeys:n._def.unknownKeys,catchall:n._def.catchall,shape:()=>({...this._def.shape(),...n._def.shape()}),typeName:ne.ZodObject})}setKey(n,t){return this.augment({[n]:t})}catchall(n){return new e({...this._def,catchall:n})}pick(n){let t={};return de.objectKeys(n).forEach(i=>{n[i]&&this.shape[i]&&(t[i]=this.shape[i])}),new e({...this._def,shape:()=>t})}omit(n){let t={};return de.objectKeys(this.shape).forEach(i=>{n[i]||(t[i]=this.shape[i])}),new e({...this._def,shape:()=>t})}deepPartial(){return Ea(this)}partial(n){let t={};return de.objectKeys(this.shape).forEach(i=>{let r=this.shape[i];n&&!n[i]?t[i]=r:t[i]=r.optional()}),new e({...this._def,shape:()=>t})}required(n){let t={};return de.objectKeys(this.shape).forEach(i=>{if(n&&!n[i])t[i]=this.shape[i];else{let a=this.shape[i];for(;a instanceof On;)a=a._def.innerType;t[i]=a}}),new e({...this._def,shape:()=>t})}keyof(){return N5(de.objectKeys(this.shape))}};Xe.create=(e,n)=>new Xe({shape:()=>e,unknownKeys:"strip",catchall:Un.create(),typeName:ne.ZodObject,...re(n)});Xe.strictCreate=(e,n)=>new Xe({shape:()=>e,unknownKeys:"strict",catchall:Un.create(),typeName:ne.ZodObject,...re(n)});Xe.lazycreate=(e,n)=>new Xe({shape:e,unknownKeys:"strip",catchall:Un.create(),typeName:ne.ZodObject,...re(n)});var sr=class extends ae{_parse(n){let{ctx:t}=this._processInputParams(n),i=this._def.options;function r(a){for(let s of a)if(s.result.status==="valid")return s.result;for(let s of a)if(s.result.status==="dirty")return t.common.issues.push(...s.ctx.common.issues),s.result;let o=a.map(s=>new dn(s.ctx.common.issues));return U(t,{code:P.invalid_union,unionErrors:o}),te}if(t.common.async)return Promise.all(i.map(async a=>{let o={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(r);{let a,o=[];for(let u of i){let d={...t,common:{...t.common,issues:[]},parent:null},m=u._parseSync({data:t.data,path:t.path,parent:d});if(m.status==="valid")return m;m.status==="dirty"&&!a&&(a={result:m,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;let s=o.map(u=>new dn(u));return U(t,{code:P.invalid_union,unionErrors:s}),te}}get options(){return this._def.options}};sr.create=(e,n)=>new sr({options:e,typeName:ne.ZodUnion,...re(n)});var kt=e=>e instanceof dr?kt(e.schema):e instanceof mn?kt(e.innerType()):e instanceof mr?[e.value]:e instanceof lr?e.options:e instanceof cr?de.objectValues(e.enum):e instanceof yr?kt(e._def.innerType):e instanceof ar?[void 0]:e instanceof or?[null]:e instanceof On?[void 0,...kt(e.unwrap())]:e instanceof at?[null,...kt(e.unwrap())]:e instanceof vo||e instanceof fr?kt(e.unwrap()):e instanceof xr?kt(e._def.innerType):[],Ud=class e extends ae{_parse(n){let{ctx:t}=this._processInputParams(n);if(t.parsedType!==H.object)return U(t,{code:P.invalid_type,expected:H.object,received:t.parsedType}),te;let i=this.discriminator,r=t.data[i],a=this.optionsMap.get(r);return a?t.common.async?a._parseAsync({data:t.data,path:t.path,parent:t}):a._parseSync({data:t.data,path:t.path,parent:t}):(U(t,{code:P.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),te)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(n,t,i){let r=new Map;for(let a of t){let o=kt(a.shape[n]);if(!o.length)throw new Error(`A discriminator value for key \`${n}\` could not be extracted from all schema options`);for(let s of o){if(r.has(s))throw new Error(`Discriminator property ${String(n)} has duplicate value ${String(s)}`);r.set(s,a)}}return new e({typeName:ne.ZodDiscriminatedUnion,discriminator:n,options:t,optionsMap:r,...re(i)})}};function P4(e,n){let t=Et(e),i=Et(n);if(e===n)return{valid:!0,data:e};if(t===H.object&&i===H.object){let r=de.objectKeys(n),a=de.objectKeys(e).filter(s=>r.indexOf(s)!==-1),o={...e,...n};for(let s of a){let u=P4(e[s],n[s]);if(!u.valid)return{valid:!1};o[s]=u.data}return{valid:!0,data:o}}else if(t===H.array&&i===H.array){if(e.length!==n.length)return{valid:!1};let r=[];for(let a=0;a<e.length;a++){let o=e[a],s=n[a],u=P4(o,s);if(!u.valid)return{valid:!1};r.push(u.data)}return{valid:!0,data:r}}else return t===H.date&&i===H.date&&+e==+n?{valid:!0,data:e}:{valid:!1}}var ur=class extends ae{_parse(n){let{status:t,ctx:i}=this._processInputParams(n),r=(a,o)=>{if(N4(a)||N4(o))return te;let s=P4(a.value,o.value);return s.valid?((I4(a)||I4(o))&&t.dirty(),{status:t.value,value:s.data}):(U(i,{code:P.invalid_intersection_types}),te)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([a,o])=>r(a,o)):r(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}};ur.create=(e,n,t)=>new ur({left:e,right:n,typeName:ne.ZodIntersection,...re(t)});var rt=class e extends ae{_parse(n){let{status:t,ctx:i}=this._processInputParams(n);if(i.parsedType!==H.array)return U(i,{code:P.invalid_type,expected:H.array,received:i.parsedType}),te;if(i.data.length<this._def.items.length)return U(i,{code:P.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),te;!this._def.rest&&i.data.length>this._def.items.length&&(U(i,{code:P.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...i.data].map((o,s)=>{let u=this._def.items[s]||this._def.rest;return u?u._parse(new Tn(i,o,i.path,s)):null}).filter(o=>!!o);return i.common.async?Promise.all(a).then(o=>ze.mergeArray(t,o)):ze.mergeArray(t,a)}get items(){return this._def.items}rest(n){return new e({...this._def,rest:n})}};rt.create=(e,n)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new rt({items:e,typeName:ne.ZodTuple,rest:null,...re(n)})};var Kd=class e extends ae{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){let{status:t,ctx:i}=this._processInputParams(n);if(i.parsedType!==H.object)return U(i,{code:P.invalid_type,expected:H.object,received:i.parsedType}),te;let r=[],a=this._def.keyType,o=this._def.valueType;for(let s in i.data)r.push({key:a._parse(new Tn(i,s,i.path,s)),value:o._parse(new Tn(i,i.data[s],i.path,s)),alwaysSet:s in i.data});return i.common.async?ze.mergeObjectAsync(t,r):ze.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(n,t,i){return t instanceof ae?new e({keyType:n,valueType:t,typeName:ne.ZodRecord,...re(i)}):new e({keyType:ci.create(),valueType:n,typeName:ne.ZodRecord,...re(t)})}},Oa=class extends ae{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(n){let{status:t,ctx:i}=this._processInputParams(n);if(i.parsedType!==H.map)return U(i,{code:P.invalid_type,expected:H.map,received:i.parsedType}),te;let r=this._def.keyType,a=this._def.valueType,o=[...i.data.entries()].map(([s,u],d)=>({key:r._parse(new Tn(i,s,i.path,[d,"key"])),value:a._parse(new Tn(i,u,i.path,[d,"value"]))}));if(i.common.async){let s=new Map;return Promise.resolve().then(async()=>{for(let u of o){let d=await u.key,m=await u.value;if(d.status==="aborted"||m.status==="aborted")return te;(d.status==="dirty"||m.status==="dirty")&&t.dirty(),s.set(d.value,m.value)}return{status:t.value,value:s}})}else{let s=new Map;for(let u of o){let d=u.key,m=u.value;if(d.status==="aborted"||m.status==="aborted")return te;(d.status==="dirty"||m.status==="dirty")&&t.dirty(),s.set(d.value,m.value)}return{status:t.value,value:s}}}};Oa.create=(e,n,t)=>new Oa({valueType:n,keyType:e,typeName:ne.ZodMap,...re(t)});var Ta=class e extends ae{_parse(n){let{status:t,ctx:i}=this._processInputParams(n);if(i.parsedType!==H.set)return U(i,{code:P.invalid_type,expected:H.set,received:i.parsedType}),te;let r=this._def;r.minSize!==null&&i.data.size<r.minSize.value&&(U(i,{code:P.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),r.maxSize!==null&&i.data.size>r.maxSize.value&&(U(i,{code:P.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());let a=this._def.valueType;function o(u){let d=new Set;for(let m of u){if(m.status==="aborted")return te;m.status==="dirty"&&t.dirty(),d.add(m.value)}return{status:t.value,value:d}}let s=[...i.data.values()].map((u,d)=>a._parse(new Tn(i,u,i.path,d)));return i.common.async?Promise.all(s).then(u=>o(u)):o(s)}min(n,t){return new e({...this._def,minSize:{value:n,message:J.toString(t)}})}max(n,t){return new e({...this._def,maxSize:{value:n,message:J.toString(t)}})}size(n,t){return this.min(n,t).max(n,t)}nonempty(n){return this.min(1,n)}};Ta.create=(e,n)=>new Ta({valueType:e,minSize:null,maxSize:null,typeName:ne.ZodSet,...re(n)});var Vd=class e extends ae{constructor(){super(...arguments),this.validate=this.implement}_parse(n){let{ctx:t}=this._processInputParams(n);if(t.parsedType!==H.function)return U(t,{code:P.invalid_type,expected:H.function,received:t.parsedType}),te;function i(s,u){return zd({data:s,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ld(),wa].filter(d=>!!d),issueData:{code:P.invalid_arguments,argumentsError:u}})}function r(s,u){return zd({data:s,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Ld(),wa].filter(d=>!!d),issueData:{code:P.invalid_return_type,returnTypeError:u}})}let a={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof xi){let s=this;return Ge(async function(...u){let d=new dn([]),m=await s._def.args.parseAsync(u,a).catch(h=>{throw d.addIssue(i(u,h)),d}),l=await Reflect.apply(o,this,m);return await s._def.returns._def.type.parseAsync(l,a).catch(h=>{throw d.addIssue(r(l,h)),d})})}else{let s=this;return Ge(function(...u){let d=s._def.args.safeParse(u,a);if(!d.success)throw new dn([i(u,d.error)]);let m=Reflect.apply(o,this,d.data),l=s._def.returns.safeParse(m,a);if(!l.success)throw new dn([r(m,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...n){return new e({...this._def,args:rt.create(n).rest(_t.create())})}returns(n){return new e({...this._def,returns:n})}implement(n){return this.parse(n)}strictImplement(n){return this.parse(n)}static create(n,t,i){return new e({args:n||rt.create([]).rest(_t.create()),returns:t||_t.create(),typeName:ne.ZodFunction,...re(i)})}},dr=class extends ae{get schema(){return this._def.getter()}_parse(n){let{ctx:t}=this._processInputParams(n);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};dr.create=(e,n)=>new dr({getter:e,typeName:ne.ZodLazy,...re(n)});var mr=class extends ae{_parse(n){if(n.data!==this._def.value){let t=this._getOrReturnCtx(n);return U(t,{received:t.data,code:P.invalid_literal,expected:this._def.value}),te}return{status:"valid",value:n.data}}get value(){return this._def.value}};mr.create=(e,n)=>new mr({value:e,typeName:ne.ZodLiteral,...re(n)});function N5(e,n){return new lr({values:e,typeName:ne.ZodEnum,...re(n)})}var lr=class e extends ae{constructor(){super(...arguments),po.set(this,void 0)}_parse(n){if(typeof n.data!="string"){let t=this._getOrReturnCtx(n),i=this._def.values;return U(t,{expected:de.joinValues(i),received:t.parsedType,code:P.invalid_type}),te}if(Rd(this,po,"f")||S5(this,po,new Set(this._def.values),"f"),!Rd(this,po,"f").has(n.data)){let t=this._getOrReturnCtx(n),i=this._def.values;return U(t,{received:t.data,code:P.invalid_enum_value,options:i}),te}return Ge(n.data)}get options(){return this._def.values}get enum(){let n={};for(let t of this._def.values)n[t]=t;return n}get Values(){let n={};for(let t of this._def.values)n[t]=t;return n}get Enum(){let n={};for(let t of this._def.values)n[t]=t;return n}extract(n,t=this._def){return e.create(n,{...this._def,...t})}exclude(n,t=this._def){return e.create(this.options.filter(i=>!n.includes(i)),{...this._def,...t})}};po=new WeakMap;lr.create=N5;var cr=class extends ae{constructor(){super(...arguments),ho.set(this,void 0)}_parse(n){let t=de.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(n);if(i.parsedType!==H.string&&i.parsedType!==H.number){let r=de.objectValues(t);return U(i,{expected:de.joinValues(r),received:i.parsedType,code:P.invalid_type}),te}if(Rd(this,ho,"f")||S5(this,ho,new Set(de.getValidEnumValues(this._def.values)),"f"),!Rd(this,ho,"f").has(n.data)){let r=de.objectValues(t);return U(i,{received:i.data,code:P.invalid_enum_value,options:r}),te}return Ge(n.data)}get enum(){return this._def.values}};ho=new WeakMap;cr.create=(e,n)=>new cr({values:e,typeName:ne.ZodNativeEnum,...re(n)});var xi=class extends ae{unwrap(){return this._def.type}_parse(n){let{ctx:t}=this._processInputParams(n);if(t.parsedType!==H.promise&&t.common.async===!1)return U(t,{code:P.invalid_type,expected:H.promise,received:t.parsedType}),te;let i=t.parsedType===H.promise?t.data:Promise.resolve(t.data);return Ge(i.then(r=>this._def.type.parseAsync(r,{path:t.path,errorMap:t.common.contextualErrorMap})))}};xi.create=(e,n)=>new xi({type:e,typeName:ne.ZodPromise,...re(n)});var mn=class extends ae{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ne.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(n){let{status:t,ctx:i}=this._processInputParams(n),r=this._def.effect||null,a={addIssue:o=>{U(i,o),o.fatal?t.abort():t.dirty()},get path(){return i.path}};if(a.addIssue=a.addIssue.bind(a),r.type==="preprocess"){let o=r.transform(i.data,a);if(i.common.async)return Promise.resolve(o).then(async s=>{if(t.value==="aborted")return te;let u=await this._def.schema._parseAsync({data:s,path:i.path,parent:i});return u.status==="aborted"?te:u.status==="dirty"||t.value==="dirty"?_a(u.value):u});{if(t.value==="aborted")return te;let s=this._def.schema._parseSync({data:o,path:i.path,parent:i});return s.status==="aborted"?te:s.status==="dirty"||t.value==="dirty"?_a(s.value):s}}if(r.type==="refinement"){let o=s=>{let u=r.refinement(s,a);if(i.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(i.common.async===!1){let s=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?te:(s.status==="dirty"&&t.dirty(),o(s.value),{status:t.value,value:s.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(s=>s.status==="aborted"?te:(s.status==="dirty"&&t.dirty(),o(s.value).then(()=>({status:t.value,value:s.value}))))}if(r.type==="transform")if(i.common.async===!1){let o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!er(o))return o;let s=r.transform(o.value,a);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(o=>er(o)?Promise.resolve(r.transform(o.value,a)).then(s=>({status:t.value,value:s})):o);de.assertNever(r)}};mn.create=(e,n,t)=>new mn({schema:e,typeName:ne.ZodEffects,effect:n,...re(t)});mn.createWithPreprocess=(e,n,t)=>new mn({schema:n,effect:{type:"preprocess",transform:e},typeName:ne.ZodEffects,...re(t)});var On=class extends ae{_parse(n){return this._getType(n)===H.undefined?Ge(void 0):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}};On.create=(e,n)=>new On({innerType:e,typeName:ne.ZodOptional,...re(n)});var at=class extends ae{_parse(n){return this._getType(n)===H.null?Ge(null):this._def.innerType._parse(n)}unwrap(){return this._def.innerType}};at.create=(e,n)=>new at({innerType:e,typeName:ne.ZodNullable,...re(n)});var yr=class extends ae{_parse(n){let{ctx:t}=this._processInputParams(n),i=t.data;return t.parsedType===H.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};yr.create=(e,n)=>new yr({innerType:e,typeName:ne.ZodDefault,defaultValue:typeof n.default=="function"?n.default:()=>n.default,...re(n)});var xr=class extends ae{_parse(n){let{ctx:t}=this._processInputParams(n),i={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return go(r)?r.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new dn(i.common.issues)},input:i.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new dn(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}};xr.create=(e,n)=>new xr({innerType:e,typeName:ne.ZodCatch,catchValue:typeof n.catch=="function"?n.catch:()=>n.catch,...re(n)});var Na=class extends ae{_parse(n){if(this._getType(n)!==H.nan){let i=this._getOrReturnCtx(n);return U(i,{code:P.invalid_type,expected:H.nan,received:i.parsedType}),te}return{status:"valid",value:n.data}}};Na.create=e=>new Na({typeName:ne.ZodNaN,...re(e)});var TD=Symbol("zod_brand"),vo=class extends ae{_parse(n){let{ctx:t}=this._processInputParams(n),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}},bo=class e extends ae{_parse(n){let{status:t,ctx:i}=this._processInputParams(n);if(i.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?te:a.status==="dirty"?(t.dirty(),_a(a.value)):this._def.out._parseAsync({data:a.value,path:i.path,parent:i})})();{let r=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return r.status==="aborted"?te:r.status==="dirty"?(t.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:i.path,parent:i})}}static create(n,t){return new e({in:n,out:t,typeName:ne.ZodPipeline})}},fr=class extends ae{_parse(n){let t=this._def.innerType._parse(n),i=r=>(er(r)&&(r.value=Object.freeze(r.value)),r);return go(t)?t.then(r=>i(r)):i(t)}unwrap(){return this._def.innerType}};fr.create=(e,n)=>new fr({innerType:e,typeName:ne.ZodReadonly,...re(n)});function I5(e,n={},t){return e?yi.create().superRefine((i,r)=>{var a,o;if(!e(i)){let s=typeof n=="function"?n(i):typeof n=="string"?{message:n}:n,u=(o=(a=s.fatal)!==null&&a!==void 0?a:t)!==null&&o!==void 0?o:!0,d=typeof s=="string"?{message:s}:s;r.addIssue({code:"custom",...d,fatal:u})}}):yi.create()}var ND={object:Xe.lazycreate},ne;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ne||(ne={}));var ID=(e,n={message:`Input not instance of ${e.name}`})=>I5(t=>t instanceof e,n),P5=ci.create,M5=nr.create,PD=Na.create,MD=tr.create,C5=ir.create,CD=rr.create,DD=Sa.create,jD=ar.create,FD=or.create,BD=yi.create,qD=_t.create,LD=Un.create,zD=Aa.create,RD=wt.create,UD=Xe.create,KD=Xe.strictCreate,VD=sr.create,HD=Ud.create,GD=ur.create,WD=rt.create,ZD=Kd.create,$D=Oa.create,QD=Ta.create,YD=Vd.create,JD=dr.create,XD=mr.create,ej=lr.create,nj=cr.create,tj=xi.create,_5=mn.create,ij=On.create,rj=at.create,aj=mn.createWithPreprocess,oj=bo.create,sj=()=>P5().optional(),uj=()=>M5().optional(),dj=()=>C5().optional(),mj={string:e=>ci.create({...e,coerce:!0}),number:e=>nr.create({...e,coerce:!0}),boolean:e=>ir.create({...e,coerce:!0}),bigint:e=>tr.create({...e,coerce:!0}),date:e=>rr.create({...e,coerce:!0})},lj=te,C=Object.freeze({__proto__:null,defaultErrorMap:wa,setErrorMap:aD,getErrorMap:Ld,makeIssue:zd,EMPTY_PATH:oD,addIssueToContext:U,ParseStatus:ze,INVALID:te,DIRTY:_a,OK:Ge,isAborted:N4,isDirty:I4,isValid:er,isAsync:go,get util(){return de},get objectUtil(){return T4},ZodParsedType:H,getParsedType:Et,ZodType:ae,datetimeRegex:T5,ZodString:ci,ZodNumber:nr,ZodBigInt:tr,ZodBoolean:ir,ZodDate:rr,ZodSymbol:Sa,ZodUndefined:ar,ZodNull:or,ZodAny:yi,ZodUnknown:_t,ZodNever:Un,ZodVoid:Aa,ZodArray:wt,ZodObject:Xe,ZodUnion:sr,ZodDiscriminatedUnion:Ud,ZodIntersection:ur,ZodTuple:rt,ZodRecord:Kd,ZodMap:Oa,ZodSet:Ta,ZodFunction:Vd,ZodLazy:dr,ZodLiteral:mr,ZodEnum:lr,ZodNativeEnum:cr,ZodPromise:xi,ZodEffects:mn,ZodTransformer:mn,ZodOptional:On,ZodNullable:at,ZodDefault:yr,ZodCatch:xr,ZodNaN:Na,BRAND:TD,ZodBranded:vo,ZodPipeline:bo,ZodReadonly:fr,custom:I5,Schema:ae,ZodSchema:ae,late:ND,get ZodFirstPartyTypeKind(){return ne},coerce:mj,any:BD,array:RD,bigint:MD,boolean:C5,date:CD,discriminatedUnion:HD,effect:_5,enum:ej,function:YD,instanceof:ID,intersection:GD,lazy:JD,literal:XD,map:$D,nan:PD,nativeEnum:nj,never:LD,null:FD,nullable:rj,number:M5,object:UD,oboolean:dj,onumber:uj,optional:ij,ostring:sj,pipeline:oj,preprocess:aj,promise:tj,record:ZD,set:QD,strictObject:KD,string:P5,symbol:DD,transformer:_5,tuple:WD,undefined:jD,union:VD,unknown:qD,void:zD,NEVER:lj,ZodIssueCode:P,quotelessJson:rD,ZodError:dn});var D5="0x49d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7";var cj=C.union([C.object({type:C.literal("impl"),name:C.string(),interface_name:C.string()}),C.object({type:C.literal("struct"),name:C.string(),members:C.array(C.object({name:C.string(),type:C.string()}))}),C.object({type:C.literal("enum"),name:C.string(),variants:C.array(C.object({name:C.string(),type:C.string()}))}),C.object({type:C.literal("interface"),name:C.string(),items:C.array(C.object({type:C.literal("function"),name:C.string(),inputs:C.array(C.object({name:C.string(),type:C.string()})),outputs:C.array(C.object({type:C.string()})),state_mutability:C.string()}))}),C.object({type:C.literal("constructor"),name:C.string(),inputs:C.array(C.object({name:C.string(),type:C.string()}))}),C.object({type:C.literal("event"),name:C.string(),kind:C.literal("struct"),members:C.array(C.object({name:C.string(),type:C.string(),kind:C.string()}))}),C.object({type:C.literal("event"),name:C.string(),kind:C.literal("enum"),variants:C.array(C.object({name:C.string(),type:C.string(),kind:C.string()}))})]),Hd=C.object({class_hash:C.string(),name:C.string(),abi:C.array(cj)}),yj=Hd.extend({kind:C.literal("WorldContract"),address:C.string(),transaction_hash:C.string(),block_number:C.number(),seed:C.string(),metadata:C.object({rpc_url:C.string()})}),xj=Hd.extend({kind:C.literal("Class"),abi:C.literal(null)}),fj=Hd.extend({kind:C.literal("DojoContract"),address:C.string(),reads:C.array(C.unknown()),writes:C.array(C.unknown()),computed:C.array(C.unknown())}),pj=Hd.extend({kind:C.literal("DojoModel"),members:C.array(C.object({name:C.string(),type:C.string(),key:C.boolean()}))}),YW=C.object({world:yj,base:xj,contracts:C.array(fj),models:C.array(pj)});import{Account as Ao,CallData as v9,ec as zF,hash as RF,shortString as UF,stark as KF}from"starknet";function j5(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function hj(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function en(e,...n){if(!hj(e))throw new Error("Uint8Array expected");if(n.length>0&&!n.includes(e.length))throw new Error("Uint8Array expected of length "+n+", got length="+e.length)}function F5(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");j5(e.outputLen),j5(e.blockLen)}function Ia(e,n=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(n&&e.finished)throw new Error("Hash#digest() has already been called")}function B5(e,n){en(e);let t=n.outputLen;if(e.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}import*as St from"node:crypto";var pr=St&&typeof St=="object"&&"webcrypto"in St?St.webcrypto:St&&typeof St=="object"&&"randomBytes"in St?St:void 0;var fi=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Kn=(e,n)=>e<<32-n|e>>>n,ko=(e,n)=>e<<n|e>>>32-n>>>0;var gj=Array.from({length:256},(e,n)=>n.toString(16).padStart(2,"0"));function L5(e){en(e);let n="";for(let t=0;t<e.length;t++)n+=gj[e[t]];return n}var At={_0:48,_9:57,A:65,F:70,a:97,f:102};function q5(e){if(e>=At._0&&e<=At._9)return e-At._0;if(e>=At.A&&e<=At.F)return e-(At.A-10);if(e>=At.a&&e<=At.f)return e-(At.a-10)}function z5(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let n=e.length,t=n/2;if(n%2)throw new Error("hex string expected, got unpadded hex of length "+n);let i=new Uint8Array(t);for(let r=0,a=0;r<t;r++,a+=2){let o=q5(e.charCodeAt(a)),s=q5(e.charCodeAt(a+1));if(o===void 0||s===void 0){let u=e[a]+e[a+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+a)}i[r]=o*16+s}return i}function M4(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Eo(e){return typeof e=="string"&&(e=M4(e)),en(e),e}function hr(...e){let n=0;for(let i=0;i<e.length;i++){let r=e[i];en(r),n+=r.length}let t=new Uint8Array(n);for(let i=0,r=0;i<e.length;i++){let a=e[i];t.set(a,r),r+=a.length}return t}var Pa=class{clone(){return this._cloneInto()}};function Ma(e){let n=i=>e().update(Eo(i)).digest(),t=e();return n.outputLen=t.outputLen,n.blockLen=t.blockLen,n.create=()=>e(),n}function R5(e=32){if(pr&&typeof pr.getRandomValues=="function")return pr.getRandomValues(new Uint8Array(e));if(pr&&typeof pr.randomBytes=="function")return pr.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}var Gd=class extends Pa{constructor(n,t){super(),this.finished=!1,this.destroyed=!1,F5(n);let i=Eo(t);if(this.iHash=n.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let r=this.blockLen,a=new Uint8Array(r);a.set(i.length>r?n.create().update(i).digest():i);for(let o=0;o<a.length;o++)a[o]^=54;this.iHash.update(a),this.oHash=n.create();for(let o=0;o<a.length;o++)a[o]^=106;this.oHash.update(a),a.fill(0)}update(n){return Ia(this),this.iHash.update(n),this}digestInto(n){Ia(this),en(n,this.outputLen),this.finished=!0,this.iHash.digestInto(n),this.oHash.update(n),this.oHash.digestInto(n),this.destroy()}digest(){let n=new Uint8Array(this.oHash.outputLen);return this.digestInto(n),n}_cloneInto(n){n||(n=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:i,finished:r,destroyed:a,blockLen:o,outputLen:s}=this;return n=n,n.finished=r,n.destroyed=a,n.blockLen=o,n.outputLen=s,n.oHash=t._cloneInto(n.oHash),n.iHash=i._cloneInto(n.iHash),n}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Ca=(e,n,t)=>new Gd(e,n).update(t).digest();Ca.create=(e,n)=>new Gd(e,n);function vj(e,n,t,i){if(typeof e.setBigUint64=="function")return e.setBigUint64(n,t,i);let r=BigInt(32),a=BigInt(4294967295),o=Number(t>>r&a),s=Number(t&a),u=i?4:0,d=i?0:4;e.setUint32(n+u,o,i),e.setUint32(n+d,s,i)}var U5=(e,n,t)=>e&n^~e&t,K5=(e,n,t)=>e&n^e&t^n&t,pi=class extends Pa{constructor(n,t,i,r){super(),this.blockLen=n,this.outputLen=t,this.padOffset=i,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(n),this.view=fi(this.buffer)}update(n){Ia(this);let{view:t,buffer:i,blockLen:r}=this;n=Eo(n);let a=n.length;for(let o=0;o<a;){let s=Math.min(r-this.pos,a-o);if(s===r){let u=fi(n);for(;r<=a-o;o+=r)this.process(u,o);continue}i.set(n.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===r&&(this.process(t,0),this.pos=0)}return this.length+=n.length,this.roundClean(),this}digestInto(n){Ia(this),B5(n,this),this.finished=!0;let{buffer:t,view:i,blockLen:r,isLE:a}=this,{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>r-o&&(this.process(i,0),o=0);for(let l=o;l<r;l++)t[l]=0;vj(i,r-8,BigInt(this.length*8),a),this.process(i,0);let s=fi(n),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let d=u/4,m=this.get();if(d>m.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<d;l++)s.setUint32(4*l,m[l],a)}digest(){let{buffer:n,outputLen:t}=this;this.digestInto(n);let i=n.slice(0,t);return this.destroy(),i}_cloneInto(n){n||(n=new this.constructor),n.set(...this.get());let{blockLen:t,buffer:i,length:r,finished:a,destroyed:o,pos:s}=this;return n.length=r,n.pos=s,n.finished=a,n.destroyed=o,r%t&&n.buffer.set(i),n}};var bj=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),H5=new Uint8Array(new Array(16).fill(0).map((e,n)=>n)),kj=H5.map(e=>(9*e+5)%16),D4=[H5],j4=[kj];for(let e=0;e<4;e++)for(let n of[D4,j4])n.push(n[e].map(t=>bj[t]));var G5=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),Ej=D4.map((e,n)=>e.map(t=>G5[n][t])),_j=j4.map((e,n)=>e.map(t=>G5[n][t])),wj=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),Sj=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function V5(e,n,t,i){return e===0?n^t^i:e===1?n&t|~n&i:e===2?(n|~t)^i:e===3?n&i|t&~i:n^(t|~i)}var Wd=new Uint32Array(16),C4=class extends pi{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:n,h1:t,h2:i,h3:r,h4:a}=this;return[n,t,i,r,a]}set(n,t,i,r,a){this.h0=n|0,this.h1=t|0,this.h2=i|0,this.h3=r|0,this.h4=a|0}process(n,t){for(let h=0;h<16;h++,t+=4)Wd[h]=n.getUint32(t,!0);let i=this.h0|0,r=i,a=this.h1|0,o=a,s=this.h2|0,u=s,d=this.h3|0,m=d,l=this.h4|0,c=l;for(let h=0;h<5;h++){let p=4-h,f=wj[h],y=Sj[h],g=D4[h],k=j4[h],v=Ej[h],E=_j[h];for(let S=0;S<16;S++){let w=ko(i+V5(h,a,s,d)+Wd[g[S]]+f,v[S])+l|0;i=l,l=d,d=ko(s,10)|0,s=a,a=w}for(let S=0;S<16;S++){let w=ko(r+V5(p,o,u,m)+Wd[k[S]]+y,E[S])+c|0;r=c,c=m,m=ko(u,10)|0,u=o,o=w}}this.set(this.h1+s+m|0,this.h2+d+c|0,this.h3+l+r|0,this.h4+i+o|0,this.h0+a+u|0)}roundClean(){Wd.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},W5=Ma(()=>new C4);var Aj=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),hi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gi=new Uint32Array(64),F4=class extends pi{constructor(){super(64,32,8,!1),this.A=hi[0]|0,this.B=hi[1]|0,this.C=hi[2]|0,this.D=hi[3]|0,this.E=hi[4]|0,this.F=hi[5]|0,this.G=hi[6]|0,this.H=hi[7]|0}get(){let{A:n,B:t,C:i,D:r,E:a,F:o,G:s,H:u}=this;return[n,t,i,r,a,o,s,u]}set(n,t,i,r,a,o,s,u){this.A=n|0,this.B=t|0,this.C=i|0,this.D=r|0,this.E=a|0,this.F=o|0,this.G=s|0,this.H=u|0}process(n,t){for(let l=0;l<16;l++,t+=4)gi[l]=n.getUint32(t,!1);for(let l=16;l<64;l++){let c=gi[l-15],h=gi[l-2],p=Kn(c,7)^Kn(c,18)^c>>>3,f=Kn(h,17)^Kn(h,19)^h>>>10;gi[l]=f+gi[l-7]+p+gi[l-16]|0}let{A:i,B:r,C:a,D:o,E:s,F:u,G:d,H:m}=this;for(let l=0;l<64;l++){let c=Kn(s,6)^Kn(s,11)^Kn(s,25),h=m+c+U5(s,u,d)+Aj[l]+gi[l]|0,f=(Kn(i,2)^Kn(i,13)^Kn(i,22))+K5(i,r,a)|0;m=d,d=u,u=s,s=o+h|0,o=a,a=r,r=i,i=h+f|0}i=i+this.A|0,r=r+this.B|0,a=a+this.C|0,o=o+this.D|0,s=s+this.E|0,u=u+this.F|0,d=d+this.G|0,m=m+this.H|0,this.set(i,r,a,o,s,u,d,m)}roundClean(){gi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var _o=Ma(()=>new F4);var Zd=BigInt(4294967295),B4=BigInt(32);function Z5(e,n=!1){return n?{h:Number(e&Zd),l:Number(e>>B4&Zd)}:{h:Number(e>>B4&Zd)|0,l:Number(e&Zd)|0}}function Oj(e,n=!1){let t=new Uint32Array(e.length),i=new Uint32Array(e.length);for(let r=0;r<e.length;r++){let{h:a,l:o}=Z5(e[r],n);[t[r],i[r]]=[a,o]}return[t,i]}var Tj=(e,n)=>BigInt(e>>>0)<<B4|BigInt(n>>>0),Nj=(e,n,t)=>e>>>t,Ij=(e,n,t)=>e<<32-t|n>>>t,Pj=(e,n,t)=>e>>>t|n<<32-t,Mj=(e,n,t)=>e<<32-t|n>>>t,Cj=(e,n,t)=>e<<64-t|n>>>t-32,Dj=(e,n,t)=>e>>>t-32|n<<64-t,jj=(e,n)=>n,Fj=(e,n)=>e,Bj=(e,n,t)=>e<<t|n>>>32-t,qj=(e,n,t)=>n<<t|e>>>32-t,Lj=(e,n,t)=>n<<t-32|e>>>64-t,zj=(e,n,t)=>e<<t-32|n>>>64-t;function Rj(e,n,t,i){let r=(n>>>0)+(i>>>0);return{h:e+t+(r/2**32|0)|0,l:r|0}}var Uj=(e,n,t)=>(e>>>0)+(n>>>0)+(t>>>0),Kj=(e,n,t,i)=>n+t+i+(e/2**32|0)|0,Vj=(e,n,t,i)=>(e>>>0)+(n>>>0)+(t>>>0)+(i>>>0),Hj=(e,n,t,i,r)=>n+t+i+r+(e/2**32|0)|0,Gj=(e,n,t,i,r)=>(e>>>0)+(n>>>0)+(t>>>0)+(i>>>0)+(r>>>0),Wj=(e,n,t,i,r,a)=>n+t+i+r+a+(e/2**32|0)|0;var Zj={fromBig:Z5,split:Oj,toBig:Tj,shrSH:Nj,shrSL:Ij,rotrSH:Pj,rotrSL:Mj,rotrBH:Cj,rotrBL:Dj,rotr32H:jj,rotr32L:Fj,rotlSH:Bj,rotlSL:qj,rotlBH:Lj,rotlBL:zj,add:Rj,add3L:Uj,add3H:Kj,add4L:Vj,add4H:Hj,add5H:Wj,add5L:Gj},oe=Zj;var[$j,Qj]=oe.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),vi=new Uint32Array(80),bi=new Uint32Array(80),q4=class extends pi{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:n,Al:t,Bh:i,Bl:r,Ch:a,Cl:o,Dh:s,Dl:u,Eh:d,El:m,Fh:l,Fl:c,Gh:h,Gl:p,Hh:f,Hl:y}=this;return[n,t,i,r,a,o,s,u,d,m,l,c,h,p,f,y]}set(n,t,i,r,a,o,s,u,d,m,l,c,h,p,f,y){this.Ah=n|0,this.Al=t|0,this.Bh=i|0,this.Bl=r|0,this.Ch=a|0,this.Cl=o|0,this.Dh=s|0,this.Dl=u|0,this.Eh=d|0,this.El=m|0,this.Fh=l|0,this.Fl=c|0,this.Gh=h|0,this.Gl=p|0,this.Hh=f|0,this.Hl=y|0}process(n,t){for(let v=0;v<16;v++,t+=4)vi[v]=n.getUint32(t),bi[v]=n.getUint32(t+=4);for(let v=16;v<80;v++){let E=vi[v-15]|0,S=bi[v-15]|0,w=oe.rotrSH(E,S,1)^oe.rotrSH(E,S,8)^oe.shrSH(E,S,7),O=oe.rotrSL(E,S,1)^oe.rotrSL(E,S,8)^oe.shrSL(E,S,7),I=vi[v-2]|0,D=bi[v-2]|0,W=oe.rotrSH(I,D,19)^oe.rotrBH(I,D,61)^oe.shrSH(I,D,6),R=oe.rotrSL(I,D,19)^oe.rotrBL(I,D,61)^oe.shrSL(I,D,6),Q=oe.add4L(O,R,bi[v-7],bi[v-16]),se=oe.add4H(Q,w,W,vi[v-7],vi[v-16]);vi[v]=se|0,bi[v]=Q|0}let{Ah:i,Al:r,Bh:a,Bl:o,Ch:s,Cl:u,Dh:d,Dl:m,Eh:l,El:c,Fh:h,Fl:p,Gh:f,Gl:y,Hh:g,Hl:k}=this;for(let v=0;v<80;v++){let E=oe.rotrSH(l,c,14)^oe.rotrSH(l,c,18)^oe.rotrBH(l,c,41),S=oe.rotrSL(l,c,14)^oe.rotrSL(l,c,18)^oe.rotrBL(l,c,41),w=l&h^~l&f,O=c&p^~c&y,I=oe.add5L(k,S,O,Qj[v],bi[v]),D=oe.add5H(I,g,E,w,$j[v],vi[v]),W=I|0,R=oe.rotrSH(i,r,28)^oe.rotrBH(i,r,34)^oe.rotrBH(i,r,39),Q=oe.rotrSL(i,r,28)^oe.rotrBL(i,r,34)^oe.rotrBL(i,r,39),se=i&a^i&s^a&s,F=r&o^r&u^o&u;g=f|0,k=y|0,f=h|0,y=p|0,h=l|0,p=c|0,{h:l,l:c}=oe.add(d|0,m|0,D|0,W|0),d=s|0,m=u|0,s=a|0,u=o|0,a=i|0,o=r|0;let A=oe.add3L(W,Q,F);i=oe.add3H(A,D,R,se),r=A|0}({h:i,l:r}=oe.add(this.Ah|0,this.Al|0,i|0,r|0)),{h:a,l:o}=oe.add(this.Bh|0,this.Bl|0,a|0,o|0),{h:s,l:u}=oe.add(this.Ch|0,this.Cl|0,s|0,u|0),{h:d,l:m}=oe.add(this.Dh|0,this.Dl|0,d|0,m|0),{h:l,l:c}=oe.add(this.Eh|0,this.El|0,l|0,c|0),{h,l:p}=oe.add(this.Fh|0,this.Fl|0,h|0,p|0),{h:f,l:y}=oe.add(this.Gh|0,this.Gl|0,f|0,y|0),{h:g,l:k}=oe.add(this.Hh|0,this.Hl|0,g|0,k|0),this.set(i,r,a,o,s,u,d,m,l,c,h,p,f,y,g,k)}roundClean(){vi.fill(0),bi.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var L4=Ma(()=>new q4);var H4={};A0(H4,{aInRange:()=>_i,abool:()=>gr,abytes:()=>Da,bitGet:()=>tF,bitLen:()=>K4,bitMask:()=>So,bitSet:()=>iF,bytesToHex:()=>vr,bytesToNumberBE:()=>Tt,bytesToNumberLE:()=>Yd,concatBytes:()=>ja,createHmacDrbg:()=>V4,ensureBytes:()=>ln,equalBytes:()=>eF,hexToBytes:()=>kr,hexToNumber:()=>U4,inRange:()=>wo,isBytes:()=>ki,memoized:()=>Xd,notImplemented:()=>aF,numberToBytesBE:()=>Ei,numberToBytesLE:()=>Jd,numberToHexUnpadded:()=>br,numberToVarBytesBE:()=>Xj,utf8ToBytes:()=>nF,validateObject:()=>wi});var $d=BigInt(0),Qd=BigInt(1),Yj=BigInt(2);function ki(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Da(e){if(!ki(e))throw new Error("Uint8Array expected")}function gr(e,n){if(typeof n!="boolean")throw new Error(e+" boolean expected, got "+n)}var Jj=Array.from({length:256},(e,n)=>n.toString(16).padStart(2,"0"));function vr(e){Da(e);let n="";for(let t=0;t<e.length;t++)n+=Jj[e[t]];return n}function br(e){let n=e.toString(16);return n.length&1?"0"+n:n}function U4(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?$d:BigInt("0x"+e)}var Ot={_0:48,_9:57,A:65,F:70,a:97,f:102};function $5(e){if(e>=Ot._0&&e<=Ot._9)return e-Ot._0;if(e>=Ot.A&&e<=Ot.F)return e-(Ot.A-10);if(e>=Ot.a&&e<=Ot.f)return e-(Ot.a-10)}function kr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let n=e.length,t=n/2;if(n%2)throw new Error("hex string expected, got unpadded hex of length "+n);let i=new Uint8Array(t);for(let r=0,a=0;r<t;r++,a+=2){let o=$5(e.charCodeAt(a)),s=$5(e.charCodeAt(a+1));if(o===void 0||s===void 0){let u=e[a]+e[a+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+a)}i[r]=o*16+s}return i}function Tt(e){return U4(vr(e))}function Yd(e){return Da(e),U4(vr(Uint8Array.from(e).reverse()))}function Ei(e,n){return kr(e.toString(16).padStart(n*2,"0"))}function Jd(e,n){return Ei(e,n).reverse()}function Xj(e){return kr(br(e))}function ln(e,n,t){let i;if(typeof n=="string")try{i=kr(n)}catch(a){throw new Error(e+" must be hex string or Uint8Array, cause: "+a)}else if(ki(n))i=Uint8Array.from(n);else throw new Error(e+" must be hex string or Uint8Array");let r=i.length;if(typeof t=="number"&&r!==t)throw new Error(e+" of length "+t+" expected, got "+r);return i}function ja(...e){let n=0;for(let i=0;i<e.length;i++){let r=e[i];Da(r),n+=r.length}let t=new Uint8Array(n);for(let i=0,r=0;i<e.length;i++){let a=e[i];t.set(a,r),r+=a.length}return t}function eF(e,n){if(e.length!==n.length)return!1;let t=0;for(let i=0;i<e.length;i++)t|=e[i]^n[i];return t===0}function nF(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}var z4=e=>typeof e=="bigint"&&$d<=e;function wo(e,n,t){return z4(e)&&z4(n)&&z4(t)&&n<=e&&e<t}function _i(e,n,t,i){if(!wo(n,t,i))throw new Error("expected valid "+e+": "+t+" <= n < "+i+", got "+n)}function K4(e){let n;for(n=0;e>$d;e>>=Qd,n+=1);return n}function tF(e,n){return e>>BigInt(n)&Qd}function iF(e,n,t){return e|(t?Qd:$d)<<BigInt(n)}var So=e=>(Yj<<BigInt(e-1))-Qd,R4=e=>new Uint8Array(e),Q5=e=>Uint8Array.from(e);function V4(e,n,t){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof n!="number"||n<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let i=R4(e),r=R4(e),a=0,o=()=>{i.fill(1),r.fill(0),a=0},s=(...l)=>t(r,i,...l),u=(l=R4())=>{r=s(Q5([0]),l),i=s(),l.length!==0&&(r=s(Q5([1]),l),i=s())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let l=0,c=[];for(;l<n;){i=s();let h=i.slice();c.push(h),l+=i.length}return ja(...c)};return(l,c)=>{o(),u(l);let h;for(;!(h=c(d()));)u();return o(),h}}var rF={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||ki(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,n)=>n.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function wi(e,n,t={}){let i=(r,a,o)=>{let s=rF[a];if(typeof s!="function")throw new Error("invalid validator function");let u=e[r];if(!(o&&u===void 0)&&!s(u,e))throw new Error("param "+String(r)+" is invalid. Expected "+a+", got "+u)};for(let[r,a]of Object.entries(n))i(r,a,!1);for(let[r,a]of Object.entries(t))i(r,a,!0);return e}var aF=()=>{throw new Error("not implemented")};function Xd(e){let n=new WeakMap;return(t,...i)=>{let r=n.get(t);if(r!==void 0)return r;let a=e(t,...i);return n.set(t,a),a}}var Pe=BigInt(0),Oe=BigInt(1),Er=BigInt(2),oF=BigInt(3),G4=BigInt(4),Y5=BigInt(5),J5=BigInt(8),sF=BigInt(9),uF=BigInt(16);function Ce(e,n){let t=e%n;return t>=Pe?t:n+t}function dF(e,n,t){if(n<Pe)throw new Error("invalid exponent, negatives unsupported");if(t<=Pe)throw new Error("invalid modulus");if(t===Oe)return Pe;let i=Oe;for(;n>Pe;)n&Oe&&(i=i*e%t),e=e*e%t,n>>=Oe;return i}function cn(e,n,t){let i=e;for(;n-- >Pe;)i*=i,i%=t;return i}function em(e,n){if(e===Pe)throw new Error("invert: expected non-zero number");if(n<=Pe)throw new Error("invert: expected positive modulus, got "+n);let t=Ce(e,n),i=n,r=Pe,a=Oe,o=Oe,s=Pe;for(;t!==Pe;){let d=i/t,m=i%t,l=r-o*d,c=a-s*d;i=t,t=m,r=o,a=s,o=l,s=c}if(i!==Oe)throw new Error("invert: does not exist");return Ce(r,n)}function mF(e){let n=(e-Oe)/Er,t,i,r;for(t=e-Oe,i=0;t%Er===Pe;t/=Er,i++);for(r=Er;r<e&&dF(r,n,e)!==e-Oe;r++)if(r>1e3)throw new Error("Cannot find square root: likely non-prime P");if(i===1){let o=(e+Oe)/G4;return function(u,d){let m=u.pow(d,o);if(!u.eql(u.sqr(m),d))throw new Error("Cannot find square root");return m}}let a=(t+Oe)/Er;return function(s,u){if(s.pow(u,n)===s.neg(s.ONE))throw new Error("Cannot find square root");let d=i,m=s.pow(s.mul(s.ONE,r),t),l=s.pow(u,a),c=s.pow(u,t);for(;!s.eql(c,s.ONE);){if(s.eql(c,s.ZERO))return s.ZERO;let h=1;for(let f=s.sqr(c);h<d&&!s.eql(f,s.ONE);h++)f=s.sqr(f);let p=s.pow(m,Oe<<BigInt(d-h-1));m=s.sqr(p),l=s.mul(l,p),c=s.mul(c,m),d=h}return l}}function lF(e){if(e%G4===oF){let n=(e+Oe)/G4;return function(i,r){let a=i.pow(r,n);if(!i.eql(i.sqr(a),r))throw new Error("Cannot find square root");return a}}if(e%J5===Y5){let n=(e-Y5)/J5;return function(i,r){let a=i.mul(r,Er),o=i.pow(a,n),s=i.mul(r,o),u=i.mul(i.mul(s,Er),o),d=i.mul(s,i.sub(u,i.ONE));if(!i.eql(i.sqr(d),r))throw new Error("Cannot find square root");return d}}return e%uF,mF(e)}var cF=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function W4(e){let n={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=cF.reduce((i,r)=>(i[r]="function",i),n);return wi(e,t)}function yF(e,n,t){if(t<Pe)throw new Error("invalid exponent, negatives unsupported");if(t===Pe)return e.ONE;if(t===Oe)return n;let i=e.ONE,r=n;for(;t>Pe;)t&Oe&&(i=e.mul(i,r)),r=e.sqr(r),t>>=Oe;return i}function xF(e,n){let t=new Array(n.length),i=n.reduce((a,o,s)=>e.is0(o)?a:(t[s]=a,e.mul(a,o)),e.ONE),r=e.inv(i);return n.reduceRight((a,o,s)=>e.is0(o)?a:(t[s]=e.mul(a,t[s]),e.mul(a,o)),r),t}function Z4(e,n){let t=n!==void 0?n:e.toString(2).length,i=Math.ceil(t/8);return{nBitLength:t,nByteLength:i}}function nm(e,n,t=!1,i={}){if(e<=Pe)throw new Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:r,nByteLength:a}=Z4(e,n);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o,s=Object.freeze({ORDER:e,isLE:t,BITS:r,BYTES:a,MASK:So(r),ZERO:Pe,ONE:Oe,create:u=>Ce(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Pe<=u&&u<e},is0:u=>u===Pe,isOdd:u=>(u&Oe)===Oe,neg:u=>Ce(-u,e),eql:(u,d)=>u===d,sqr:u=>Ce(u*u,e),add:(u,d)=>Ce(u+d,e),sub:(u,d)=>Ce(u-d,e),mul:(u,d)=>Ce(u*d,e),pow:(u,d)=>yF(s,u,d),div:(u,d)=>Ce(u*em(d,e),e),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>em(u,e),sqrt:i.sqrt||(u=>(o||(o=lF(e)),o(s,u))),invertBatch:u=>xF(s,u),cmov:(u,d,m)=>m?d:u,toBytes:u=>t?Jd(u,a):Ei(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return t?Yd(u):Tt(u)}});return Object.freeze(s)}function X5(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let n=e.toString(2).length;return Math.ceil(n/8)}function $4(e){let n=X5(e);return n+Math.ceil(n/2)}function e9(e,n,t=!1){let i=e.length,r=X5(n),a=$4(n);if(i<16||i<a||i>1024)throw new Error("expected "+a+"-1024 bytes of input, got "+i);let o=t?Yd(e):Tt(e),s=Ce(o,n-Oe)+Oe;return t?Jd(s,r):Ei(s,r)}var n9=BigInt(0),tm=BigInt(1);function Q4(e,n){let t=n.negate();return e?t:n}function t9(e,n){if(!Number.isSafeInteger(e)||e<=0||e>n)throw new Error("invalid window size, expected [1.."+n+"], got W="+e)}function Y4(e,n){t9(e,n);let t=Math.ceil(n/e)+1,i=2**(e-1);return{windows:t,windowSize:i}}function pF(e,n){if(!Array.isArray(e))throw new Error("array expected");e.forEach((t,i)=>{if(!(t instanceof n))throw new Error("invalid point at index "+i)})}function hF(e,n){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((t,i)=>{if(!n.isValid(t))throw new Error("invalid scalar at index "+i)})}var J4=new WeakMap,i9=new WeakMap;function X4(e){return i9.get(e)||1}function r9(e,n){return{constTimeNegate:Q4,hasPrecomputes(t){return X4(t)!==1},unsafeLadder(t,i,r=e.ZERO){let a=t;for(;i>n9;)i&tm&&(r=r.add(a)),a=a.double(),i>>=tm;return r},precomputeWindow(t,i){let{windows:r,windowSize:a}=Y4(i,n),o=[],s=t,u=s;for(let d=0;d<r;d++){u=s,o.push(u);for(let m=1;m<a;m++)u=u.add(s),o.push(u);s=u.double()}return o},wNAF(t,i,r){let{windows:a,windowSize:o}=Y4(t,n),s=e.ZERO,u=e.BASE,d=BigInt(2**t-1),m=2**t,l=BigInt(t);for(let c=0;c<a;c++){let h=c*o,p=Number(r&d);r>>=l,p>o&&(p-=m,r+=tm);let f=h,y=h+Math.abs(p)-1,g=c%2!==0,k=p<0;p===0?u=u.add(Q4(g,i[f])):s=s.add(Q4(k,i[y]))}return{p:s,f:u}},wNAFUnsafe(t,i,r,a=e.ZERO){let{windows:o,windowSize:s}=Y4(t,n),u=BigInt(2**t-1),d=2**t,m=BigInt(t);for(let l=0;l<o;l++){let c=l*s;if(r===n9)break;let h=Number(r&u);if(r>>=m,h>s&&(h-=d,r+=tm),h===0)continue;let p=i[c+Math.abs(h)-1];h<0&&(p=p.negate()),a=a.add(p)}return a},getPrecomputes(t,i,r){let a=J4.get(i);return a||(a=this.precomputeWindow(i,t),t!==1&&J4.set(i,r(a))),a},wNAFCached(t,i,r){let a=X4(t);return this.wNAF(a,this.getPrecomputes(a,t,r),i)},wNAFCachedUnsafe(t,i,r,a){let o=X4(t);return o===1?this.unsafeLadder(t,i,a):this.wNAFUnsafe(o,this.getPrecomputes(o,t,r),i,a)},setWindowSize(t,i){t9(i,n),i9.set(t,i),J4.delete(t)}}}function a9(e,n,t,i){if(pF(t,e),hF(i,n),t.length!==i.length)throw new Error("arrays of points and scalars must have equal length");let r=e.ZERO,a=K4(BigInt(t.length)),o=a>12?a-3:a>4?a-2:a?2:1,s=(1<<o)-1,u=new Array(s+1).fill(r),d=Math.floor((n.BITS-1)/o)*o,m=r;for(let l=d;l>=0;l-=o){u.fill(r);for(let h=0;h<i.length;h++){let p=i[h],f=Number(p>>BigInt(l)&BigInt(s));u[f]=u[f].add(t[h])}let c=r;for(let h=u.length-1,p=r;h>0;h--)p=p.add(u[h]),c=c.add(p);if(m=m.add(c),l!==0)for(let h=0;h<o;h++)m=m.double()}return m}function e0(e){return W4(e.Fp),wi(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Z4(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function o9(e){e.lowS!==void 0&&gr("lowS",e.lowS),e.prehash!==void 0&&gr("prehash",e.prehash)}function gF(e){let n=e0(e);wi(n,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:t,Fp:i,a:r}=n;if(t){if(!i.eql(r,i.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...n})}var{bytesToNumberBE:vF,hexToBytes:bF}=H4,n0=class extends Error{constructor(n=""){super(n)}},Nt={Err:n0,_tlv:{encode:(e,n)=>{let{Err:t}=Nt;if(e<0||e>256)throw new t("tlv.encode: wrong tag");if(n.length&1)throw new t("tlv.encode: unpadded data");let i=n.length/2,r=br(i);if(r.length/2&128)throw new t("tlv.encode: long form length too big");let a=i>127?br(r.length/2|128):"";return br(e)+a+r+n},decode(e,n){let{Err:t}=Nt,i=0;if(e<0||e>256)throw new t("tlv.encode: wrong tag");if(n.length<2||n[i++]!==e)throw new t("tlv.decode: wrong tlv");let r=n[i++],a=!!(r&128),o=0;if(!a)o=r;else{let u=r&127;if(!u)throw new t("tlv.decode(long): indefinite length not supported");if(u>4)throw new t("tlv.decode(long): byte length is too big");let d=n.subarray(i,i+u);if(d.length!==u)throw new t("tlv.decode: length bytes not complete");if(d[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(let m of d)o=o<<8|m;if(i+=u,o<128)throw new t("tlv.decode(long): not minimal encoding")}let s=n.subarray(i,i+o);if(s.length!==o)throw new t("tlv.decode: wrong value length");return{v:s,l:n.subarray(i+o)}}},_int:{encode(e){let{Err:n}=Nt;if(e<It)throw new n("integer: negative integers are not allowed");let t=br(e);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new n("unexpected DER parsing assertion: unpadded hex");return t},decode(e){let{Err:n}=Nt;if(e[0]&128)throw new n("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new n("invalid signature integer: unnecessary leading zero");return vF(e)}},toSig(e){let{Err:n,_int:t,_tlv:i}=Nt,r=typeof e=="string"?bF(e):e;Da(r);let{v:a,l:o}=i.decode(48,r);if(o.length)throw new n("invalid signature: left bytes after parsing");let{v:s,l:u}=i.decode(2,a),{v:d,l:m}=i.decode(2,u);if(m.length)throw new n("invalid signature: left bytes after parsing");return{r:t.decode(s),s:t.decode(d)}},hexFromSig(e){let{_tlv:n,_int:t}=Nt,i=n.encode(2,t.encode(e.r)),r=n.encode(2,t.encode(e.s)),a=i+r;return n.encode(48,a)}},It=BigInt(0),De=BigInt(1),OZ=BigInt(2),s9=BigInt(3),TZ=BigInt(4);function kF(e){let n=gF(e),{Fp:t}=n,i=nm(n.n,n.nBitLength),r=n.toBytes||((f,y,g)=>{let k=y.toAffine();return ja(Uint8Array.from([4]),t.toBytes(k.x),t.toBytes(k.y))}),a=n.fromBytes||(f=>{let y=f.subarray(1),g=t.fromBytes(y.subarray(0,t.BYTES)),k=t.fromBytes(y.subarray(t.BYTES,2*t.BYTES));return{x:g,y:k}});function o(f){let{a:y,b:g}=n,k=t.sqr(f),v=t.mul(k,f);return t.add(t.add(v,t.mul(f,y)),g)}if(!t.eql(t.sqr(n.Gy),o(n.Gx)))throw new Error("bad generator point: equation left != right");function s(f){return wo(f,De,n.n)}function u(f){let{allowedPrivateKeyLengths:y,nByteLength:g,wrapPrivateKey:k,n:v}=n;if(y&&typeof f!="bigint"){if(ki(f)&&(f=vr(f)),typeof f!="string"||!y.includes(f.length))throw new Error("invalid private key");f=f.padStart(g*2,"0")}let E;try{E=typeof f=="bigint"?f:Tt(ln("private key",f,g))}catch{throw new Error("invalid private key, expected hex or "+g+" bytes, got "+typeof f)}return k&&(E=Ce(E,v)),_i("private key",E,De,v),E}function d(f){if(!(f instanceof c))throw new Error("ProjectivePoint expected")}let m=Xd((f,y)=>{let{px:g,py:k,pz:v}=f;if(t.eql(v,t.ONE))return{x:g,y:k};let E=f.is0();y==null&&(y=E?t.ONE:t.inv(v));let S=t.mul(g,y),w=t.mul(k,y),O=t.mul(v,y);if(E)return{x:t.ZERO,y:t.ZERO};if(!t.eql(O,t.ONE))throw new Error("invZ was invalid");return{x:S,y:w}}),l=Xd(f=>{if(f.is0()){if(n.allowInfinityPoint&&!t.is0(f.py))return;throw new Error("bad point: ZERO")}let{x:y,y:g}=f.toAffine();if(!t.isValid(y)||!t.isValid(g))throw new Error("bad point: x or y not FE");let k=t.sqr(g),v=o(y);if(!t.eql(k,v))throw new Error("bad point: equation left != right");if(!f.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class c{constructor(y,g,k){if(this.px=y,this.py=g,this.pz=k,y==null||!t.isValid(y))throw new Error("x required");if(g==null||!t.isValid(g))throw new Error("y required");if(k==null||!t.isValid(k))throw new Error("z required");Object.freeze(this)}static fromAffine(y){let{x:g,y:k}=y||{};if(!y||!t.isValid(g)||!t.isValid(k))throw new Error("invalid affine point");if(y instanceof c)throw new Error("projective point not allowed");let v=E=>t.eql(E,t.ZERO);return v(g)&&v(k)?c.ZERO:new c(g,k,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){let g=t.invertBatch(y.map(k=>k.pz));return y.map((k,v)=>k.toAffine(g[v])).map(c.fromAffine)}static fromHex(y){let g=c.fromAffine(a(ln("pointHex",y)));return g.assertValidity(),g}static fromPrivateKey(y){return c.BASE.multiply(u(y))}static msm(y,g){return a9(c,i,y,g)}_setWindowSize(y){p.setWindowSize(this,y)}assertValidity(){l(this)}hasEvenY(){let{y}=this.toAffine();if(t.isOdd)return!t.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){d(y);let{px:g,py:k,pz:v}=this,{px:E,py:S,pz:w}=y,O=t.eql(t.mul(g,w),t.mul(E,v)),I=t.eql(t.mul(k,w),t.mul(S,v));return O&&I}negate(){return new c(this.px,t.neg(this.py),this.pz)}double(){let{a:y,b:g}=n,k=t.mul(g,s9),{px:v,py:E,pz:S}=this,w=t.ZERO,O=t.ZERO,I=t.ZERO,D=t.mul(v,v),W=t.mul(E,E),R=t.mul(S,S),Q=t.mul(v,E);return Q=t.add(Q,Q),I=t.mul(v,S),I=t.add(I,I),w=t.mul(y,I),O=t.mul(k,R),O=t.add(w,O),w=t.sub(W,O),O=t.add(W,O),O=t.mul(w,O),w=t.mul(Q,w),I=t.mul(k,I),R=t.mul(y,R),Q=t.sub(D,R),Q=t.mul(y,Q),Q=t.add(Q,I),I=t.add(D,D),D=t.add(I,D),D=t.add(D,R),D=t.mul(D,Q),O=t.add(O,D),R=t.mul(E,S),R=t.add(R,R),D=t.mul(R,Q),w=t.sub(w,D),I=t.mul(R,W),I=t.add(I,I),I=t.add(I,I),new c(w,O,I)}add(y){d(y);let{px:g,py:k,pz:v}=this,{px:E,py:S,pz:w}=y,O=t.ZERO,I=t.ZERO,D=t.ZERO,W=n.a,R=t.mul(n.b,s9),Q=t.mul(g,E),se=t.mul(k,S),F=t.mul(v,w),A=t.add(g,k),T=t.add(E,S);A=t.mul(A,T),T=t.add(Q,se),A=t.sub(A,T),T=t.add(g,v);let B=t.add(E,w);return T=t.mul(T,B),B=t.add(Q,F),T=t.sub(T,B),B=t.add(k,v),O=t.add(S,w),B=t.mul(B,O),O=t.add(se,F),B=t.sub(B,O),D=t.mul(W,T),O=t.mul(R,F),D=t.add(O,D),O=t.sub(se,D),D=t.add(se,D),I=t.mul(O,D),se=t.add(Q,Q),se=t.add(se,Q),F=t.mul(W,F),T=t.mul(R,T),se=t.add(se,F),F=t.sub(Q,F),F=t.mul(W,F),T=t.add(T,F),Q=t.mul(se,T),I=t.add(I,Q),Q=t.mul(B,T),O=t.mul(A,O),O=t.sub(O,Q),Q=t.mul(A,se),D=t.mul(B,D),D=t.add(D,Q),new c(O,I,D)}subtract(y){return this.add(y.negate())}is0(){return this.equals(c.ZERO)}wNAF(y){return p.wNAFCached(this,y,c.normalizeZ)}multiplyUnsafe(y){let{endo:g,n:k}=n;_i("scalar",y,It,k);let v=c.ZERO;if(y===It)return v;if(this.is0()||y===De)return this;if(!g||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,y,c.normalizeZ);let{k1neg:E,k1:S,k2neg:w,k2:O}=g.splitScalar(y),I=v,D=v,W=this;for(;S>It||O>It;)S&De&&(I=I.add(W)),O&De&&(D=D.add(W)),W=W.double(),S>>=De,O>>=De;return E&&(I=I.negate()),w&&(D=D.negate()),D=new c(t.mul(D.px,g.beta),D.py,D.pz),I.add(D)}multiply(y){let{endo:g,n:k}=n;_i("scalar",y,De,k);let v,E;if(g){let{k1neg:S,k1:w,k2neg:O,k2:I}=g.splitScalar(y),{p:D,f:W}=this.wNAF(w),{p:R,f:Q}=this.wNAF(I);D=p.constTimeNegate(S,D),R=p.constTimeNegate(O,R),R=new c(t.mul(R.px,g.beta),R.py,R.pz),v=D.add(R),E=W.add(Q)}else{let{p:S,f:w}=this.wNAF(y);v=S,E=w}return c.normalizeZ([v,E])[0]}multiplyAndAddUnsafe(y,g,k){let v=c.BASE,E=(w,O)=>O===It||O===De||!w.equals(v)?w.multiplyUnsafe(O):w.multiply(O),S=E(this,g).add(E(y,k));return S.is0()?void 0:S}toAffine(y){return m(this,y)}isTorsionFree(){let{h:y,isTorsionFree:g}=n;if(y===De)return!0;if(g)return g(c,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:y,clearCofactor:g}=n;return y===De?this:g?g(c,this):this.multiplyUnsafe(n.h)}toRawBytes(y=!0){return gr("isCompressed",y),this.assertValidity(),r(c,this,y)}toHex(y=!0){return gr("isCompressed",y),vr(this.toRawBytes(y))}}c.BASE=new c(n.Gx,n.Gy,t.ONE),c.ZERO=new c(t.ZERO,t.ONE,t.ZERO);let h=n.nBitLength,p=r9(c,n.endo?Math.ceil(h/2):h);return{CURVE:n,ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:o,isWithinCurveOrder:s}}function EF(e){let n=e0(e);return wi(n,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...n})}function u9(e){let n=EF(e),{Fp:t,n:i}=n,r=t.BYTES+1,a=2*t.BYTES+1;function o(F){return Ce(F,i)}function s(F){return em(F,i)}let{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:m,isWithinCurveOrder:l}=kF({...n,toBytes(F,A,T){let B=A.toAffine(),Z=t.toBytes(B.x),X=ja;return gr("isCompressed",T),T?X(Uint8Array.from([A.hasEvenY()?2:3]),Z):X(Uint8Array.from([4]),Z,t.toBytes(B.y))},fromBytes(F){let A=F.length,T=F[0],B=F.subarray(1);if(A===r&&(T===2||T===3)){let Z=Tt(B);if(!wo(Z,De,t.ORDER))throw new Error("Point is not on curve");let X=m(Z),ue;try{ue=t.sqrt(X)}catch(Se){let ve=Se instanceof Error?": "+Se.message:"";throw new Error("Point is not on curve"+ve)}let me=(ue&De)===De;return(T&1)===1!==me&&(ue=t.neg(ue)),{x:Z,y:ue}}else if(A===a&&T===4){let Z=t.fromBytes(B.subarray(0,t.BYTES)),X=t.fromBytes(B.subarray(t.BYTES,2*t.BYTES));return{x:Z,y:X}}else{let Z=r,X=a;throw new Error("invalid Point, expected length of "+Z+", or uncompressed "+X+", got "+A)}}}),c=F=>vr(Ei(F,n.nByteLength));function h(F){let A=i>>De;return F>A}function p(F){return h(F)?o(-F):F}let f=(F,A,T)=>Tt(F.slice(A,T));class y{constructor(A,T,B){this.r=A,this.s=T,this.recovery=B,this.assertValidity()}static fromCompact(A){let T=n.nByteLength;return A=ln("compactSignature",A,T*2),new y(f(A,0,T),f(A,T,2*T))}static fromDER(A){let{r:T,s:B}=Nt.toSig(ln("DER",A));return new y(T,B)}assertValidity(){_i("r",this.r,De,i),_i("s",this.s,De,i)}addRecoveryBit(A){return new y(this.r,this.s,A)}recoverPublicKey(A){let{r:T,s:B,recovery:Z}=this,X=w(ln("msgHash",A));if(Z==null||![0,1,2,3].includes(Z))throw new Error("recovery id invalid");let ue=Z===2||Z===3?T+n.n:T;if(ue>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");let me=Z&1?"03":"02",ge=u.fromHex(me+c(ue)),Se=s(ue),ve=o(-X*Se),We=o(B*Se),Re=u.BASE.multiplyAndAddUnsafe(ge,ve,We);if(!Re)throw new Error("point at infinify");return Re.assertValidity(),Re}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return kr(this.toDERHex())}toDERHex(){return Nt.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return kr(this.toCompactHex())}toCompactHex(){return c(this.r)+c(this.s)}}let g={isValidPrivateKey(F){try{return d(F),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{let F=$4(n.n);return e9(n.randomBytes(F),n.n)},precompute(F=8,A=u.BASE){return A._setWindowSize(F),A.multiply(BigInt(3)),A}};function k(F,A=!0){return u.fromPrivateKey(F).toRawBytes(A)}function v(F){let A=ki(F),T=typeof F=="string",B=(A||T)&&F.length;return A?B===r||B===a:T?B===2*r||B===2*a:F instanceof u}function E(F,A,T=!0){if(v(F))throw new Error("first arg must be private key");if(!v(A))throw new Error("second arg must be public key");return u.fromHex(A).multiply(d(F)).toRawBytes(T)}let S=n.bits2int||function(F){if(F.length>8192)throw new Error("input is too large");let A=Tt(F),T=F.length*8-n.nBitLength;return T>0?A>>BigInt(T):A},w=n.bits2int_modN||function(F){return o(S(F))},O=So(n.nBitLength);function I(F){return _i("num < 2^"+n.nBitLength,F,It,O),Ei(F,n.nByteLength)}function D(F,A,T=W){if(["recovered","canonical"].some(yn=>yn in T))throw new Error("sign() legacy options not supported");let{hash:B,randomBytes:Z}=n,{lowS:X,prehash:ue,extraEntropy:me}=T;X==null&&(X=!0),F=ln("msgHash",F),o9(T),ue&&(F=ln("prehashed msgHash",B(F)));let ge=w(F),Se=d(A),ve=[I(Se),I(ge)];if(me!=null&&me!==!1){let yn=me===!0?Z(t.BYTES):me;ve.push(ln("extraEntropy",yn))}let We=ja(...ve),Re=ge;function nn(yn){let Ue=S(yn);if(!l(Ue))return;let In=s(Ue),st=u.BASE.multiply(Ue).toAffine(),Te=o(st.x);if(Te===It)return;let tn=o(In*o(Re+Te*Se));if(tn===It)return;let xn=(st.x===Te?0:2)|Number(st.y&De),wr=tn;return X&&h(tn)&&(wr=p(tn),xn^=1),new y(Te,wr,xn)}return{seed:We,k2sig:nn}}let W={lowS:n.lowS,prehash:!1},R={lowS:n.lowS,prehash:!1};function Q(F,A,T=W){let{seed:B,k2sig:Z}=D(F,A,T),X=n;return V4(X.hash.outputLen,X.nByteLength,X.hmac)(B,Z)}u.BASE._setWindowSize(8);function se(F,A,T,B=R){let Z=F;A=ln("msgHash",A),T=ln("publicKey",T);let{lowS:X,prehash:ue,format:me}=B;if(o9(B),"strict"in B)throw new Error("options.strict was renamed to lowS");if(me!==void 0&&me!=="compact"&&me!=="der")throw new Error("format must be compact or der");let ge=typeof Z=="string"||ki(Z),Se=!ge&&!me&&typeof Z=="object"&&Z!==null&&typeof Z.r=="bigint"&&typeof Z.s=="bigint";if(!ge&&!Se)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ve,We;try{if(Se&&(ve=new y(Z.r,Z.s)),ge){try{me!=="compact"&&(ve=y.fromDER(Z))}catch(xn){if(!(xn instanceof Nt.Err))throw xn}!ve&&me!=="der"&&(ve=y.fromCompact(Z))}We=u.fromHex(T)}catch{return!1}if(!ve||X&&ve.hasHighS())return!1;ue&&(A=n.hash(A));let{r:Re,s:nn}=ve,yn=w(A),Ue=s(nn),In=o(yn*Ue),st=o(Re*Ue),Te=u.BASE.multiplyAndAddUnsafe(We,In,st)?.toAffine();return Te?o(Te.x)===Re:!1}return{CURVE:n,getPublicKey:k,getSharedSecret:E,sign:Q,verify:se,ProjectivePoint:u,Signature:y,utils:g}}function _F(e){return{hash:e,hmac:(n,...t)=>Ca(e,n,hr(...t)),randomBytes:R5}}function d9(e,n){let t=i=>u9({...e,..._F(i)});return{...t(n),create:t}}var c9=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),m9=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),wF=BigInt(1),t0=BigInt(2),l9=(e,n)=>(e+n/t0)/n;function SF(e){let n=c9,t=BigInt(3),i=BigInt(6),r=BigInt(11),a=BigInt(22),o=BigInt(23),s=BigInt(44),u=BigInt(88),d=e*e*e%n,m=d*d*e%n,l=cn(m,t,n)*m%n,c=cn(l,t,n)*m%n,h=cn(c,t0,n)*d%n,p=cn(h,r,n)*h%n,f=cn(p,a,n)*p%n,y=cn(f,s,n)*f%n,g=cn(y,u,n)*y%n,k=cn(g,s,n)*f%n,v=cn(k,t,n)*m%n,E=cn(v,o,n)*p%n,S=cn(E,i,n)*d%n,w=cn(S,t0,n);if(!i0.eql(i0.sqr(w),e))throw new Error("Cannot find square root");return w}var i0=nm(c9,void 0,void 0,{sqrt:SF}),Vn=d9({a:BigInt(0),b:BigInt(7),Fp:i0,n:m9,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let n=m9,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-wF*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),a=t,o=BigInt("0x100000000000000000000000000000000"),s=l9(a*e,n),u=l9(-i*e,n),d=Ce(e-s*t-u*r,n),m=Ce(-s*i-u*a,n),l=d>o,c=m>o;if(l&&(d=n-d),c&&(m=n-m),d>o||m>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:d,k2neg:c,k2:m}}}},_o),BZ=BigInt(0);var qZ=Vn.ProjectivePoint;function r0(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function x9(e,n){return Array.isArray(n)?n.length===0?!0:e?n.every(t=>typeof t=="string"):n.every(t=>Number.isSafeInteger(t)):!1}function AF(e){if(typeof e!="function")throw new Error("function expected");return!0}function a0(e,n){if(typeof n!="string")throw new Error(`${e}: string expected`);return!0}function s0(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function o0(e){if(!Array.isArray(e))throw new Error("array expected")}function f9(e,n){if(!x9(!0,n))throw new Error(`${e}: array of strings expected`)}function OF(e,n){if(!x9(!1,n))throw new Error(`${e}: array of numbers expected`)}function p9(...e){let n=a=>a,t=(a,o)=>s=>a(o(s)),i=e.map(a=>a.encode).reduceRight(t,n),r=e.map(a=>a.decode).reduce(t,n);return{encode:i,decode:r}}function TF(e){let n=typeof e=="string"?e.split(""):e,t=n.length;f9("alphabet",n);let i=new Map(n.map((r,a)=>[r,a]));return{encode:r=>(o0(r),r.map(a=>{if(!Number.isSafeInteger(a)||a<0||a>=t)throw new Error(`alphabet.encode: digit index outside alphabet "${a}". Allowed: ${e}`);return n[a]})),decode:r=>(o0(r),r.map(a=>{a0("alphabet.decode",a);let o=i.get(a);if(o===void 0)throw new Error(`Unknown letter: "${a}". Allowed: ${e}`);return o}))}}function NF(e=""){return a0("join",e),{encode:n=>(f9("join.decode",n),n.join(e)),decode:n=>(a0("join.decode",n),n.split(e))}}function y9(e,n,t){if(n<2)throw new Error(`convertRadix: invalid from=${n}, base cannot be less than 2`);if(t<2)throw new Error(`convertRadix: invalid to=${t}, base cannot be less than 2`);if(o0(e),!e.length)return[];let i=0,r=[],a=Array.from(e,s=>{if(s0(s),s<0||s>=n)throw new Error(`invalid integer: ${s}`);return s}),o=a.length;for(;;){let s=0,u=!0;for(let d=i;d<o;d++){let m=a[d],l=n*s,c=l+m;if(!Number.isSafeInteger(c)||l/n!==s||c-m!==l)throw new Error("convertRadix: carry overflow");let h=c/t;s=c%t;let p=Math.floor(h);if(a[d]=p,!Number.isSafeInteger(p)||p*t+s!==c)throw new Error("convertRadix: carry overflow");if(u)p?u=!1:i=d;else continue}if(r.push(s),u)break}for(let s=0;s<e.length-1&&e[s]===0;s++)r.push(0);return r.reverse()}function IF(e){s0(e);let n=2**8;return{encode:t=>{if(!r0(t))throw new Error("radix.encode input should be Uint8Array");return y9(Array.from(t),n,e)},decode:t=>(OF("radix.decode",t),Uint8Array.from(y9(t,e,n)))}}function PF(e,n){return s0(e),AF(n),{encode(t){if(!r0(t))throw new Error("checksum.encode: input should be Uint8Array");let i=n(t).slice(0,e),r=new Uint8Array(t.length+e);return r.set(t),r.set(i,t.length),r},decode(t){if(!r0(t))throw new Error("checksum.decode: input should be Uint8Array");let i=t.slice(0,-e),r=t.slice(-e),a=n(i).slice(0,e);for(let o=0;o<e;o++)if(a[o]!==r[o])throw new Error("Invalid checksum");return i}}}var MF=e=>p9(IF(58),TF(e),NF("")),CF=MF("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var h9=e=>p9(PF(4,n=>e(e(n))),CF);var im=Vn.ProjectivePoint,u0=h9(_o);function g9(e){en(e);let n=e.length===0?"0":L5(e);return BigInt("0x"+n)}function DF(e){if(typeof e!="bigint")throw new Error("bigint expected");return z5(e.toString(16).padStart(64,"0"))}var jF=M4("Bitcoin seed"),d0={private:76066276,public:76067358},m0=2147483648,FF=e=>W5(_o(e)),BF=e=>fi(e).getUint32(0,!1),rm=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error("invalid number, should be from 0 to 2**32-1, got "+e);let n=new Uint8Array(4);return fi(n).setUint32(0,e,!1),n},am=class e{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return BF(this.pubHash)}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){let n=this.privateKey;if(!n)throw new Error("No private key");return u0.encode(this.serialize(this.versions.private,hr(new Uint8Array([0]),n)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return u0.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(n,t=d0){if(en(n),8*n.length<128||8*n.length>512)throw new Error("HDKey: seed length must be between 128 and 512 bits; 256 bits is advised, got "+n.length);let i=Ca(L4,jF,n);return new e({versions:t,chainCode:i.slice(32),privateKey:i.slice(0,32)})}static fromExtendedKey(n,t=d0){let i=u0.decode(n),r=fi(i),a=r.getUint32(0,!1),o={versions:t,depth:i[4],parentFingerprint:r.getUint32(5,!1),index:r.getUint32(9,!1),chainCode:i.slice(13,45)},s=i.slice(45),u=s[0]===0;if(a!==t[u?"private":"public"])throw new Error("Version mismatch");return u?new e({...o,privateKey:s.slice(1)}):new e({...o,publicKey:s})}static fromJSON(n){return e.fromExtendedKey(n.xpriv)}constructor(n){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!n||typeof n!="object")throw new Error("HDKey.constructor must not be called directly");if(this.versions=n.versions||d0,this.depth=n.depth||0,this.chainCode=n.chainCode||null,this.index=n.index||0,this.parentFingerprint=n.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(n.publicKey&&n.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(n.privateKey){if(!Vn.utils.isValidPrivateKey(n.privateKey))throw new Error("Invalid private key");this.privKey=typeof n.privateKey=="bigint"?n.privateKey:g9(n.privateKey),this.privKeyBytes=DF(this.privKey),this.pubKey=Vn.getPublicKey(n.privateKey,!0)}else if(n.publicKey)this.pubKey=im.fromHex(n.publicKey).toRawBytes(!0);else throw new Error("HDKey: no public or private key provided");this.pubHash=FF(this.pubKey)}derive(n){if(!/^[mM]'?/.test(n))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(n))return this;let t=n.replace(/^[mM]'?\//,"").split("/"),i=this;for(let r of t){let a=/^(\d+)('?)$/.exec(r),o=a&&a[1];if(!a||a.length!==3||typeof o!="string")throw new Error("invalid child index: "+r);let s=+o;if(!Number.isSafeInteger(s)||s>=m0)throw new Error("Invalid index");a[2]==="'"&&(s+=m0),i=i.deriveChild(s)}return i}deriveChild(n){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let t=rm(n);if(n>=m0){let s=this.privateKey;if(!s)throw new Error("Could not derive hardened child key");t=hr(new Uint8Array([0]),s,t)}else t=hr(this.pubKey,t);let i=Ca(L4,this.chainCode,t),r=g9(i.slice(0,32)),a=i.slice(32);if(!Vn.utils.isValidPrivateKey(r))throw new Error("Tweak bigger than curve order");let o={versions:this.versions,chainCode:a,depth:this.depth+1,parentFingerprint:this.fingerprint,index:n};try{if(this.privateKey){let s=Ce(this.privKey+r,Vn.CURVE.n);if(!Vn.utils.isValidPrivateKey(s))throw new Error("The tweak was out of range or the resulted private key is invalid");o.privateKey=s}else{let s=im.fromHex(this.pubKey).add(im.fromPrivateKey(r));if(s.equals(im.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");o.publicKey=s.toRawBytes(!0)}return new e(o)}catch{return this.deriveChild(n+1)}}sign(n){if(!this.privateKey)throw new Error("No privateKey set!");return en(n,32),Vn.sign(n,this.privKey).toCompactRawBytes()}verify(n,t){if(en(n,32),en(t,64),!this.publicKey)throw new Error("No publicKey set!");let i;try{i=Vn.Signature.fromCompact(t)}catch{return!1}return Vn.verify(i,n,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(n,t){if(!this.chainCode)throw new Error("No chainCode set");return en(t,33),hr(rm(n),new Uint8Array([this.depth]),rm(this.parentFingerprint),rm(this.index),this.chainCode,t)}};import{ec as VF,encode as HF,num as GF}from"starknet";function om(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)e[i]=t[i]}return e}var qF={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function l0(e,n){function t(r,a,o){if(!(typeof document>"u")){o=om({},n,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),r=encodeURIComponent(r).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var u in o)o[u]&&(s+="; "+u,o[u]!==!0&&(s+="="+o[u].split(";")[0]));return document.cookie=r+"="+e.write(a,r)+s}}function i(r){if(!(typeof document>"u"||arguments.length&&!r)){for(var a=document.cookie?document.cookie.split("; "):[],o={},s=0;s<a.length;s++){var u=a[s].split("="),d=u.slice(1).join("=");try{var m=decodeURIComponent(u[0]);if(o[m]=e.read(d,m),r===m)break}catch{}}return r?o[r]:o}}return Object.create({set:t,get:i,remove:function(r,a){t(r,"",om({},a,{expires:-1}))},withAttributes:function(r){return l0(this.converter,om({},this.attributes,r))},withConverter:function(r){return l0(om({},this.converter,r),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}var _r=l0(qF,{path:"/"});import{CallData as YF,TransactionFinalityStatus as JF}from"starknet";import{useCallback as v$,useEffect as b$,useState as k$}from"react";import{useEffect as _$,useState as w$}from"react";import{useEffect as A$,useState as O$}from"react";import{Account as N$,shortString as I$}from"starknet";import{Account as M$,RpcProvider as C$}from"starknet";var a$=LF(null);function WF(e){return`m/44'/9004'/0'/0/${e}`}function ZF(e,n){if(!e)throw"seed is undefined";let i=am.fromMasterSeed(GF.hexToBytes(e)).derive(WF(n));if(!i.privateKey)throw"childNode.privateKey is undefined";let r=VF.starkCurve.grindKey(i.privateKey);return HF.addHexPrefix(r)}var $F=()=>{try{let e="__test__";if(typeof window<"u")return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}return!1},Oo=$F(),b9=e=>{try{return e===""?null:JSON.parse(e)}catch(n){return console.error("Error parsing JSON data:",n,"Data:",e),null}},QF={keys:()=>Object.keys(Oo?window.localStorage:_r.get()),get:e=>b9(Oo?window.localStorage.getItem(e)||"":_r.get(e)||""),set:(e,n)=>{let t=JSON.stringify(n);Oo?window.localStorage.setItem(e,t):_r.set(e,t,{secure:!0,sameSite:"strict"})},remove:e=>{Oo?window.localStorage.removeItem(e):_r.remove(e)},clear:()=>{if(Oo)window.localStorage.clear();else{let e=_r.get();Object.keys(e).forEach(n=>_r.remove(n))}}},Si=QF,XF=async(e,n,t,i,r)=>{try{let a={contractAddress:t,entrypoint:"transfer",calldata:YF.compile([e,i,"0x0"])},o=await n.getNonce(),{transaction_hash:s}=await n.execute([a],void 0,{nonce:o,maxFee:r}),u=await n.waitForTransaction(s,{retryInterval:1e3,successStates:[JF.ACCEPTED_ON_L2]});if(!u)throw new Error("Transaction did not complete successfully.");return u}catch(a){throw console.error(a),a}},eB="10000000000000000",k9=class{masterAccount;accountClassHash;feeTokenAddress;provider;chainId="";account=null;isDeploying=!1;isInitialized=!1;setIsDeploying;afterDeploying;constructor({masterAccount:e,accountClassHash:n,feeTokenAddress:t=D5,rpcProvider:i}){this.masterAccount=e,this.accountClassHash=n,this.feeTokenAddress=t,this.provider=i}setIsDeployingCallback(e){this.setIsDeploying=e}setAfterDeployingCallback(e){this.afterDeploying=e}updateIsDeploying(e){this.isDeploying=e,this.setIsDeploying&&this.setIsDeploying(e)}getBurnerKey(){return`burners_${this.chainId}`}getBurnerStorage(){return Si.get(this.getBurnerKey())||{}}setActiveBurnerAccount(e){for(let n in e)if(e[n].active){this.account=new Ao(this.provider,n,e[n].privateKey,"1");return}}async isBurnerDeployed(e,n){if(n)try{return await this.masterAccount.getTransactionReceipt(n)!==null}catch{}try{let t=await this.masterAccount.getNonceForAddress(e);return BigInt(t)>0n}catch{}return!1}async init(e=!1){if(this.isInitialized)throw new Error("BurnerManager is already initialized");this.chainId=UF.decodeShortString(await this.provider.getChainId());let n=this.getBurnerStorage(),i=Object.keys(n).map(async a=>await this.isBurnerDeployed(a,n[a].deployTx)?null:a);(await Promise.all(i)).filter(a=>a!==null).forEach(a=>{e||(console.log(`Removing non-deployed burner at address ${a}.`),delete n[a])}),Object.keys(n).length?(Si.set(this.getBurnerKey(),n),this.setActiveBurnerAccount(n)):this.clear(),this.isInitialized=!0}list(){let e=this.getBurnerStorage();return Object.keys(e).map(n=>({address:n,active:e[n].active,masterAccount:e[n].masterAccount,accountIndex:e[n].accountIndex}))}select(e){let n=this.getBurnerStorage();if(!n[e])throw new Error("burner not found");for(let t in n)n[t].active=!1;n[e].active=!0,Si.set(this.getBurnerKey(),n),this.account=new Ao(this.provider,e,n[e].privateKey,"1")}deselect(){let e=this.getBurnerStorage();for(let n in e)e[n].active=!1;Si.set(this.getBurnerKey(),e),this.account=null}get(e){let n=this.getBurnerStorage();if(!n[e])throw new Error("burner not found");return new Ao(this.provider,e,n[e].privateKey,"1")}delete(e){let n=this.getBurnerStorage();if(!n[e])throw new Error("burner not found");delete n[e],Si.set(this.getBurnerKey(),n)}clear(){Si.remove(this.getBurnerKey())}getActiveAccount(){let e=this.getBurnerStorage();for(let n in e)if(e[n].active)return new Ao(this.provider,n,e[n].privateKey,"1");return null}generateKeysAndAddress(e){let n=e?.secret?ZF(e.secret,e.index||0):KF.randomAddress(),t=zF.starkCurve.getStarkKey(n);return{privateKey:n,publicKey:t,address:RF.calculateContractAddressFromHash(t,this.accountClassHash,v9.compile({publicKey:t}),0)}}async create(e){if(!this.isInitialized)throw new Error("BurnerManager is not initialized");if(!this.masterAccount)throw new Error("master wallet account not found");this.updateIsDeploying(!0);let{privateKey:n,publicKey:t,address:i}=this.generateKeysAndAddress(e),r=new Ao(this.provider,i,n,"1"),a="";if(!await this.isBurnerDeployed(i)){let u={classHash:this.accountClassHash,constructorCalldata:v9.compile({publicKey:t}),addressSalt:t},d=BigInt(e?.prefundedAmount||eB);if(d>0n)try{await XF(i,this.masterAccount,this.feeTokenAddress,d.toString(),e?.maxFee||0)}catch(l){console.error("burner manager create() error:",l),this.updateIsDeploying(!1)}try{let{transaction_hash:l}=await r.deployAccount(u);a=l}catch(l){throw this.updateIsDeploying(!1),l}if(!await this.masterAccount.waitForTransaction(a,{retryInterval:100}))throw new Error("Transaction did not complete successfully.")}let s=this.getBurnerStorage();for(let u in s)s[u].active=!1;if(s[i]={chainId:this.chainId,privateKey:n,publicKey:t,deployTx:a,masterAccount:this.masterAccount.address,active:!0},e?.secret&&(s[i].accountIndex=e.index),e?.metadata&&(s[i].metadata=e.metadata),this.account=r,this.updateIsDeploying(!1),Si.set(this.getBurnerKey(),s),this.afterDeploying)try{await this.afterDeploying({account:this.account,deployTx:a})}catch(u){console.log("error on afterDeploying",u)}return r}async copyBurnersToClipboard(){let e=this.getBurnerStorage();try{await navigator.clipboard.writeText(JSON.stringify(e))}catch(n){throw n}}async setBurnersFromClipboard(){try{let e=await navigator.clipboard.readText(),n=JSON.parse(e),t=null;for(let[i,r]of Object.entries(n))if(r.active){t=i;break}Si.set(this.getBurnerKey(),n),t&&this.select(t)}catch(e){throw e}}};import*as E9 from"@dojoengine/torii-client";import{Account as iB}from"starknet";var c0=O3();async function _9(e,n){let t=new tB(e.manifest,e.rpcUrl,n.viteVrfProviderAddress),i=await E9.createClient({rpcUrl:e.rpcUrl,toriiUrl:e.toriiUrl,relayUrl:e.relayUrl,worldAddress:e.manifest.world.address||""}),r=new k9({masterAccount:new iB(t.provider,e.masterAddress,e.masterPrivateKey),accountClassHash:e.accountClassHash,rpcProvider:t.provider,feeTokenAddress:e.feeTokenAddress});try{await r.init(),n.vitePublicDev===!0&&r.list().length===0&&await r.create()}catch(a){console.error(a)}return{toriiClient:i,contractComponents:nB(c0),provider:t,world:c0,burnerManager:r}}var dB=aB.instance(),mB=async(e,n,t,i=!0,r=!1)=>{i&&console.log("Starting syncEntities");let a={},o=uB(()=>{Object.keys(a).length>0&&(hd(a,n,i),a={})},200),s=await e.onEntityUpdated(t,(d,m)=>{i&&console.log("Entity updated",d),a[d]={...a[d],...m},o()}),u=await e.onEventMessageUpdated(t,r,(d,m)=>{i&&console.log("Event message updated",d),a[d]={...a[d],...m},o()});return{cancel:()=>{s.cancel(),u.cancel()}}};async function Q$(e,n){let t=await _9(e,n),i=oB(t),r=k5(t),a=e.state.setLoading,o=[{Keys:{keys:[y0.toString()],pattern_matching:"FixedLen",models:[]}},{Keys:{keys:[y0.toString(),void 0],pattern_matching:"FixedLen",models:[]}},{Keys:{keys:[y0.toString(),void 0,void 0],pattern_matching:"FixedLen",models:[]}},{Keys:{keys:[rB.toString(),void 0],pattern_matching:"FixedLen",models:[]}},{Keys:{keys:[sB.toString()],pattern_matching:"VariableLen",models:[]}}];a("config",!0);try{await Promise.all([co(t.toriiClient,{Composite:{operator:"Or",clauses:o}},t.contractComponents),co(t.toriiClient,{Keys:{keys:[void 0,void 0],pattern_matching:"FixedLen",models:["s0_eternum-CapacityConfigCategory","s0_eternum-ResourceCost"]}},t.contractComponents,[],[],4e4,!1)])}finally{a("config",!1)}a("hyperstructure",!0),await co(t.toriiClient,{Composite:{operator:"Or",clauses:[{Keys:{keys:[void 0,void 0],pattern_matching:"FixedLen",models:["s0_eternum-Epoch","s0_eternum-Progress","s0_eternum-LeaderboardRegisterContribution"]}},{Keys:{keys:[void 0,void 0,void 0],pattern_matching:"FixedLen",models:["s0_eternum-Contribution","s0_eternum-LeaderboardRegisterShare"]}}]}},t.contractComponents,[],[],4e4,!1).finally(()=>{a("hyperstructure",!1)}),a("singleKey",!0),await co(t.toriiClient,{Keys:{keys:[void 0],pattern_matching:"FixedLen",models:["s0_eternum-AddressName","s0_eternum-Realm","s0_eternum-PopulationConfig","s0_eternum-CapacityConfig","s0_eternum-ProductionConfig","s0_eternum-RealmLevelConfig","s0_eternum-BankConfig","s0_eternum-Bank","s0_eternum-Trade","s0_eternum-Structure","s0_eternum-Battle","s0_eternum-Guild","s0_eternum-LeaderboardRegistered","s0_eternum-Leaderboard","s0_eternum-LeaderboardRewardClaimed","s0_eternum-LeaderboardEntry"]}},t.contractComponents,[],[],4e4,!1).finally(()=>{a("singleKey",!1)});let s=await mB(t.toriiClient,t.contractComponents,[],!1);dB.setDojo(i),await t4(t.toriiClient,t.contractComponents.events,[],[],2e4,{Keys:{keys:[void 0],pattern_matching:"VariableLen",models:["s0_eternum-GameEnded"]}},!1,!1);let u=t4(t.toriiClient,t.contractComponents.events,[],[],2e4,{Keys:{keys:[void 0],pattern_matching:"VariableLen",models:["s0_eternum-HyperstructureFinished","s0_eternum-BattleClaimData","s0_eternum-BattleJoinData","s0_eternum-BattleLeaveData","s0_eternum-BattlePillageData","s0_eternum-BattleStartData","s0_eternum-AcceptOrder","s0_eternum-SwapEvent","s0_eternum-LiquidityEvent","s0_eternum-HyperstructureContribution"]}},!1,!1).finally(()=>{a("events",!1)});return{network:t,components:i,systemCalls:r,sync:s,eventSync:u}}import{BattleManager as lB,EternumGlobalConfig as cB}from"@bibliothecadao/eternum";import{useComponentValue as yB,useEntityQuery as xB}from"@dojoengine/react";import{useMemo as w9}from"react";var fB=(e,n)=>{let t=_(n,e),i=structuredClone(t);if(!i)return;let r=BigInt(cB.resources.resourcePrecision);return i.attack_army_health.current=i.attack_army_health.current/r,i.attack_army_health.lifetime=i.attack_army_health.lifetime/r,i.defence_army_health.current=i.defence_army_health.current/r,i.defence_army_health.lifetime=i.defence_army_health.lifetime/r,i},S9=(e,n,t,i)=>e.map(r=>{let a=fB(r,n);if(!a)return;let o=_(t,r);if(!o)return;let s=ee([$(i),q(t,{x:o.x,y:o.y})]);return{...a,position:o,isStructureBattle:s.size>0}}).filter(r=>!!r),pQ=e=>{let n=L(),t=yB(n.setup.components.Battle,M([BigInt(e)]));return w9(()=>new lB(n.setup.components,n.network.provider,e),[e,t])},hQ=({x:e,y:n})=>{let{setup:{components:{Battle:t,Position:i,Structure:r}}}=L(),a=xB([$(t),q(i,{x:e,y:n})]);return S9(a,t,i,r)},gQ=()=>{let{setup:{components:{Army:e,Battle:n,EntityOwner:t,Position:i,Structure:r}}}=L(),{playerRealms:a}=ba(),o=a();return w9(()=>{let u=o.map(d=>{let m=ee([$(e),ht(e,{battle_id:0}),q(t,{entity_owner_id:d.entity_id})]);return Array.from(m).map(c=>{let h=_(e,c);if(h)return M([BigInt(h.battle_id)])}).filter(c=>!!c)}).flatMap(d=>Array.from(d));return S9(u,n,i,r)},[o])};import{CapacityConfigCategory as pB,ContractAddress as A9,EternumGlobalConfig as sm,getArmyTotalCapacity as hB}from"@bibliothecadao/eternum";import{useEntityQuery as To}from"@dojoengine/react";import{useMemo as No}from"react";import{shortString as gB}from"starknet";var ot=(e,n,t,i,r,a,o,s,u,d,m,l,c,h,p,f,y)=>e.map(g=>{let k=_(t,g);if(!k)return;let v=_(l,g);if(!v)return;let E=_(c,g);if(!E)return;let S=_(h,M([BigInt(E.entity_owner_id)])),w=structuredClone(_(a,g));w?(w.current=w.current/BigInt(sm.resources.resourcePrecision),w.lifetime=w.lifetime/BigInt(sm.resources.resourcePrecision)):w={entity_id:k.entity_id,current:0n,lifetime:0n};let O=_(i,g),I=structuredClone(_(o,g));I?I.value=BigInt(I.value)/BigInt(sm.resources.resourcePrecision):I={entity_id:k.entity_id,value:0n};let D=_(s,g),W=M([BigInt(pB.Army)]),R=_(u,W),Q=R?hB(k,R):0n,se=_(d,g),F=se?se.value/BigInt(sm.resources.resourcePrecision):0n,A=_(m,g),T=_(f,g),B=_(r,g),Z=E&&_(p,M([BigInt(E.entity_owner_id)])),X=Z&&_(l,M([BigInt(Z.entity_id)])),ue=_(y,M([BigInt(E.entity_owner_id)])),me=ue&&_(l,M([BigInt(ue.entity_id)])),ge=(S?.address||0n)===A9(n),Se=S===void 0,ve=me&&v.x===me.x&&v.y===me.y;return{...k,protectee:O,health:w,movable:D,quantity:I,totalCapacity:Q,weight:F,arrivalTime:A,position:v,entityOwner:E,stamina:T,owner:S,realm:Z,homePosition:X,isMine:ge,isMercenary:Se,isHome:ve,name:B?gB.decodeShortString(B.name.toString()):`${O?"\u{1F6E1}\uFE0F":"\u{1F5E1}\uFE0F"}Army ${k.entity_id}`}}).filter(g=>g!==void 0),IQ=({entity_owner_entity_id:e})=>{let{setup:{components:{Position:n,EntityOwner:t,Owner:i,Health:r,Quantity:a,Movable:o,CapacityConfig:s,Weight:u,ArrivalTime:d,Realm:m,Army:l,Protectee:c,EntityName:h,Stamina:p,Structure:f}},account:{account:y}}=L(),g=To([$(l),q(t,{entity_owner_id:e})]);return{entityArmies:No(()=>ot(g,y.address,l,c,h,r,a,o,s,u,d,n,t,i,m,p,f),[g])}},O9=({entity_owner_entity_id:e})=>{let{setup:{components:{Position:n,EntityOwner:t,Owner:i,Health:r,Quantity:a,Movable:o,CapacityConfig:s,Weight:u,ArrivalTime:d,Realm:m,Army:l,Protectee:c,EntityName:h,Stamina:p,Structure:f}},account:{account:y}}=L(),g=To([$(l),$(n),$(a),q(t,{entity_owner_id:e})]);return{entityArmies:No(()=>ot(g,y.address,l,c,h,r,a,o,s,u,d,n,t,i,m,p,f),[g])}},PQ=()=>{let{setup:{components:{Position:e,EntityOwner:n,Owner:t,Health:i,Quantity:r,Movable:a,CapacityConfig:o,Weight:s,ArrivalTime:u,Realm:d,Army:m,Protectee:l,EntityName:c,Stamina:h,Structure:p}},account:{account:f}}=L();return g=>{let k=ee([q(m,{battle_id:g})]);return ot(Array.from(k),f.address,m,l,c,i,r,a,o,s,u,e,n,t,d,h,p)}},MQ=e=>{let{setup:{components:{Position:n,EntityOwner:t,Owner:i,Health:r,Quantity:a,Movable:o,CapacityConfig:s,Weight:u,ArrivalTime:d,Realm:m,Army:l,Protectee:c,EntityName:h,Stamina:p,Structure:f}},account:{account:y}}=L(),g=To([q(l,{entity_id:e})]);return ot(Array.from(g),y.address,l,c,h,r,a,o,s,u,d,n,t,i,m,p,f)[0]},CQ=e=>{let{account:{account:n},setup:{components:{Position:t,EntityOwner:i,Owner:r,Health:a,Quantity:o,Movable:s,CapacityConfig:u,Weight:d,ArrivalTime:m,Realm:l,Army:c,Protectee:h,EntityName:p,Stamina:f,Structure:y}}}=L(),g=ee([$(c),ht(c,{battle_id:0}),q(c,{battle_id:e}),q(r,{address:A9(n.address)})]);return No(()=>ot(Array.from(g),n.address,c,h,p,a,o,s,u,d,m,t,i,r,l,f,y)[0],[e])},DQ=({position:e,inBattle:n,playerStructures:t})=>{{let{account:{account:i},setup:{components:{Position:r,EntityOwner:a,Owner:o,Health:s,Quantity:u,Movable:d,CapacityConfig:m,Weight:l,ArrivalTime:c,Realm:h,Army:p,Protectee:f,EntityName:y,Stamina:g,Structure:k}}}=L(),v=To([$(p),q(r,{x:e.x,y:e.y}),n4(f),n?ht(p,{battle_id:0}):q(p,{battle_id:0})]);return No(()=>ot(v,i.address,p,f,y,s,u,d,m,l,c,r,a,o,h,g,k).filter(S=>t.some(w=>w.entity_id===S.entityOwner.entity_owner_id)),[v,e.x,e.y])}},jQ=({position:e,playerStructures:n})=>{{let{account:{account:t},setup:{components:{Position:i,EntityOwner:r,Owner:a,Health:o,Quantity:s,Movable:u,CapacityConfig:d,Weight:m,ArrivalTime:l,Realm:c,Army:h,Protectee:p,EntityName:f,Stamina:y,Structure:g}}}=L(),k=To([$(h),q(i,{x:e.x,y:e.y}),n4(p)]);return No(()=>ot(k,t.address,h,p,f,o,s,u,d,m,l,i,r,a,c,y,g).filter(E=>n.every(S=>S.entity_id!==E.entityOwner.entity_owner_id)),[k])}},Io=()=>{let{setup:{components:{Position:e,EntityOwner:n,Owner:t,Health:i,Quantity:r,Movable:a,CapacityConfig:o,Weight:s,ArrivalTime:u,Realm:d,Army:m,Protectee:l,EntityName:c,Stamina:h,Structure:p}},account:{account:f}}=L();return{getAliveArmy:k=>{let v=ee([$(m),q(m,{entity_id:k})]);return ot(Array.from(v),f.address,m,l,c,i,r,a,o,s,u,e,n,t,d,h,p)[0]},getArmy:k=>{let v=ee([$(m),q(m,{entity_id:k})]);return ot(Array.from(v),f.address,m,l,c,i,r,a,o,s,u,e,n,t,d,h,p)[0]}}},FQ=()=>{let{account:{account:e},setup:{components:{Position:n,EntityOwner:t,Owner:i,Health:r,Quantity:a,Movable:o,CapacityConfig:s,Weight:u,ArrivalTime:d,Realm:m,Army:l,Protectee:c,EntityName:h,Stamina:p,Structure:f}}}=L();return g=>{let k=ee([$(l),q(n,{x:g.x,y:g.y})]);return ot(Array.from(k),e.address,l,c,h,r,a,o,s,u,d,n,t,i,m,p,f)}};import{ContractAddress as vB}from"@bibliothecadao/eternum";import{useEntityQuery as bB}from"@dojoengine/react";var HQ=e=>{let{account:{account:n},setup:{components:{Bank:t,Position:i,Owner:r,AddressName:a}}}=L(),o=e?[$(t),q(r,{address:vB(n.address)})]:[$(t)];return bB(o).map(u=>{let d=_(i,u);if(!d)return;let m=_(r,u),l=_(a,M([BigInt(m?.address||"0x0")])),c=_(t,u);return{entityId:d.entity_id,position:{x:d.x,y:d.y},owner:l?.name||"Bandits",ownerFee:c?Number(c.owner_fee_num)/Number(c.owner_fee_denom):0,depositFee:c?Number(c.owner_bridge_fee_dpt_percent):0,withdrawFee:c?Number(c.owner_bridge_fee_wtdr_percent):0}}).filter(Boolean)};import{BattleSide as T9}from"@bibliothecadao/eternum";import{useEntityQuery as x0}from"@dojoengine/react";import{useMemo as f0}from"react";var XQ=e=>{let{setup:{components:{events:{BattleStartData:n}}}}=L(),t=x0([q(n,{battle_entity_id:e})],{updateOnValueChange:!1});return f0(()=>t.map(r=>_(n,r)),[t])},eY=(e,n)=>{let{setup:{components:{events:{BattleJoinData:t}}}}=L(),i=x0([q(t,{battle_entity_id:e,...n?{joiner_side:T9[n]}:{}})],{updateOnValueChange:!1});return f0(()=>i.map(a=>_(t,a)),[i])},nY=(e,n)=>{let{setup:{components:{events:{BattleLeaveData:t}}}}=L(),i=x0([q(t,{battle_entity_id:e,...n?{leaver_side:T9[n]}:{}})],{updateOnValueChange:!1});return f0(()=>i.map(a=>_(t,a)),[i])};import{BuildingType as N9,configManager as I9,ResourceIdToMiningType as kB,ResourcesIds as P9}from"@bibliothecadao/eternum";var sY=()=>{let{setup:{components:{Building:e}}}=L();return{getBuildings:(t,i)=>{let r=ee([$(e),q(e,{outer_col:t,outer_row:i})]);return Array.from(r).map(a=>{let o=_(e,a);if(!o||!o.produced_resource_type)return;let s=I9.resourceOutput[o.produced_resource_type],u=I9.resourceInputs[o.produced_resource_type],d=o.category;return d=d.replace(/([a-z])([A-Z])/g,"$1 $2"),o.category===N9[N9.Resource]&&(d=P9[o.produced_resource_type]+" ",o.produced_resource_type!=P9.Dragonhide&&(d+=kB[o.produced_resource_type]),d=d.replace(/_/g," ")),{name:d,category:o.category,paused:o.paused,produced:s,consumed:u,bonusPercent:o.bonus_percent,innerCol:o.inner_col,innerRow:o.inner_row}}).filter(a=>a!=null)}}};import{ContractAddress as C9,configManager as M9,divideByPrecision as EB}from"@bibliothecadao/eternum";import{useEntityQuery as _B}from"@dojoengine/react";import{useCallback as D9}from"react";var gY=()=>{let{setup:{components:{Contribution:e}}}=L();return{getContributions:r=>Array.from(ee([q(e,{hyperstructure_entity_id:r})])).map(o=>_(e,o)),useContributionsByPlayerAddress:(r,a)=>_B([q(e,{hyperstructure_entity_id:a,player_address:r})]).map(s=>_(e,s)).filter(s=>s!==void 0),getContributionsTotalPercentage:(r,a)=>{let o=EB(a.reduce((u,{amount:d,resourceId:m})=>u+d*M9.getResourceRarity(m),0)),s=M9.getHyperstructureTotalContributableAmount(r);return o/s}}},wB=()=>{let{account:{account:e},setup:{components:{Contribution:n}}}=L();return D9(()=>{let i=ee([q(n,{player_address:C9(e.address)})]),r=Array.from(i).map(a=>_(n,a)?.hyperstructure_entity_id??0);return new Set(r)},[e.address])},vY=()=>{let{account:{account:e},setup:{components:{LeaderboardRegisterContribution:n}}}=L(),t=wB();return D9(()=>{let r=ee([q(n,{address:C9(e.address)})]),a=Array.from(r).map(s=>_(n,s)?.hyperstructure_entity_id).filter(s=>s!==void 0);console.log("registeredContributions",a);let o=Array.from(t());return console.log("hyperstructuresContributedTo",o),o.filter(s=>!a.some(u=>u===s))},[t])};import{toHexString as SB}from"@bibliothecadao/eternum";import{useEntityQuery as AB}from"@dojoengine/react";import{shortString as OB}from"starknet";var TY=()=>{let{setup:{components:{Structure:e,Position:n,Owner:t,EntityName:i,Building:r,Production:a}}}=L();return{fragmentMines:AB([$(e),q(e,{category:"FragmentMine"})]).map(s=>{let u=_(e,s),d=_(n,s),m=_(i,s),l=SB(_(t,M([BigInt(u.entity_id)]))?.address||0n),c=_(r,ee([q(r,{outer_entity_id:u.entity_id})]).values().next().value??"0"),h=_(a,ee([q(a,{entity_id:u.entity_id})]).values().next().value??"0");return{...u,...d,...c,...h,owner:l,name:m?OB.decodeShortString(m.name.toString()):`FragmentMine ${u?.entity_id}`}})}};import{calculateLordsShare as PB,calculatePlayerSharePercentage as MB,StructureType as F9}from"@bibliothecadao/eternum";import{shortString as CB}from"starknet";import{configManager as TB}from"@bibliothecadao/eternum";import{useEffect as NB,useState as IB}from"react";var j9=e=>{let[n,t]=IB(0n),{account:{account:i}}=L(),r=async a=>await i?.callContract({contractAddress:e.viteLordsAddress,entrypoint:"balance_of",calldata:[a]});return NB(()=>{let a=async()=>{try{let s=TB?.getResourceBridgeFeeSplitConfig()?.season_pool_fee_recipient;if(!s){console.error("Failed to get season pool fee recipient from config");return}let u="0x"+s.toString(16),d=await r(u);d&&d[0]&&t(BigInt(d[0]))}catch(s){console.error("Error getting prize pool:",s)}};a();let o=setInterval(a,6e4);return()=>clearInterval(o)},[]),n};var KY=e=>{let n=L(),{setup:{components:{Realm:t,Owner:i,GuildMember:r,AddressName:a,Hyperstructure:o,Structure:s}}}=n,{getEntityName:u}=Je(),d=Xi(p=>p.playersByRank),m=j9(e),l=ee([$(a)]),c=d.reduce((p,[,f])=>p+f,0);return()=>{let p=Array.from(Array.from(l)).map(y=>{let g=_(a,y);if(!g)return;let k=!!ee([q(i,{address:g.address})]).size,v=_(r,y),E=v?u(v.guild_entity_id):"";return{address:g.address,addressName:CB.decodeShortString(g.name.toString()),isAlive:k,guildName:E}}).filter(y=>y!==void 0),f=0;return p.map(y=>{let g=d.findIndex(([v])=>v===y.address);g===-1&&f++;let k=g===-1?0:d[g][1];return{name:y.addressName,address:y.address,points:k,rank:g===-1?Number.MAX_SAFE_INTEGER:g+1,percentage:MB(k,c),lords:PB(k,c,Number(dm(m))),realms:ee([$(t),q(i,{address:y.address})]).size,mines:ee([q(s,{category:F9[F9.FragmentMine]}),q(i,{address:y.address})]).size,hyperstructures:ee([$(o),q(i,{address:y.address})]).size,isAlive:y.isAlive,guildName:y.guildName||""}})}};import{ContractAddress as Po,DUMMY_HYPERSTRUCTURE_ENTITY_ID as DB,configManager as jB,divideByPrecision as B9,toHexString as FB,toInteger as q9}from"@bibliothecadao/eternum";import{useEntityQuery as p0}from"@dojoengine/react";import{useCallback as L9,useMemo as BB}from"react";import{shortString as qB}from"starknet";var iJ=()=>{let{account:{account:e},setup:{components:{Structure:n,Contribution:t,Position:i,Owner:r,EntityName:a,Hyperstructure:o}}}=L(),{getAddressNameFromEntity:s}=Je();return{hyperstructures:p0([$(n),q(n,{category:"Hyperstructure"})]).map(d=>{let m=_(o,d),l=_(n,d),c=_(i,d),h=m?zB(m?.entity_id,t):[],p=m?ee([$(r),q(r,{entity_id:m.entity_id})]).values().next().value:void 0,f=_(r,p||""),y=FB(f?.address||0n),g=Po(f?.address??0n)===Po(e.address),k=_(a,d),v=m?s(m.entity_id):"";return{...m,...l,...c,...h,owner:y,isOwner:g,ownerName:v,entityIdPoseidon:d,name:k?qB.decodeShortString(k.name.toString()):`Hyperstructure ${m?.entity_id===Number(DB)?"":m?.entity_id}`}})}},rJ=()=>{let{setup:{components:{Progress:e}}}=L();return n=>{let t=ee([$(e),q(e,{hyperstructure_entity_id:n})]),i=Array.from(t).map(o=>_(e,o)),{percentage:r,allProgresses:a}=z9(i,n);return{percentage:q9(r),progresses:a}}},aJ=e=>{let{setup:{components:{Progress:n}}}=L(),t=p0([$(n),q(n,{hyperstructure_entity_id:e})]);return BB(()=>{let i=t.map(o=>_(n,o)),{percentage:r,allProgresses:a}=z9(i,e);return{percentage:q9(r),progresses:a}},[t,e])},oJ=e=>{let{setup:{components:{Hyperstructure:n}}}=L();return p0([$(n),q(n,{entity_id:e})]).map(i=>_(n,i))},LB=()=>{let{account:{account:e},setup:{components:{Epoch:n}}}=L();return L9(()=>{let i=ee([$(n)]);return Array.from(i).map(r=>{let a=_(n,r);if(a?.owners.find(o=>{if(Po(o.value[0].value)===Po(e.address))return!0}))return{hyperstructure_entity_id:a?.hyperstructure_entity_id,epoch:a?.index}}).filter(r=>r!==void 0)},[e.address])},sJ=()=>{let{account:{account:e},setup:{components:{LeaderboardRegisterShare:n}}}=L(),t=LB();return L9(()=>{let r=t();console.log("epochs",r);let a=ee([$(n),q(n,{address:Po(e.address)})]),o=Array.from(a).map(s=>_(n,s)).filter(s=>s!==void 0);return console.log("registeredShares",o),r.filter(s=>!o.some(u=>u.epoch===s.epoch&&u.hyperstructure_entity_id===s.hyperstructure_entity_id))},[t])},zB=(e,n)=>{let t=ee([$(n),q(n,{hyperstructure_entity_id:e})]);return Array.from(t).map(i=>_(n,i))},z9=(e,n)=>{let t=0,i=jB.getHyperstructureRequiredAmounts(n).map(({resource:a,amount:o})=>{let s=e.find(m=>m.resource_type===a),u=s?Math.floor(B9(Number(s.amount))/o*100):0,d={hyperstructure_entity_id:n,resource_type:a,amount:s?B9(Number(s.amount)):0,percentage:u,costNeeded:o};return t+=u,d}),r=t/i.length;return{allProgresses:i,percentage:r}};import{useCallback as R9,useMemo as U9}from"react";import{useLocation as RB}from"wouter";import{useSearch as UB}from"wouter/use-location";var K9=()=>{let e=UB(),[n,t]=RB(),i=R9(s=>{t(s),window.dispatchEvent(new Event("urlChanged"))},[t]),r=U9(()=>n.includes("/map"),[n]),a=U9(()=>{let s=new URLSearchParams(e);return{col:Number(s.get("col")),row:Number(s.get("row"))}},[e]);return{isLocation:R9((s,u)=>a.col===s&&a.row===u,[a]),handleUrlChange:i,hexPosition:a,isMapView:r}};import{BuildingType as Co,ContractAddress as GB,QuestType as ye,TileManager as WB}from"@bibliothecadao/eternum";import{useComponentValue as ZB,useEntityQuery as v0}from"@dojoengine/react";import{useMemo as Hn}from"react";import{ResourcesIds as g0,getRealmNameById as KB}from"@bibliothecadao/eternum";import{useEntityQuery as V9}from"@dojoengine/react";import{useMemo as Mo,useState as VB}from"react";import{shortString as HB}from"starknet";function H9(){let{setup:{components:{Resource:e,Trade:n,Realm:t,DetachedResource:i,EntityName:r}}}=L(),a=m=>{let l=[],c=0n,h=_(i,M([BigInt(m),c]));for(;h;)l.push({resourceId:h.resource_type,amount:Number(h.resource_amount)}),c++,h=_(i,M([BigInt(m),c]));return l},o=m=>{let l=_(n,M([BigInt(m)]));if(!l)return{takerGets:[],makerGets:[]};let c=a(l.maker_gives_resources_id),h=a(l.taker_gives_resources_id);return{takerGets:c,makerGets:h}},s=(m,l)=>{let c=_(n,M([BigInt(l)]));if(!c)return{resourcesGet:[],resourcesGive:[]};let h=c.maker_id===m?a(c.taker_gives_resources_id):a(c.maker_gives_resources_id),p=c.maker_id===m?a(c.maker_gives_resources_id):a(c.taker_gives_resources_id);return{resourcesGet:h,resourcesGive:p}};function u(m,l){return m.map(h=>{let p=_(n,h);if(p){let{takerGets:f,makerGets:y}=o(p.trade_id),g=_(t,M([BigInt(p.maker_id)])),k=_(r,M([BigInt(p.maker_id)]))?.name,v=_(t,M([BigInt(p.maker_id)]));if(p.expires_at>l)return{makerName:HB.decodeShortString(k?.toString()||""),originName:KB(v?.realm_id||0),tradeId:p.trade_id,makerId:p.maker_id,takerId:p.taker_id,makerOrder:g?.order,expiresAt:Number(p.expires_at),takerGets:f,makerGets:y,ratio:h0(y,f),perLords:f[0]?.resourceId==g0.Lords?h0(y,f):h0(f,y)}}}).filter(Boolean)}return{getTradeResources:o,getTradeResourcesFromEntityViewpoint:s,canAcceptOffer:({realmEntityId:m,resourcesGive:l})=>{let c=!0;return Object.values(l).forEach(h=>{let p=_(e,M([BigInt(m),BigInt(h.resourceId)]));(p===void 0||p.balance<h.amount)&&(c=!1)}),c},computeTrades:u}}function G9(){let{setup:{components:{Status:e,Trade:n}}}=L(),{computeTrades:t}=H9(),i=z(u=>u.structureEntityId),{nextBlockTimestamp:r}=Rn(),[a,o]=VB([]),s=V9([q(e,{value:0n}),q(n,{maker_id:i})]);return Mo(()=>{if(!r)return;let u=t(s,r);o(u)},[s,r]),a}function wJ(){let{setup:{components:{Status:e,Trade:n}}}=L(),{playerRealms:t}=ba(),i=t().map(l=>l.entity_id),{nextBlockTimestamp:r}=Rn(),{computeTrades:a}=H9(),o=V9([q(e,{value:0n}),q(n,{taker_id:0})]),s=Mo(()=>a(o,r),[o]),u=Mo(()=>s.filter(l=>i.includes(l.makerId)),[s]),d=Mo(()=>s?[...s].filter(l=>l.takerGets.length===1&&l.takerGets[0]?.resourceId===g0.Lords):[],[s]),m=Mo(()=>s?[...s].filter(l=>l.takerGets.length===1&&l.makerGets[0]?.resourceId===g0.Lords):[],[s]);return{userTrades:u,bidOffers:d,askOffers:m}}var h0=(e,n)=>{let t=0;for(let r=0;r<e.length;r++)t+=e[r].amount;let i=0;for(let r=0;r<n.length;r++)i+=n[r].amount;return i/t};var W9=(i=>(i[i.InProgress=0]="InProgress",i[i.Completed=1]="Completed",i[i.Claimed=2]="Claimed",i))(W9||{}),Z9=()=>{let e=$B(),n=i=>{let r=e[i];return Hn(()=>({id:i,...Fo.get(i),status:r.status}),[e[i]])};return{quests:[n(ye.Settle),n(ye.BuildFood),n(ye.BuildResource),n(ye.PauseProduction),n(ye.CreateDefenseArmy),n(ye.CreateAttackArmy),n(ye.Travel),n(ye.CreateTrade)]}},$B=()=>{let{setup:e}=L(),n=z(y=>y.structureEntityId),t=v0([q(e.components.EntityOwner,{entity_owner_id:n||0})]),i=YB(n),{entityArmies:r}=O9({entity_owner_entity_id:n||0}),a=G9(),{getEntityInfo:o}=Je(),s=Hn(()=>o(n)?.position||{x:0,y:0},[n,o]),u=new WB(e.components,e.network.provider,{col:s.x,row:s.y}),d=Hn(()=>u.existingBuildings(),[s]),m=Hn(()=>d.some(y=>y.paused),[d]),l=Hn(()=>r.some(y=>y.protectee?.protectee_id===n&&y.quantity.value>0n),[r]),c=Hn(()=>r.some(y=>y.protectee===void 0&&y.quantity.value>0n),[r]),h=Hn(()=>JB(r,s),[r,s]),{questClaimStatus:p}=$9(),{unclaimedQuestsCount:f}=QB();return Hn(()=>({[ye.Settle]:{value:!0,status:p[ye.Settle]?2:1},[ye.BuildFood]:{value:p[ye.BuildFood]?null:i.food,status:p[ye.BuildFood]?2:i.food>0?1:0},[ye.BuildResource]:{value:p[ye.BuildResource]?null:i.resource,status:p[ye.BuildResource]?2:i.resource>0?1:0},[ye.PauseProduction]:{value:p[ye.PauseProduction]?null:m,status:p[ye.PauseProduction]?2:m?1:0},[ye.CreateDefenseArmy]:{value:p[ye.CreateDefenseArmy]?null:l,status:p[ye.CreateDefenseArmy]?2:l?1:0},[ye.CreateAttackArmy]:{value:p[ye.CreateAttackArmy]?null:c,status:p[ye.CreateAttackArmy]?2:c?1:0},[ye.Travel]:{value:p[ye.Travel]?null:h,status:p[ye.Travel]?2:h?1:0},[ye.CreateTrade]:{value:p[ye.CreateTrade]?null:a.length,status:p[ye.CreateTrade]?2:a.length>0?1:0}}),[n,p,f>0?t:null,f>0?a:null])},$9=()=>{let{setup:{components:{Quest:e,Realm:n}},account:{account:t}}=L(),i=z(u=>u.structureEntityId),a=ZB(n,M([BigInt(i)]))?.settler_address!==GB(t.address),o=v0([q(e,{entity_id:i||0})]);return{questClaimStatus:Hn(()=>{let u=BigInt(i||0),d=m=>m.every(l=>_(e,M([u,BigInt(l.id)]))?.completed);return Array.from(Fo.keys()).reduce((m,l)=>({...m,[l]:a||d(Fo.get(l)?.prizes||[])}),{})},[i,a,o,e])}},QB=()=>{let{questClaimStatus:e}=$9();return{unclaimedQuestsCount:Hn(()=>Object.values(e).filter(t=>!t).length,[e])}},YB=e=>{let{setup:{components:{BuildingQuantityv2:n}}}=L(),t=v0([q(n,{entity_id:e||0})]),i=r=>_(n,M([BigInt(e||0),BigInt(r)]))?.value||0;return Hn(()=>({food:i(Co.Farm)+i(Co.FishingVillage),resource:i(Co.Resource),workersHut:i(Co.WorkersHut),markets:i(Co.Market)}),[e,t])},qJ=e=>e.some(n=>n&&(Number(n.troops.knight_count)!==0||Number(n.troops.crossbowman_count)!==0||Number(n.troops.paladin_count)!==0)),JB=(e,n)=>e.some(t=>t&&n&&(t.position.x!==n.x||t.position.y!==n.y));import{ContractAddress as b0}from"@bibliothecadao/eternum";import{useEntityQuery as XB}from"@dojoengine/react";import{useCallback as k0,useEffect as Y9,useMemo as Q9,useState as E0}from"react";var eq=452312848583266388373324160190187140051835877600158453279131187530910662656n,nq=7237005577332262213973186563042994240829374041602535252466099000494570602496n,tq=7689318425915528602346510723233181380881209919202693705745230188025481265152n,iq=()=>Number(localStorage.getItem("WEIGHT_MINIMUM")||0)*1e3,rq=()=>{let{account:{account:e},setup:{components:{Position:n,Owner:t,EntityOwner:i,OwnedResourcesTracker:r,ArrivalTime:a,Weight:o,Structure:s}}}=L(),u=iq(),d=XB([$(s),q(t,{address:b0(e.address)})]),m=Q9(()=>d.map(y=>{let g=_(n,y);return{x:g?.x??0,y:g?.y??0,entityId:g?.entity_id||0}}),[d,n]),[l,c]=E0([]),h=k0(y=>{let g=_(o,y);return!!(g?.value&&Number(g.value)>=u)},[u]),p=k0(y=>{let g=_(n,y),k=_(a,y),v=_(r,y),E=_(i,y);if(!g||!k)return;let w=v?.resource_types===eq||v?.resource_types===nq||v?.resource_types===tq||h(y),O=M([BigInt(E?.entity_owner_id||0)]),D=_(t,O)?.address===b0(e.address),W=w&&!!v&&v.resource_types!==0n,R=m.find(Q=>Q.x===g.x&&Q.y===g.y);return{entityId:g.entity_id,recipientEntityId:R?.entityId||0,arrivesAt:k.arrives_at,isOwner:D,position:{x:g.x,y:g.y},hasResources:W,isHome:!!R}},[e,m]),f=k0(y=>{let g=_(i,y);return _(t,M([BigInt(g?.entity_owner_id||0)]))?.address===b0(e.address)},[e.address]);return Y9(()=>{let y=A3([$(n),$(o),$(a),$(i),ht(r,{resource_types:0n})],{runOnInit:!1}),g=(v,E)=>{if(!E)return v;if(!E.hasResources||!E.isHome||!E.isOwner)return v.filter(w=>w.entityId!==E.entityId);let S=v.findIndex(w=>w.entityId===E.entityId);return S!==-1?[...v.slice(0,S),E,...v.slice(S+1)]:[...v,E]},k=y.update$.subscribe(v=>{(Wi(v,n)||Wi(v,o)||Wi(v,i)||Wi(v,a)||Wi(v,r))&&c(E=>g(E,p(v.entity)))});return()=>k.unsubscribe()},[e,m,p,f]),Q9(()=>l.sort((y,g)=>Number(y.arrivesAt)-Number(g.arrivesAt)),[l])},$J=()=>{let[e,n]=E0(0),[t,i]=E0(0),r=rq(),{nextBlockTimestamp:a}=Rn();return Y9(()=>{let o=r.filter(u=>Number(u.arrivesAt)<=(a||0)&&u.hasResources).length,s=r.filter(u=>Number(u.arrivesAt)>(a||0)&&u.hasResources).length;n(o),i(s)},[r,a]),{arrivedNotificationLength:e,nonArrivedNotificationLength:t,arrivals:r}};import{useEffect as aq,useState as oq}from"react";var J9=()=>window.screen?.orientation?.type,JJ=()=>{let[e,n]=oq(),t=s=>{n(J9())},i=()=>{let s=document;return!!(s.fullscreenElement||s.mozFullScreenElement||s.webkitFullscreenElement||s.msFullscreenElement)},r=s=>{s.requestFullscreen?s.requestFullscreen():s.msRequestFullscreen?s.msRequestFullscreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.mozRequestFullScreen&&s.mozRequestFullScreen()},a=s=>{s.exitFullscreen?s.exitFullscreen():s.msExitFullscreen?s.msExitFullscreen():s.webkitExitFullscreen?s.webkitExitFullscreen():s.mozCancelFullScreen&&s.mozCancelFullScreen()},o=()=>{i()?a(document):r(document.documentElement)};return aq(()=>(n(J9()),window.addEventListener("orientationchange",t),()=>{window.removeEventListener("orientationchange",t)}),[]),{orientation:e,toggleFullScreen:o,isFullScreen:i}};import{configManager as sq}from"@bibliothecadao/eternum";import{useMemo as _0,useState as uq}from"react";var tX=()=>{let e=_0(()=>BigInt(sq.getSeasonConfig().startAt||0),[]),n=_0(()=>BigInt(Math.floor(Date.now()/1e3)),[]),[t,i]=uq(0n);return _0(()=>{if(n===0n||e===0n)return;let r=e-n;i(r);let a=setInterval(()=>{i(o=>o-1n)},1e3);return()=>clearInterval(a)},[n,e]),{seasonStart:e,countdown:t,nextBlockTimestamp:n}};import{StaminaManager as dq}from"@bibliothecadao/eternum";import{useComponentValue as mq}from"@dojoengine/react";import{useMemo as lq}from"react";var mX=e=>{let{setup:n}=L(),t=mq(n.components.Stamina,M([BigInt(e)]));return lq(()=>new dq(n.components,e),[e,t?.amount,t?.last_refill_tick])};import{QuestType as n6}from"@bibliothecadao/eternum";import{useEffect as fq}from"react";import{QuestType as Ai}from"@bibliothecadao/eternum";import{useCallback as cq,useMemo as yq}from"react";import{useShepherd as xq}from"react-shepherd";var X9=new Map([[Ai.Settle,D0],[Ai.BuildFood,O0],[Ai.BuildResource,T0],[Ai.PauseProduction,C0],[Ai.CreateDefenseArmy,I0],[Ai.CreateAttackArmy,N0],[Ai.Travel,j0],[Ai.CreateTrade,P0]]),e6=e=>{let n=xq(),t=yq(()=>new n.Tour({useModalOverlay:!0,exitOnEsc:!0,keyboardNavigation:!1,defaultStepOptions:{arrow:!0,cancelIcon:{enabled:!0}},steps:e}),[n,e]);return{handleStart:cq(()=>{t&&t.start()},[t])}};var NX=()=>{let{handleStart:e}=e6(X9.get(n6.Settle)),n=z(a=>a.showBlankOverlay),{quests:t}=Z9(),i=t.find(a=>a.id===n6.Settle),r=localStorage.getItem("tutorial")==="completed";fq(()=>{!r&&i?.status!==2&&!n&&e()},[i?.status,n,e])};import{ContractAddress as t6}from"@bibliothecadao/eternum";import{useEffect as pq,useMemo as hq}from"react";var qX=()=>{let{setup:{components:{Structure:e,Position:n,Owner:t}},account:{account:i}}=L(),{hexPosition:r,isMapView:a}=K9(),o=z(h=>h.setStructureEntityId),s=z(h=>h.isSpectatorMode),u=z(h=>h.structureEntityId),d=s?t6("0x0"):t6(i.address),{playerStructures:m}=ba(),l=m(),c=hq(()=>l[0],[u,l]);pq(()=>{let{x:h,y:p}=new gd({x:r.col,y:r.row}).getContract(),f=ee([$(e),q(n,{x:h,y:p})]).values().next().value,y=_(e,f??"0"),g=_(t,f??"0"),k=g?.address===BigInt(d);o(a?k?g.entity_id:c?.entity_id||Fa:y?.entity_id||Fa)},[c,a,r,d])};import{BattleManager as gq,ContractAddress as Nn,StructureType as r6,TickIds as vq,configManager as w0,currentTickCount as i6}from"@bibliothecadao/eternum";import{useMemo as Do}from"react";import{shortString as S0}from"starknet";var QX=({x:e,y:n})=>{let{account:{account:t},setup:{components:{Position:i,Structure:r,EntityOwner:a,Owner:o,Protector:s,AddressName:u}}}=L(),{getAliveArmy:d}=Io(),{getEntityName:m}=Je();return Do(()=>{let c=ee([q(i,{x:e,y:n}),$(r)]),h=Array.from(c)[0],p=_(r,h);if(!p)return;let f=_(a,h);if(!f)return;let y=_(o,M([BigInt(f?.entity_owner_id||0)])),g=y||{entity_id:p.entity_id,address:Nn(0n)},k=_(s,h),v=k?d(k.army_id):void 0,E=m(p.entity_id)||"",S=_(u,M([g?.address])),w=S?S0.decodeShortString(S.name.toString()):"Bandits";return{...p,entityOwner:f,owner:g,name:E,ownerName:w,protector:v,isMine:Nn(g?.address||0n)===Nn(t.address),isMercenary:g.address===0n}},[e,n])},YX=()=>{let{account:{account:e},setup:{components:{Position:n,Structure:t,EntityOwner:i,Owner:r,Protector:a}}}=L(),{getAliveArmy:o}=Io(),{getEntityName:s}=Je();return({x:d,y:m})=>{let l=ee([q(n,{x:d,y:m}),$(t)]),c=Array.from(l)[0],h=_(t,c);if(!h)return;let p=_(i,c);if(!p)return;let f=_(r,M([BigInt(p?.entity_owner_id||0)])),y=f||{entity_id:h.entity_id,address:Nn(0n)},g=_(a,c),k=g?o(g.army_id):void 0,v=s(h.entity_id);return{...h,entityOwner:p,owner:y,name:v,protector:k,isMine:Nn(y?.address||0n)===Nn(e.address),isMercenary:y.address===0n}}},JX=e=>{let{account:{account:n},setup:{components:{Structure:t,EntityOwner:i,Owner:r,Protector:a,Position:o,AddressName:s}}}=L(),{getEntityName:u}=Je(),{getAliveArmy:d}=Io();return Do(()=>{let l=M([BigInt(e)]),c=_(t,l);if(!c)return;let h=_(i,l);if(!h)return;let p=_(r,M([BigInt(h?.entity_owner_id||0)])),f=p||{entity_id:c.entity_id,address:Nn(0n)},y=_(a,l),g=y?d(y.army_id):void 0,k=_(s,M([f?.address])),v=k?S0.decodeShortString(k.name.toString()):"Bandits",E=u(e),S=_(o,l);return{...c,entityOwner:h,owner:f,name:E,position:S,protector:g,isMine:Nn(f?.address||0n)===Nn(n.address),isMercenary:f.address===0n,ownerName:v}},[e])},bq=()=>{let{account:{account:e},setup:{components:{Structure:n,EntityOwner:t,Owner:i,Protector:r,Position:a,AddressName:o}}}=L(),{getAliveArmy:s}=Io(),{getEntityName:u}=Je();return{getStructureByEntityId:m=>{let l=M([BigInt(m)]),c=_(n,l);if(!c)return;let h=_(t,l);if(!h)return;let p=_(i,M([BigInt(h?.entity_owner_id||0)])),f=p||{entity_id:c.entity_id,address:Nn(0n)},y=_(r,l),g=y?s(y.army_id):void 0,k=_(o,M([f?.address])),v=k?S0.decodeShortString(k.name.toString()):"Bandits",E=u(m),S=_(a,l);return{...c,entityOwner:h,owner:f,name:E,position:S,protector:g,isMine:Nn(f?.address||0n)===Nn(e.address),isMercenary:f.address===0n,ownerName:v}}}},XX=(e,n)=>{let t=r6[e?.category||0],i=i6(n),r=i6(Number(e?.created_at||0))+w0.getBattleGraceTickCount(t);return i<r},eee=(e,n)=>{let t=r6[e?.category||0],i=Do(()=>Number(e?.created_at||0)+(e?w0.getBattleGraceTickCount(t)*w0.getTick(vq.Armies):0),[e?.created_at,e?.category]);return Do(()=>n?i-n:0,[i,n])},nee=e=>{let n=L(),{nextBlockTimestamp:t}=Rn(),{getStructureByEntityId:i}=bq(),r=i(e);return Do(()=>new gq(n.setup.components,n.network.provider,r?.protector?.battle_id||0).isResourcesLocked(t),[r,t])};import{calculateDistance as kq}from"@bibliothecadao/eternum";function uee(){let{setup:{components:e}}=L();return{computeTravelTime:(t,i,r,a)=>{let o=_(e.Position,M([BigInt(t)])),s=_(e.Position,M([BigInt(i)]));if(!o||!s)return;let u=kq({x:Number(o.x),y:Number(o.y)},{x:Number(s.x),y:Number(s.y)})??0,d=Math.floor(u*r/60);return a?d*2:d}}}import{ResourcesIds as ke}from"@bibliothecadao/eternum";import{useCallback as a6}from"react";import Eq from"use-sound";var _q="/sound/",Ee={hoverClick:"ui/ui-click-1.wav",click:"ui/click-2.wav",sign:"ui/sign.mp3",fly:"ui/whoosh.mp3",levelUp:"ui/level-up.mp3",explore:"ui/explore.mp3",shovelMain:"ui/shovel_1.mp3",shovelAlternative:"ui/shovel_2.mp3",buildLabor:"buildings/workhuts.mp3",buildMilitary:"buildings/military.mp3",buildCastle:"buildings/castle.mp3",buildBarracks:"buildings/barracks.mp3",buildArcherRange:"buildings/archer_range.mp3",buildMageTower:"buildings/mage_tower.mp3",buildWorkHut:"buildings/workhuts.mp3",buildFishingVillage:"buildings/fishing_village.mp3",buildFarm:"buildings/farm.mp3",buildStorehouse:"buildings/storehouse.mp3",buildMine:"buildings/mine.mp3",buildMarket:"buildings/market.mp3",buildStables:"buildings/stables.mp3",buildLumberMill:"buildings/lumber_mill.mp3",destroyWooden:"buildings/destroy_wooden.mp3",destroyStone:"buildings/destroy_stone.mp3",addWheat:"resources/wheat.mp3",addFish:"resources/fish.mp3",addWood:"resources/wood.mp3",addStone:"resources/stone.mp3",addCoal:"resources/coal.mp3",addCopper:"resources/copper.mp3",addObsidian:"resources/obsidian.mp3",addSilver:"resources/silver.mp3",addIronwood:"resources/ironwood.mp3",addColdIron:"resources/cold_iron.mp3",addGold:"resources/gold.mp3",addHartwood:"resources/hartwood.mp3",addDiamonds:"resources/diamonds.mp3",addSapphire:"resources/sapphire.mp3",addRuby:"resources/ruby.mp3",addDeepCrystal:"resources/deep_crystal.mp3",addIgnium:"resources/ignium.mp3",addEtherealSilica:"resources/ethereal_silica.mp3",addTrueIce:"resources/true_ice.mp3",addTwilightQuartz:"resources/twilight_quartz.mp3",addAlchemicalSilver:"resources/alchemical_silver.mp3",addAdamantine:"resources/adamantine.mp3",addMithral:"resources/mithral.mp3",addDragonhide:"resources/dragonhide.mp3",addLords:"resources/lords.mp3",burnDonkey:"resources/burn_donkey.mp3",unitRunning:"units/running.mp3",unitRunningAlternative:"units/running_2.mp3",battleDefeat:"events/battle_defeat.mp3",battleVictory:"events/battle_victory.mp3",snap:"units/snap_1.mp3",sword1:"units/sword_1.mp3",subtleDrumTap:"units/subtle_drum_tap_1.mp3",unitSelected1:"units/army_selected1.mp3",unitSelected2:"units/army_selected2.mp3",unitSelected3:"units/army_selected3.mp3",unitMarching1:"units/marching1.mp3",unitMarching2:"units/marching2.mp3",gong:"events/gong.mp3"},_e=e=>{let n=z(u=>u.effectsLevel),t=z(u=>u.isSoundOn),[i,{stop:r,sound:a}]=Eq(_q+e,{volume:t?n/100:0}),o=a6(()=>{a&&a.fade(t?n/100:0,0,250)},[n,t,a]),s=a6(()=>{a&&(a.loop(!0),i())},[a,i]);return{play:i,stop:r,fade:o,repeat:s}},xee=()=>{let{play:e}=_e(Ee.addWheat),{play:n}=_e(Ee.addFish),{play:t}=_e(Ee.addWood),{play:i}=_e(Ee.addStone),{play:r}=_e(Ee.addCoal),{play:a}=_e(Ee.addCopper),{play:o}=_e(Ee.addObsidian),{play:s}=_e(Ee.addSilver),{play:u}=_e(Ee.addIronwood),{play:d}=_e(Ee.addColdIron),{play:m}=_e(Ee.addGold),{play:l}=_e(Ee.addHartwood),{play:c}=_e(Ee.addDiamonds),{play:h}=_e(Ee.addSapphire),{play:p}=_e(Ee.addRuby),{play:f}=_e(Ee.addDeepCrystal),{play:y}=_e(Ee.addIgnium),{play:g}=_e(Ee.addEtherealSilica),{play:k}=_e(Ee.addTrueIce),{play:v}=_e(Ee.addTwilightQuartz),{play:E}=_e(Ee.addAlchemicalSilver),{play:S}=_e(Ee.addAdamantine),{play:w}=_e(Ee.addMithral),{play:O}=_e(Ee.addDragonhide),{play:I}=_e(Ee.addLords);return{playResourceSound:W=>{switch(W){case ke.Fish:n();break;case ke.Wheat:e();break;case ke.Wood:t();break;case ke.Stone:i();break;case ke.Coal:r();break;case ke.Copper:a();break;case ke.Obsidian:o();break;case ke.Silver:s();break;case ke.Ironwood:u();break;case ke.ColdIron:d();break;case ke.Gold:m();break;case ke.Hartwood:l();break;case ke.Diamonds:c();break;case ke.Sapphire:h();break;case ke.Ruby:p();break;case ke.DeepCrystal:f();break;case ke.Ignium:y();break;case ke.EtherealSilica:g();break;case ke.TrueIce:k();break;case ke.TwilightQuartz:v();break;case ke.AlchemicalSilver:E();break;case ke.Adamantine:S();break;case ke.Mithral:w();break;case ke.Dragonhide:O();break;case ke.Lords:I();break;default:break}}}};export{UM as DojoContext,Wn as LeftView,i4 as LoadingStateKey,gd as Position,W9 as QuestStatus,Gn as RightView,V as StepButton,o6 as StructureProgress,Fa as UNDEFINED_STRUCTURE_ENTITY_ID,qJ as armyHasTroops,O0 as buildFoodSteps,T0 as buildResourceSteps,dB as configManager,N0 as createAttackArmySteps,M3 as createBlockchainStore,N3 as createBuildModeStoreSlice,I0 as createDefenseArmySteps,I3 as createPopupsSlice,C3 as createRealmStoreSlice,k5 as createSystemCalls,P3 as createThreeStoreSlice,P0 as createTradeSteps,D3 as createWorldStoreSlice,_q as dir,PQ as getArmiesByBattleId,FQ as getArmiesByPosition,Io as getArmyByEntityId,QG as getRealms,CQ as getUserArmyInBattle,C0 as pauseProductionSteps,Fo as questDetails,X9 as questSteps,D0 as settleSteps,Q$ as setup,_9 as setupNetwork,Ee as soundSelector,va as tracks,j0 as travelSteps,oH as useAccountStore,dH as useAddressStore,IQ as useArmiesByEntityOwner,O9 as useArmiesByEntityOwnerWithPositionAndQuantity,MQ as useArmyByArmyEntityId,eY as useBattleJoin,nY as useBattleLeave,pQ as useBattleManager,XQ as useBattleStart,hQ as useBattlesByPosition,sY as useBuildings,gY as useContributions,L as useDojo,jQ as useEnemyArmiesByPosition,ba as useEntities,Je as useEntitiesUtils,pV as useFetchBlockchainData,TY as useFragmentMines,KY as useGetAllPlayers,HQ as useGetBanks,rJ as useGetHyperstructureProgress,wB as useGetHyperstructuresWithContributionsFromPlayer,G9 as useGetMyOffers,LB as useGetPlayerEpochs,$G as useGetRealm,vY as useGetUnregisteredContributions,sJ as useGetUnregisteredEpochs,b5 as useGuilds,OW as useHyperstructureData,aJ as useHyperstructureProgress,oJ as useHyperstructureUpdates,iJ as useHyperstructures,nee as useIsResourcesLocked,XX as useIsStructureImmune,Xi as useLeaderBoardStore,IW as useMarketStore,CW as useModalStore,jV as useMusicPlayer,Rn as useNextBlockTimestamp,DQ as useOwnArmiesByPosition,xee as usePlayResourceSound,$J as usePlayerArrivalsNotifications,YG as usePlayerRealms,j9 as usePrizePool,K9 as useQuery,Z9 as useQuests,h5 as useRealm,AG as useResourceBalance,OG as useResourceManager,c5 as useResourcesUtils,JJ as useScreenOrientation,tX as useSeasonStart,wJ as useSetMarket,mX as useStaminaManager,NX as useStartingTutorial,QX as useStructureAtPosition,JX as useStructureByEntityId,YX as useStructureByPosition,qX as useStructureEntityId,eee as useStructureImmunityTimer,bq as useStructures,H9 as useTrade,uee as useTravel,e6 as useTutorial,z as useUIStore,_e as useUiSounds,QB as useUnclaimedQuestsCount,gQ as useUserBattles,xe as waitForElement,c0 as world};
/*! Bundled license information:

@latticexyz/utils/dist/index.js:
  (**
   * UUID.core.js - UUID.js for Minimalists
   *
   * @file
   * @author  LiosK
   * @version v4.2.0
   * @license Apache License 2.0: Copyright (c) 2010-2018 LiosK
   * @url https://github.com/LiosK/UUID.js/blob/master/src/uuid.core.js
   *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/poseidon.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/bip32/lib/esm/index.js:
  (*! scure-bip32 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) *)

js-cookie/dist/js.cookie.mjs:
  (*! js-cookie v3.0.5 | MIT *)
*/
//# sourceMappingURL=index.js.map