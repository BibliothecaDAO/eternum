import { EternumGlobalConfig } from "@bibliothecadao/eternum";
import { formatNumberWithSpaces } from "../../../src/utils/formatting";

# 🏛️ Hyperstructures

Hyperstructures are massive social engineering projects that can be constructucted in the Eternum world.

<img
  src="/buildings/hyperstructure.png"
  alt="Hyperstructure"
  width="200"
  className="relative z-[100000] float-right mt-20"
/>

## Construction Process

Initiating a Hyperstructure requires Ancient Fragments, precious artifacts that can only be obtained from Fragment
mines. Once you have the necessary Fragments, you can begin construction at any discovered location on the map. Once
constructed: {/* TODO: Dynamic Tick */}

- **No battle siege period**
- **One Eternum cycle immunity period** begins where it cannot be attacked
  > Note: Immunity ends on the start of the next Eternum day

### Contribution Modes

- **Public Mode**: Opens construction to all players
- **Tribe-only Mode**: Restricts contributions to members of the owner's tribe

### Building Requirements

Construction of a Hyperstructure demands careful resource management and coordination:

- Requires contributions of all 22 resource types
- Multiple players can participate in the construction
- Structure becomes operational once all requirements are met

Hyperstructures will require a random amount of resources based on resource tiers. This means that a Hyperstructure may
be cheaper to complete compared to other Hyperstructures. These are based on random values and will only be discovered
once a Hypersturcture is created.

## Victory Points System

Hyperstructures offer two distinct ways to earn victory points:

### Contributing to contruction

When a Hyperstructure is completed, contributors receive one-time point rewards based on:

- The quantity of resources they contributed
- The rarity value of their contributed resources

Finishing the construction of a hyperstructure awards
{formatNumberWithSpaces(EternumGlobalConfig.hyperstructures.hyperstructurePointsOnCompletion)} points, divided between
all contributors Points are calculated and distributed automatically upon construction completion.

### Holding shares of the Hyperstructure

Once operational, Hyperstructures become ongoing sources of points:

- {EternumGlobalConfig.hyperstructures.hyperstructurePointsPerCycle} points are generated each Eternum cycle
- Distribution follows a share-based system
- The structure owner can control and set share allocations
- Share modifications have a 48-hour cooldown period

## Strategic Considerations

💡 **Management**

> - Plan resource gathering before initialization
> - Consider tribe-only mode for security
> - Defend completed structures to maintain control
> - New owner gains share control upon capture
> - Previous share settings reset on capture
